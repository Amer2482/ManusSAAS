(()=>{var e={};e.id=14;e.ids=[14];e.modules={767:(e,t,n)=>{var i=n(57502);var r=n(30994);var o=n(44726);var s=n(9684);function a(t){var n="function"==typeof Map?new Map:void 0;return e.exports=a=function e(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return s(e,arguments,i(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},e.exports.__esModule=true,e.exports["default"]=e.exports,a(t)}e.exports=a,e.exports.__esModule=true,e.exports["default"]=e.exports},913:(e,t,n)=>{const i=n(70885);e.exports=e=>{if(typeof e!=="string"||!e){throw new TypeError("JWT must be a string")}const{0:t,1:n,2:r,length:o}=e.split(".");if(o===5){throw new TypeError("encrypted JWTs cannot be decoded")}if(o!==3){throw new Error("JWTs must have three components")}try{return{header:JSON.parse(i.decode(t)),payload:JSON.parse(i.decode(n)),signature:r}}catch(e){throw new Error("JWT is malformed")}}},1149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EmbeddedJWK=void 0;const i=n(97920);const r=n(25110);const o=n(99938);async function s(e,t){const n={...e,...t===null||t===void 0?void 0:t.header};if(!(0,r.default)(n.jwk)){throw new o.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object')}const s=await (0,i.importJWK)({...n.jwk,ext:true},n.alg,true);if(s instanceof Uint8Array||s.type!=="public"){throw new o.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key')}return s}t.EmbeddedJWK=s},1441:(e,t)=>{var n,i,r,o,s,a,c,l,p,d,u,h,f={},m=[],g=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,v=Array.isArray;function y(e,t){for(var n in t)e[n]=t[n];return e}function _(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function w(e,t,i){var r,o,s,a={};for(s in t)"key"==s?r=t[s]:"ref"==s?o=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?n.call(arguments,2):i),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===a[s]&&(a[s]=e.defaultProps[s]);return x(e,a,r,o,null)}function x(e,t,n,o,s){var a={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==s?++r:s,__i:-1,__u:0};return null==s&&null!=i.vnode&&i.vnode(a),a}function b(e){return e.children}function k(e,t){this.props=e,this.context=t}function E(e,t){if(null==t)return e.__?E(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?E(e):null}function S(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return S(e)}}function A(e){(!e.__d&&(e.__d=!0)&&s.push(e)&&!T.__r++||a!==i.debounceRendering)&&((a=i.debounceRendering)||c)(T)}function T(){var e,t,n,r,o,a,c,p;for(s.sort(l);e=s.shift();)e.__d&&(t=s.length,r=void 0,a=(o=(n=e).__v).__e,c=[],p=[],n.__P&&((r=y({},o)).__v=o.__v+1,i.vnode&&i.vnode(r),M(n.__P,r,o,n.__n,n.__P.namespaceURI,32&o.__u?[a]:null,c,null==a?E(o):a,!!(32&o.__u),p),r.__v=o.__v,r.__.__k[r.__i]=r,U(c,r,p),r.__e!=a&&S(r)),s.length>t&&s.sort(l));T.__r=0}function O(e,t,n,i,r,o,s,a,c,l,p){var d,u,h,g,v,y=i&&i.__k||m,_=t.length;for(n.__d=c,C(n,t,y),c=n.__d,d=0;d<_;d++)null!=(h=n.__k[d])&&(u=-1===h.__i?f:y[h.__i]||f,h.__i=d,M(e,h,u,r,o,s,a,c,l,p),g=h.__e,h.ref&&u.ref!=h.ref&&(u.ref&&J(u.ref,null,h),p.push(h.ref,h.__c||g,h)),null==v&&null!=g&&(v=g),65536&h.__u||u.__k===h.__k?c=P(h,c,e):"function"==typeof h.type&&void 0!==h.__d?c=h.__d:g&&(c=g.nextSibling),h.__d=void 0,h.__u&=-196609);n.__d=c,n.__e=v}function C(e,t,n){var i,r,o,s,a,c=t.length,l=n.length,p=l,d=0;for(e.__k=[],i=0;i<c;i++)null!=(r=t[i])&&"boolean"!=typeof r&&"function"!=typeof r?(s=i+d,(r=e.__k[i]="string"==typeof r||"number"==typeof r||"bigint"==typeof r||r.constructor==String?x(null,r,null,null,null):v(r)?x(b,{children:r},null,null,null):void 0===r.constructor&&r.__b>0?x(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=e,r.__b=e.__b+1,o=null,-1!==(a=r.__i=j(r,n,s,p))&&(p--,(o=n[a])&&(o.__u|=131072)),null==o||null===o.__v?(-1==a&&d--,"function"!=typeof r.type&&(r.__u|=65536)):a!==s&&(a==s-1?d--:a==s+1?d++:(a>s?d--:d++,r.__u|=65536))):r=e.__k[i]=null;if(p)for(i=0;i<l;i++)null!=(o=n[i])&&0==(131072&o.__u)&&(o.__e==e.__d&&(e.__d=E(o)),W(o,o))}function P(e,t,n){var i,r;if("function"==typeof e.type){for(i=e.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=e,t=P(i[r],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=E(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function j(e,t,n,i){var r=e.key,o=e.type,s=n-1,a=n+1,c=t[n];if(null===c||c&&r==c.key&&o===c.type&&0==(131072&c.__u))return n;if(i>(null!=c&&0==(131072&c.__u)?1:0))for(;s>=0||a<t.length;){if(s>=0){if((c=t[s])&&0==(131072&c.__u)&&r==c.key&&o===c.type)return s;s--}if(a<t.length){if((c=t[a])&&0==(131072&c.__u)&&r==c.key&&o===c.type)return a;a++}}return-1}function I(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||g.test(t)?n:n+"px"}function R(e,t,n,i,r){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||I(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||I(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?i?n.t=i.t:(n.t=p,e.addEventListener(t,o?u:d,o)):e.removeEventListener(t,o?u:d,o);else{if("http://www.w3.org/2000/svg"==r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function H(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.u)t.u=p++;else if(t.u<n.t)return;return n(i.event?i.event(t):t)}}}function M(e,t,n,r,o,s,a,c,l,p){var d,u,h,f,m,g,_,w,x,E,S,A,T,C,P,j,I=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(l=!!(32&n.__u),s=[c=t.__e=n.__e]),(d=i.__b)&&d(t);e:if("function"==typeof I)try{if(w=t.props,x="prototype"in I&&I.prototype.render,E=(d=I.contextType)&&r[d.__c],S=d?E?E.props.value:d.__:r,n.__c?_=(u=t.__c=n.__c).__=u.__E:(x?t.__c=u=new I(w,S):(t.__c=u=new k(w,S),u.constructor=I,u.render=L),E&&E.sub(u),u.props=w,u.state||(u.state={}),u.context=S,u.__n=r,h=u.__d=!0,u.__h=[],u._sb=[]),x&&null==u.__s&&(u.__s=u.state),x&&null!=I.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=y({},u.__s)),y(u.__s,I.getDerivedStateFromProps(w,u.__s))),f=u.props,m=u.state,u.__v=t,h)x&&null==I.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),x&&null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(x&&null==I.getDerivedStateFromProps&&w!==f&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(w,S),!u.__e&&(null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(w,u.__s,S)||t.__v===n.__v)){for(t.__v!==n.__v&&(u.props=w,u.state=u.__s,u.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(e){e&&(e.__=t)}),A=0;A<u._sb.length;A++)u.__h.push(u._sb[A]);u._sb=[],u.__h.length&&a.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(w,u.__s,S),x&&null!=u.componentDidUpdate&&u.__h.push(function(){u.componentDidUpdate(f,m,g)})}if(u.context=S,u.props=w,u.__P=e,u.__e=!1,T=i.__r,C=0,x){for(u.state=u.__s,u.__d=!1,T&&T(t),d=u.render(u.props,u.state,u.context),P=0;P<u._sb.length;P++)u.__h.push(u._sb[P]);u._sb=[]}else do{u.__d=!1,T&&T(t),d=u.render(u.props,u.state,u.context),u.state=u.__s}while(u.__d&&++C<25);u.state=u.__s,null!=u.getChildContext&&(r=y(y({},r),u.getChildContext())),x&&!h&&null!=u.getSnapshotBeforeUpdate&&(g=u.getSnapshotBeforeUpdate(f,m)),O(e,v(j=null!=d&&d.type===b&&null==d.key?d.props.children:d)?j:[j],t,n,r,o,s,a,c,l,p),u.base=t.__e,t.__u&=-161,u.__h.length&&a.push(u),_&&(u.__E=u.__=null)}catch(e){if(t.__v=null,l||null!=s){for(t.__u|=l?160:128;c&&8===c.nodeType&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,t.__e=c}else t.__e=n.__e,t.__k=n.__k;i.__e(e,t,n)}else null==s&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=N(n.__e,t,n,r,o,s,a,l,p);(d=i.diffed)&&d(t)}function U(e,t,n){t.__d=void 0;for(var r=0;r<n.length;r++)J(n[r],n[++r],n[++r]);i.__c&&i.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){i.__e(e,t.__v)}})}function N(e,t,r,o,s,a,c,l,p){var d,u,h,m,g,y,w,x=r.props,b=t.props,k=t.type;if("svg"===k?s="http://www.w3.org/2000/svg":"math"===k?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),null!=a){for(d=0;d<a.length;d++)if((g=a[d])&&"setAttribute"in g==!!k&&(k?g.localName===k:3===g.nodeType)){e=g,a[d]=null;break}}if(null==e){if(null===k)return document.createTextNode(b);e=document.createElementNS(s,k,b.is&&b),l&&(i.__m&&i.__m(t,a),l=!1),a=null}if(null===k)x===b||l&&e.data===b||(e.data=b);else{if(a=a&&n.call(e.childNodes),x=r.props||f,!l&&null!=a)for(x={},d=0;d<e.attributes.length;d++)x[(g=e.attributes[d]).name]=g.value;for(d in x)if(g=x[d],"children"==d);else if("dangerouslySetInnerHTML"==d)h=g;else if(!(d in b)){if("value"==d&&"defaultValue"in b||"checked"==d&&"defaultChecked"in b)continue;R(e,d,null,g,s)}for(d in b)g=b[d],"children"==d?m=g:"dangerouslySetInnerHTML"==d?u=g:"value"==d?y=g:"checked"==d?w=g:l&&"function"!=typeof g||x[d]===g||R(e,d,g,x[d],s);if(u)l||h&&(u.__html===h.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(h&&(e.innerHTML=""),O(e,v(m)?m:[m],t,r,o,"foreignObject"===k?"http://www.w3.org/1999/xhtml":s,a,c,a?a[0]:r.__k&&E(r,0),l,p),null!=a)for(d=a.length;d--;)_(a[d]);l||(d="value","progress"===k&&null==y?e.removeAttribute("value"):void 0!==y&&(y!==e[d]||"progress"===k&&!y||"option"===k&&y!==x[d])&&R(e,d,y,x[d],s),d="checked",void 0!==w&&w!==e[d]&&R(e,d,w,x[d],s))}return e}function J(e,t,n){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==t||(e.__u=e(t))}else e.current=t}catch(e){i.__e(e,n)}}function W(e,t,n){var r,o;if(i.unmount&&i.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||J(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){i.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&W(r[o],t,n||"function"!=typeof e.type);n||_(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function L(e,t,n){return this.constructor(e,n)}function D(e,t,r){var o,s,a,c;i.__&&i.__(e,t),s=(o="function"==typeof r)?null:r&&r.__k||t.__k,a=[],c=[],M(t,e=(!o&&r||t).__k=w(b,null,[e]),s||f,f,t.namespaceURI,!o&&r?[r]:s?null:t.firstChild?n.call(t.childNodes):null,a,!o&&r?r:s?s.__e:t.firstChild,o,c),U(a,e,c)}n=m.slice,i={__e:function(e,t,n,i){for(var r,o,s;t=t.__;)if((r=t.__c)&&!r.__)try{if((o=r.constructor)&&null!=o.getDerivedStateFromError&&(r.setState(o.getDerivedStateFromError(e)),s=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,i||{}),s=r.__d),s)return r.__E=r}catch(t){e=t}throw e}},r=0,o=function(e){return null!=e&&null==e.constructor},k.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=y({},this.state),"function"==typeof e&&(e=e(y({},n),this.props)),e&&y(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),A(this))},k.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),A(this))},k.prototype.render=b,s=[],c="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=function(e,t){return e.__v.__b-t.__v.__b},T.__r=0,p=0,d=H(!1),u=H(!0),h=0,t.Component=k,t.Fragment=b,t.cloneElement=function(e,t,i){var r,o,s,a,c=y({},e.props);for(s in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)"key"==s?r=t[s]:"ref"==s?o=t[s]:c[s]=void 0===t[s]&&void 0!==a?a[s]:t[s];return arguments.length>2&&(c.children=arguments.length>3?n.call(arguments,2):i),x(e.type,c,r||e.key,o||e.ref,null)},t.createContext=function(e,t){var n={__c:t="__cC"+h++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,i;return this.getChildContext||(n=new Set,(i={})[t]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.forEach(function(e){e.__e=!0,A(e)})},this.sub=function(e){n.add(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n&&n.delete(e),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n},t.createElement=w,t.createRef=function(){return{current:null}},t.h=w,t.hydrate=function e(t,n){D(t,n,e)},t.isValidElement=o,t.options=i,t.render=D,t.toChildArray=function e(t,n){return n=n||[],null==t||"boolean"==typeof t||(v(t)?t.some(function(t){e(t,n)}):n.push(t)),n}},1889:function(e,t,n){!function(e,i){true?i(t,n(1441)):0}(this,function(e,t){var n=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,i=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,r=/[\s\n\\/='"\0<>]/,o=/^xlink:?./,s=/["&<]/;function a(e){if(!1===s.test(e+=""))return e;for(var t=0,n=0,i="",r="";n<e.length;n++){switch(e.charCodeAt(n)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;default:continue}n!==t&&(i+=e.slice(t,n)),i+=r,t=n+1}return n!==t&&(i+=e.slice(t,n)),i}var c=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"	"))},l=function(e,t,n){return String(e).length>(t||40)||!n&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},p={},d=/([A-Z])/g;function u(e){var t="";for(var i in e){var r=e[i];null!=r&&""!==r&&(t&&(t+=" "),t+="-"==i[0]?i:p[i]||(p[i]=i.replace(d,"-$1").toLowerCase()),t="number"==typeof r&&!1===n.test(i)?t+": "+r+"px;":t+": "+r+";")}return t||void 0}function h(e,t){return Array.isArray(t)?t.reduce(h,e):null!=t&&!1!==t&&e.push(t),e}function f(){this.__d=!0}function m(e,t){return{__v:e,context:t,props:e.props,setState:f,forceUpdate:f,__d:!0,__h:[]}}function g(e,t){var n=e.contextType,i=n&&t[n.__c];return null!=n?i?i.props.value:n.__:t}var v=[];function y(e,n,s,p,d,f){if(null==e||"boolean"==typeof e)return"";if("object"!=typeof e)return"function"==typeof e?"":a(e);var _=s.pretty,w=_&&"string"==typeof _?_:"	";if(Array.isArray(e)){for(var x="",b=0;b<e.length;b++)_&&b>0&&(x+="\n"),x+=y(e[b],n,s,p,d,f);return x}if(void 0!==e.constructor)return"";var k,E=e.type,S=e.props,A=!1;if("function"==typeof E){if(A=!0,!s.shallow||!p&&!1!==s.renderRootComponent){if(E===t.Fragment){var T=[];return h(T,e.props.children),y(T,n,s,!1!==s.shallowHighOrder,d,f)}var O,C=e.__c=m(e,n);t.options.__b&&t.options.__b(e);var P=t.options.__r;if(E.prototype&&"function"==typeof E.prototype.render){var j=g(E,n);(C=e.__c=new E(S,j)).__v=e,C._dirty=C.__d=!0,C.props=S,null==C.state&&(C.state={}),null==C._nextState&&null==C.__s&&(C._nextState=C.__s=C.state),C.context=j,E.getDerivedStateFromProps?C.state=Object.assign({},C.state,E.getDerivedStateFromProps(C.props,C.state)):C.componentWillMount&&(C.componentWillMount(),C.state=C._nextState!==C.state?C._nextState:C.__s!==C.state?C.__s:C.state),P&&P(e),O=C.render(C.props,C.state,C.context)}else for(var I=g(E,n),R=0;C.__d&&R++<25;)C.__d=!1,P&&P(e),O=E.call(e.__c,S,I);return C.getChildContext&&(n=Object.assign({},n,C.getChildContext())),t.options.diffed&&t.options.diffed(e),y(O,n,s,!1!==s.shallowHighOrder,d,f)}E=(k=E).displayName||k!==Function&&k.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var n=-1,i=v.length;i--;)if(v[i]===e){n=i;break}n<0&&(n=v.push(e)-1),t="UnnamedComponent"+n}return t}(k)}var H,M,U="<"+E;if(S){var N=Object.keys(S);s&&!0===s.sortAttributes&&N.sort();for(var J=0;J<N.length;J++){var W=N[J],L=S[W];if("children"!==W){if(!r.test(W)&&(s&&s.allAttributes||"key"!==W&&"ref"!==W&&"__self"!==W&&"__source"!==W)){if("defaultValue"===W)W="value";else if("defaultChecked"===W)W="checked";else if("defaultSelected"===W)W="selected";else if("className"===W){if(void 0!==S.class)continue;W="class"}else d&&o.test(W)&&(W=W.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===W){if(S.for)continue;W="for"}"style"===W&&L&&"object"==typeof L&&(L=u(L)),"a"===W[0]&&"r"===W[1]&&"boolean"==typeof L&&(L=String(L));var D=s.attributeHook&&s.attributeHook(W,L,n,s,A);if(D||""===D)U+=D;else if("dangerouslySetInnerHTML"===W)M=L&&L.__html;else if("textarea"===E&&"value"===W)H=L;else if((L||0===L||""===L)&&"function"!=typeof L){if(!(!0!==L&&""!==L||(L=W,s&&s.xml))){U=U+" "+W;continue}if("value"===W){if("select"===E){f=L;continue}"option"===E&&f==L&&void 0===S.selected&&(U+=" selected")}U=U+" "+W+'="'+a(L)+'"'}}}else H=L}}if(_){var K=U.replace(/\n\s*/," ");K===U||~K.indexOf("\n")?_&&~U.indexOf("\n")&&(U+="\n"):U=K}if(U+=">",r.test(E))throw new Error(E+" is not a valid HTML tag name in "+U);var z,q=i.test(E)||s.voidElements&&s.voidElements.test(E),B=[];if(M)_&&l(M)&&(M="\n"+w+c(M,w)),U+=M;else if(null!=H&&h(z=[],H).length){for(var $=_&&~U.indexOf("\n"),F=!1,G=0;G<z.length;G++){var V=z[G];if(null!=V&&!1!==V){var X=y(V,n,s,!0,"svg"===E||"foreignObject"!==E&&d,f);if(_&&!$&&l(X)&&($=!0),X)if(_){var Q=X.length>0&&"<"!=X[0];F&&Q?B[B.length-1]+=X:B.push(X),F=Q}else B.push(X)}}if(_&&$)for(var Y=B.length;Y--;)B[Y]="\n"+w+c(B[Y],w)}if(B.length||M)U+=B.join("");else if(s&&s.xml)return U.substring(0,U.length-1)+" />";return!q||z||M?(_&&~U.indexOf("\n")&&(U+="\n"),U=U+"</"+E+">"):U=U.replace(/>$/," />"),U}var _={shallow:!0};b.render=b;var w=function(e,t){return b(e,t,_)},x=[];function b(e,n,i){n=n||{};var r=t.options.__s;t.options.__s=!0;var o,s=t.h(t.Fragment,null);return s.__k=[e],o=i&&(i.pretty||i.voidElements||i.sortAttributes||i.shallow||i.allAttributes||i.xml||i.attributeHook)?y(e,n,i):O(e,n,!1,void 0,s),t.options.__c&&t.options.__c(e,x),t.options.__s=r,x.length=0,o}function k(e){return null==e||"boolean"==typeof e?null:"string"==typeof e||"number"==typeof e||"bigint"==typeof e?t.h(null,null,e):e}function E(e,t){return"className"===e?"class":"htmlFor"===e?"for":"defaultValue"===e?"value":"defaultChecked"===e?"checked":"defaultSelected"===e?"selected":t&&o.test(e)?e.toLowerCase().replace(/^xlink:?/,"xlink:"):e}function S(e,t){return"style"===e&&null!=t&&"object"==typeof t?u(t):"a"===e[0]&&"r"===e[1]&&"boolean"==typeof t?String(t):t}var A=Array.isArray,T=Object.assign;function O(e,n,o,s,c){if(null==e||!0===e||!1===e||""===e)return"";if("object"!=typeof e)return"function"==typeof e?"":a(e);if(A(e)){var l="";c.__k=e;for(var p=0;p<e.length;p++)l+=O(e[p],n,o,s,c),e[p]=k(e[p]);return l}if(void 0!==e.constructor)return"";e.__=c,t.options.__b&&t.options.__b(e);var d=e.type,u=e.props;if("function"==typeof d){var h;if(d===t.Fragment)h=u.children;else{h=d.prototype&&"function"==typeof d.prototype.render?function(e,n){var i=e.type,r=g(i,n),o=new i(e.props,r);e.__c=o,o.__v=e,o.__d=!0,o.props=e.props,null==o.state&&(o.state={}),null==o.__s&&(o.__s=o.state),o.context=r,i.getDerivedStateFromProps?o.state=T({},o.state,i.getDerivedStateFromProps(o.props,o.state)):o.componentWillMount&&(o.componentWillMount(),o.state=o.__s!==o.state?o.__s:o.state);var s=t.options.__r;return s&&s(e),o.render(o.props,o.state,o.context)}(e,n):function(e,n){var i,r=m(e,n),o=g(e.type,n);e.__c=r;for(var s=t.options.__r,a=0;r.__d&&a++<25;)r.__d=!1,s&&s(e),i=e.type.call(r,e.props,o);return i}(e,n);var f=e.__c;f.getChildContext&&(n=T({},n,f.getChildContext()))}var v=O(h=null!=h&&h.type===t.Fragment&&null==h.key?h.props.children:h,n,o,s,e);return t.options.diffed&&t.options.diffed(e),e.__=void 0,t.options.unmount&&t.options.unmount(e),v}var y,_,w="<";if(w+=d,u)for(var x in y=u.children,u){var b=u[x];if(!("key"===x||"ref"===x||"__self"===x||"__source"===x||"children"===x||"className"===x&&"class"in u||"htmlFor"===x&&"for"in u||r.test(x))){if(b=S(x=E(x,o),b),"dangerouslySetInnerHTML"===x)_=b&&b.__html;else if("textarea"===d&&"value"===x)y=b;else if((b||0===b||""===b)&&"function"!=typeof b){if(!0===b||""===b){b=x,w=w+" "+x;continue}if("value"===x){if("select"===d){s=b;continue}"option"!==d||s!=b||"selected"in u||(w+=" selected")}w=w+" "+x+'="'+a(b)+'"'}}}var C=w;if(w+=">",r.test(d))throw new Error(d+" is not a valid HTML tag name in "+w);var P="",j=!1;if(_)P+=_,j=!0;else if("string"==typeof y)P+=a(y),j=!0;else if(A(y)){e.__k=y;for(var I=0;I<y.length;I++){var R=y[I];if(y[I]=k(R),null!=R&&!1!==R){var H=O(R,n,"svg"===d||"foreignObject"!==d&&o,s,e);H&&(P+=H,j=!0)}}}else if(null!=y&&!1!==y&&!0!==y){e.__k=[k(y)];var M=O(y,n,"svg"===d||"foreignObject"!==d&&o,s,e);M&&(P+=M,j=!0)}if(t.options.diffed&&t.options.diffed(e),e.__=void 0,t.options.unmount&&t.options.unmount(e),j)w+=P;else if(i.test(d))return C+" />";return w+"</"+d+">"}b.shallowRender=w,e.default=b,e.render=b,e.renderToStaticMarkup=b,e.renderToString=b,e.shallowRender=w})},2055:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createLocalJWKSet=t.LocalJWKSet=t.isJWKSLike=void 0;const i=n(97920);const r=n(99938);const o=n(25110);function s(e){switch(typeof e==="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new r.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}function a(e){return e&&typeof e==="object"&&Array.isArray(e.keys)&&e.keys.every(c)}t.isJWKSLike=a;function c(e){return(0,o.default)(e)}function l(e){if(typeof structuredClone==="function"){return structuredClone(e)}return JSON.parse(JSON.stringify(e))}class p{constructor(e){this._cached=new WeakMap;if(!a(e)){throw new r.JWKSInvalid("JSON Web Key Set malformed")}this._jwks=l(e)}async getKey(e,t){const{alg:n,kid:i}={...e,...t===null||t===void 0?void 0:t.header};const o=s(n);const a=this._jwks.keys.filter(e=>{let t=o===e.kty;if(t&&typeof i==="string"){t=i===e.kid}if(t&&typeof e.alg==="string"){t=n===e.alg}if(t&&typeof e.use==="string"){t=e.use==="sig"}if(t&&Array.isArray(e.key_ops)){t=e.key_ops.includes("verify")}if(t&&n==="EdDSA"){t=e.crv==="Ed25519"||e.crv==="Ed448"}if(t){switch(n){case"ES256":t=e.crv==="P-256";break;case"ES256K":t=e.crv==="secp256k1";break;case"ES384":t=e.crv==="P-384";break;case"ES512":t=e.crv==="P-521";break}}return t});const{0:c,length:l}=a;if(l===0){throw new r.JWKSNoMatchingKey}else if(l!==1){const e=new r.JWKSMultipleMatchingKeys;const{_cached:t}=this;e[Symbol.asyncIterator]=async function*(){for(const e of a){try{yield await d(t,e,n)}catch{continue}}};throw e}return d(this._cached,c,n)}}t.LocalJWKSet=p;async function d(e,t,n){const o=e.get(t)||e.set(t,{}).get(t);if(o[n]===undefined){const e=await (0,i.importJWK)({...t,ext:true},n);if(e instanceof Uint8Array||e.type!=="public"){throw new r.JWKSInvalid("JSON Web Key Set members must be public keys")}o[n]=e}return o[n]}function u(e){const t=new p(e);return async function(e,n){return t.getKey(e,n)}}t.createLocalJWKSet=u},2279:e=>{function t(e,t,n){if(!t[`${e}_endpoint`])return;const i=`${e}_endpoint_auth_method`;const r=`${e}_endpoint_auth_signing_alg`;const o=`${e}_endpoint_auth_signing_alg_values_supported`;if(n[i]&&n[i].endsWith("_jwt")&&!n[r]&&!t[o]){throw new TypeError(`${o} must be configured on the issuer if ${r} is not defined on a client`)}}function n(e,t){if(!e[t]){throw new TypeError(`${t} must be configured on the issuer`)}}e.exports={assertSigningAlgValuesSupport:t,assertIssuerConfiguration:n}},2594:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.concatKdf=t.lengthAndInput=t.uint32be=t.uint64be=t.p2s=t.concat=t.decoder=t.encoder=void 0;const i=n(37375);t.encoder=new TextEncoder;t.decoder=new TextDecoder;const r=2**32;function o(...e){const t=e.reduce((e,{length:t})=>e+t,0);const n=new Uint8Array(t);let i=0;e.forEach(e=>{n.set(e,i);i+=e.length});return n}t.concat=o;function s(e,n){return o(t.encoder.encode(e),new Uint8Array([0]),n)}t.p2s=s;function a(e,t,n){if(t<0||t>=r){throw new RangeError(`value must be >= 0 and <= ${r-1}. Received ${t}`)}e.set([t>>>24,t>>>16,t>>>8,t&255],n)}function c(e){const t=Math.floor(e/r);const n=e%r;const i=new Uint8Array(8);a(i,t,0);a(i,n,4);return i}t.uint64be=c;function l(e){const t=new Uint8Array(4);a(t,e);return t}t.uint32be=l;function p(e){return o(l(e.length),e)}t.lengthAndInput=p;async function d(e,t,n){const r=Math.ceil((t>>3)/32);const o=new Uint8Array(r*32);for(let t=0;t<r;t++){const r=new Uint8Array(4+e.length+n.length);r.set(l(t+1));r.set(e,4);r.set(n,4+e.length);o.set(await (0,i.default)("sha256",r),t*32)}return o.slice(0,t>>3)}t.concatKdf=d},2754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ProduceJWT=void 0;const i=n(69717);const r=n(25110);const o=n(86852);class s{constructor(e){if(!(0,r.default)(e)){throw new TypeError("JWT Claims Set MUST be an object")}this._payload=e}setIssuer(e){this._payload={...this._payload,iss:e};return this}setSubject(e){this._payload={...this._payload,sub:e};return this}setAudience(e){this._payload={...this._payload,aud:e};return this}setJti(e){this._payload={...this._payload,jti:e};return this}setNotBefore(e){if(typeof e==="number"){this._payload={...this._payload,nbf:e}}else{this._payload={...this._payload,nbf:(0,i.default)(new Date)+(0,o.default)(e)}}return this}setExpirationTime(e){if(typeof e==="number"){this._payload={...this._payload,exp:e}}else{this._payload={...this._payload,exp:(0,i.default)(new Date)+(0,o.default)(e)}}return this}setIssuedAt(e){if(typeof e==="undefined"){this._payload={...this._payload,iat:(0,i.default)(new Date)}}else{this._payload={...this._payload,iat:e}}return this}}t.ProduceJWT=s},3038:(e,t,n)=>{var i=n(24956)["default"];var r=n(7251);function o(e){var t=r(e,"string");return"symbol"==i(t)?t:t+""}e.exports=o,e.exports.__esModule=true,e.exports["default"]=e.exports},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3399:(e,t,n)=>{var i=n(3038);function r(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},4275:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(79428);const r=n(99938);const o=2;const s=3;const a=4;const c=48;const l=i.Buffer.from([0]);const p=i.Buffer.from([o]);const d=i.Buffer.from([s]);const u=i.Buffer.from([c]);const h=i.Buffer.from([a]);const f=e=>{if(e<128)return i.Buffer.from([e]);const t=i.Buffer.alloc(5);t.writeUInt32BE(e,1);let n=1;while(t[n]===0)n++;t[n-1]=128|5-n;return t.slice(n-1)};const m=new Map([["P-256",i.Buffer.from("06 08 2A 86 48 CE 3D 03 01 07".replace(/ /g,""),"hex")],["secp256k1",i.Buffer.from("06 05 2B 81 04 00 0A".replace(/ /g,""),"hex")],["P-384",i.Buffer.from("06 05 2B 81 04 00 22".replace(/ /g,""),"hex")],["P-521",i.Buffer.from("06 05 2B 81 04 00 23".replace(/ /g,""),"hex")],["ecPublicKey",i.Buffer.from("06 07 2A 86 48 CE 3D 02 01".replace(/ /g,""),"hex")],["X25519",i.Buffer.from("06 03 2B 65 6E".replace(/ /g,""),"hex")],["X448",i.Buffer.from("06 03 2B 65 6F".replace(/ /g,""),"hex")],["Ed25519",i.Buffer.from("06 03 2B 65 70".replace(/ /g,""),"hex")],["Ed448",i.Buffer.from("06 03 2B 65 71".replace(/ /g,""),"hex")]]);class g{constructor(){this.length=0;this.elements=[]}oidFor(e){const t=m.get(e);if(!t){throw new r.JOSENotSupported("Invalid or unsupported OID")}this.elements.push(t);this.length+=t.length}zero(){this.elements.push(p,i.Buffer.from([1]),l);this.length+=3}one(){this.elements.push(p,i.Buffer.from([1]),i.Buffer.from([1]));this.length+=3}unsignedInteger(e){if(e[0]&128){const t=f(e.length+1);this.elements.push(p,t,l,e);this.length+=2+t.length+e.length}else{let t=0;while(e[t]===0&&(e[t+1]&128)===0)t++;const n=f(e.length-t);this.elements.push(p,f(e.length-t),e.slice(t));this.length+=1+n.length+e.length-t}}octStr(e){const t=f(e.length);this.elements.push(h,f(e.length),e);this.length+=1+t.length+e.length}bitStr(e){const t=f(e.length+1);this.elements.push(d,f(e.length+1),l,e);this.length+=1+t.length+e.length+1}add(e){this.elements.push(e);this.length+=e.length}end(e=u){const t=f(this.length);return i.Buffer.concat([e,t,...this.elements],1+t.length+this.length)}}t["default"]=g},6680:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.merge=i;function n(e){return e&&typeof e==="object"&&!Array.isArray(e)}function i(e,...t){if(!t.length)return e;const r=t.shift();if(n(e)&&n(r)){for(const t in r){if(n(r[t])){if(!e[t])Object.assign(e,{[t]:{}});i(e[t],r[t])}else{Object.assign(e,{[t]:r[t]})}}}return i(e,...t)}},6702:(e,t)=>{var n=1;var i="=";function r(e){return h(d(g(e)))}function o(e){return f(d(g(e)))}function s(e,t){return m(d(g(e)),t)}function a(e,t){return h(u(g(e),g(t)))}function c(e,t){return f(u(g(e),g(t)))}function l(e,t,n){return m(u(g(e),g(t)),n)}function p(){return r("abc").toLowerCase()=="a9993e364706816aba3e25717850c26c9cd0d89d"}function d(e){return w(x(_(e),e.length*8))}function u(e,t){var n=_(e);if(n.length>16)n=x(n,e.length*8);var i=Array(16),r=Array(16);for(var o=0;o<16;o++){i[o]=n[o]^0x36363636;r[o]=n[o]^0x5c5c5c5c}var s=x(i.concat(_(t)),512+t.length*8);return w(x(r.concat(s),512+160))}function h(e){try{n}catch(e){n=0}var t=n?"0123456789ABCDEF":"0123456789abcdef";var i="";var r;for(var o=0;o<e.length;o++){r=e.charCodeAt(o);i+=t.charAt(r>>>4&15)+t.charAt(r&15)}return i}function f(e){try{i}catch(e){i=""}var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var n="";var r=e.length;for(var o=0;o<r;o+=3){var s=e.charCodeAt(o)<<16|(o+1<r?e.charCodeAt(o+1)<<8:0)|(o+2<r?e.charCodeAt(o+2):0);for(var a=0;a<4;a++){if(o*8+a*6>e.length*8)n+=i;else n+=t.charAt(s>>>6*(3-a)&63)}}return n}function m(e,t){var n=t.length;var i=Array();var r,o,s,a;var c=Array(Math.ceil(e.length/2));for(r=0;r<c.length;r++){c[r]=e.charCodeAt(r*2)<<8|e.charCodeAt(r*2+1)}while(c.length>0){a=Array();s=0;for(r=0;r<c.length;r++){s=(s<<16)+c[r];o=Math.floor(s/n);s-=o*n;if(a.length>0||o>0)a[a.length]=o}i[i.length]=s;c=a}var l="";for(r=i.length-1;r>=0;r--)l+=t.charAt(i[r]);var p=Math.ceil(e.length*8/(Math.log(t.length)/Math.log(2)));for(r=l.length;r<p;r++)l=t[0]+l;return l}function g(e){var t="";var n=-1;var i,r;while(++n<e.length){i=e.charCodeAt(n);r=n+1<e.length?e.charCodeAt(n+1):0;if(55296<=i&&i<=56319&&56320<=r&&r<=57343){i=65536+((i&1023)<<10)+(r&1023);n++}if(i<=127)t+=String.fromCharCode(i);else if(i<=2047)t+=String.fromCharCode(192|i>>>6&31,128|i&63);else if(i<=65535)t+=String.fromCharCode(224|i>>>12&15,128|i>>>6&63,128|i&63);else if(i<=2097151)t+=String.fromCharCode(240|i>>>18&7,128|i>>>12&63,128|i>>>6&63,128|i&63)}return t}function v(e){var t="";for(var n=0;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)&255,e.charCodeAt(n)>>>8&255);return t}function y(e){var t="";for(var n=0;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)>>>8&255,e.charCodeAt(n)&255);return t}function _(e){var t=Array(e.length>>2);for(var n=0;n<t.length;n++)t[n]=0;for(var n=0;n<e.length*8;n+=8)t[n>>5]|=(e.charCodeAt(n/8)&255)<<24-n%32;return t}function w(e){var t="";for(var n=0;n<e.length*32;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t}function x(e,t){e[t>>5]|=128<<24-t%32;e[(t+64>>9<<4)+15]=t;var n=Array(80);var i=0x67452301;var r=-0x10325477;var o=-0x67452302;var s=0x10325476;var a=-0x3c2d1e10;for(var c=0;c<e.length;c+=16){var l=i;var p=r;var d=o;var u=s;var h=a;for(var f=0;f<80;f++){if(f<16)n[f]=e[c+f];else n[f]=S(n[f-3]^n[f-8]^n[f-14]^n[f-16],1);var m=E(E(S(i,5),b(f,r,o,s)),E(E(a,n[f]),k(f)));a=s;s=o;o=S(r,30);r=i;i=m}i=E(i,l);r=E(r,p);o=E(o,d);s=E(s,u);a=E(a,h)}return Array(i,r,o,s,a)}function b(e,t,n,i){if(e<20)return t&n|~t&i;if(e<40)return t^n^i;if(e<60)return t&n|t&i|n&i;return t^n^i}function k(e){return e<20?0x5a827999:e<40?0x6ed9eba1:e<60?-0x70e44324:-0x359d3e2a}function E(e,t){var n=(e&65535)+(t&65535);var i=(e>>16)+(t>>16)+(n>>16);return i<<16|n&65535}function S(e,t){return e<<t|e>>>32-t}t.HMACSHA1=function(e,t){return c(e,t)}},7097:(e,t,n)=>{"use strict";n.r(t);n.d(t,{patchFetch:()=>T,routeModule:()=>k,serverHooks:()=>A,workAsyncStorage:()=>E,workUnitAsyncStorage:()=>S});var i={};n.r(i);n.d(i,{GET:()=>x,POST:()=>x});var r=n(96559);var o=n(48088);var s=n(37719);var a=n(19854);var c=n.n(a);var l=n(36344);var p=n(31055);const d=require("mongodb");var u=undefined&&undefined.__addDisposableResource||function(e,t,n){if(t!==null&&t!==void 0){if(typeof t!=="object"&&typeof t!=="function")throw new TypeError("Object expected.");var i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=t[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=t[Symbol.dispose]}if(typeof i!=="function")throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:i,async:n})}else if(n){e.stack.push({async:true})}return t};var h=undefined&&undefined.__disposeResources||function(e){return function(t){function n(n){t.error=t.hasError?new e(n,t.error,"An error was suppressed during disposal."):n;t.hasError=true}function i(){while(t.stack.length){var e=t.stack.pop();try{var r=e.dispose&&e.dispose.call(e.value);if(e.async)return Promise.resolve(r).then(i,function(e){n(e);return i()})}catch(e){n(e)}}if(t.hasError)throw t.error}return i()}}(typeof SuppressedError==="function"?SuppressedError:function(e,t,n){var i=new Error(n);return i.name="SuppressedError",i.error=e,i.suppressed=t,i});Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const f={Users:"users",Accounts:"accounts",Sessions:"sessions",VerificationTokens:"verification_tokens"};const m={from(e){const t={};for(const n in e){const i=e[n];if(n==="_id"){t.id=i.toHexString()}else if(n==="userId"){t[n]=i.toHexString()}else{t[n]=i}}return t},to(e){const t={_id:g(e.id)};for(const n in e){const i=e[n];if(n==="userId")t[n]=g(i);else if(n==="id")continue;else t[n]=i}return t}};function g(e){if(e?.length!==24)return new d.ObjectId;return new d.ObjectId(e)}function v(e,t={}){const{collections:n}=t;const{from:i,to:r}=m;const o=async()=>{const i=await (typeof e==="function"?e():e);const r=i.db(t.databaseName);const o={...f,...n};return{U:r.collection(o.Users),A:r.collection(o.Accounts),S:r.collection(o.Sessions),V:r.collection(o?.VerificationTokens),[Symbol.asyncDispose]:async()=>{await t.onClose?.(i)}}};return{async createUser(e){const t={stack:[],error:void 0,hasError:false};try{const n=r(e);const s=u(t,await o(),true);await s.U.insertOne(n);return i(n)}catch(e){t.error=e;t.hasError=true}finally{const e=h(t);if(e)await e}},async getUser(e){const t={stack:[],error:void 0,hasError:false};try{const n=u(t,await o(),true);const r=await n.U.findOne({_id:g(e)});if(!r)return null;return i(r)}catch(e){t.error=e;t.hasError=true}finally{const e=h(t);if(e)await e}},async getUserByEmail(e){const t={stack:[],error:void 0,hasError:false};try{const n=u(t,await o(),true);const r=await n.U.findOne({email:e});if(!r)return null;return i(r)}catch(e){t.error=e;t.hasError=true}finally{const e=h(t);if(e)await e}},async getUserByAccount(e){const t={stack:[],error:void 0,hasError:false};try{const n=u(t,await o(),true);const r=await n.A.findOne(e);if(!r)return null;const s=await n.U.findOne({_id:new d.ObjectId(r.userId)});if(!s)return null;return i(s)}catch(e){t.error=e;t.hasError=true}finally{const e=h(t);if(e)await e}},async updateUser(e){const t={stack:[],error:void 0,hasError:false};try{const{_id:n,...s}=r(e);const a=u(t,await o(),true);const c=await a.U.findOneAndUpdate({_id:n},{$set:s},{returnDocument:"after"});return i(c)}catch(e){t.error=e;t.hasError=true}finally{const e=h(t);if(e)await e}},async deleteUser(e){const t={stack:[],error:void 0,hasError:false};try{const n=g(e);const i=u(t,await o(),true);await Promise.all([i.A.deleteMany({userId:n}),i.S.deleteMany({userId:n}),i.U.deleteOne({_id:n})])}catch(e){t.error=e;t.hasError=true}finally{const e=h(t);if(e)await e}},linkAccount:async e=>{const t={stack:[],error:void 0,hasError:false};try{const n=r(e);const i=u(t,await o(),true);await i.A.insertOne(n);return n}catch(e){t.error=e;t.hasError=true}finally{const e=h(t);if(e)await e}},async unlinkAccount(e){const t={stack:[],error:void 0,hasError:false};try{const n=u(t,await o(),true);const r=await n.A.findOneAndDelete(e);return i(r)}catch(e){t.error=e;t.hasError=true}finally{const e=h(t);if(e)await e}},async getSessionAndUser(e){const t={stack:[],error:void 0,hasError:false};try{const n=u(t,await o(),true);const r=await n.S.findOne({sessionToken:e});if(!r)return null;const s=await n.U.findOne({_id:new d.ObjectId(r.userId)});if(!s)return null;return{user:i(s),session:i(r)}}catch(e){t.error=e;t.hasError=true}finally{const e=h(t);if(e)await e}},async createSession(e){const t={stack:[],error:void 0,hasError:false};try{const n=r(e);const s=u(t,await o(),true);await s.S.insertOne(n);return i(n)}catch(e){t.error=e;t.hasError=true}finally{const e=h(t);if(e)await e}},async updateSession(e){const t={stack:[],error:void 0,hasError:false};try{const{_id:n,...s}=r(e);const a=u(t,await o(),true);const c=await a.S.findOneAndUpdate({sessionToken:s.sessionToken},{$set:s},{returnDocument:"after"});return i(c)}catch(e){t.error=e;t.hasError=true}finally{const e=h(t);if(e)await e}},async deleteSession(e){const t={stack:[],error:void 0,hasError:false};try{const n=u(t,await o(),true);const r=await n.S.findOneAndDelete({sessionToken:e});return i(r)}catch(e){t.error=e;t.hasError=true}finally{const e=h(t);if(e)await e}},async createVerificationToken(e){const t={stack:[],error:void 0,hasError:false};try{const n=u(t,await o(),true);await n.V.insertOne(r(e));return e}catch(e){t.error=e;t.hasError=true}finally{const e=h(t);if(e)await e}},async useVerificationToken(e){const t={stack:[],error:void 0,hasError:false};try{const n=u(t,await o(),true);const i=await n.V.findOneAndDelete(e);if(!i)return null;const{_id:r,...s}=i;return s}catch(e){t.error=e;t.hasError=true}finally{const e=h(t);if(e)await e}}}};const y=new d.MongoClient(process.env.MONGODB_URI||"mongodb://localhost:27017/saasfast");const _=y.connect();const w={adapter:v(_),providers:[(0,l.A)({clientId:process.env.GOOGLE_ID||"",clientSecret:process.env.GOOGLE_SECRET||""}),(0,p.A)({server:{host:process.env.EMAIL_SERVER_HOST,port:process.env.EMAIL_SERVER_PORT,auth:{user:process.env.EMAIL_SERVER_USER,pass:process.env.EMAIL_SERVER_PASSWORD}},from:process.env.EMAIL_FROM})],pages:{signIn:"/auth/signin",signOut:"/auth/signout",error:"/auth/error",verifyRequest:"/auth/verify-request"},callbacks:{async session({session:e,user:t}){if(e?.user){e.user.id=t.id}return e},async jwt({user:e,token:t}){if(e){t.uid=e.id}return t}},session:{strategy:"database"}};const x=c()(w);const b="";const k=new r.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/auth/[...nextauth]/route",pathname:"/api/auth/[...nextauth]",filename:"route",bundlePath:"app/api/auth/[...nextauth]/route"},resolvedPagePath:"/home/project/src/app/api/auth/[...nextauth]/route.ts",nextConfigOutput:b,userland:i});const{workAsyncStorage:E,workUnitAsyncStorage:S,serverHooks:A}=k;function T(){return(0,s.patchFetch)({workAsyncStorage:E,workUnitAsyncStorage:S})}},7161:(e,t,n)=>{const i=n(55511);const[r,o]=process.version.substring(1).split(".").map(e=>parseInt(e,10));const s=r>12||r===12&&o>=8;const a=s&&i.getHashes().includes("shake256");e.exports=a},7180:(e,t,n)=>{"use strict";const i=n(55511);const r=n(29021);const o=n(48178);const s=n(27910).PassThrough;const a=n(91292);const c=n(18199);const l=n(63356);const p=n(89066);const d=n(74508);const u=n(38099);const h=n(89047);const f=n(39449);const m=n(41748);class g{constructor(e,t){this.nodeCounter=0;t=t||{};this.baseBoundary=t.baseBoundary||i.randomBytes(8).toString("hex");this.boundaryPrefix=t.boundaryPrefix||"--_NmP";this.disableFileAccess=!!t.disableFileAccess;this.disableUrlAccess=!!t.disableUrlAccess;this.normalizeHeaderKey=t.normalizeHeaderKey;this.date=new Date;this.rootNode=t.rootNode||this;this.keepBcc=!!t.keepBcc;if(t.filename){this.filename=t.filename;if(!e){e=c.detectMimeType(this.filename.split(".").pop())}}this.textEncoding=(t.textEncoding||"").toString().trim().charAt(0).toUpperCase();this.parentNode=t.parentNode;this.hostname=t.hostname;this.newline=t.newline;this.childNodes=[];this._nodeId=++this.rootNode.nodeCounter;this._headers=[];this._isPlainText=false;this._hasLongLines=false;this._envelope=false;this._raw=false;this._transforms=[];this._processFuncs=[];if(e){this.setHeader("Content-Type",e)}}createChild(e,t){if(!t&&typeof e==="object"){t=e;e=undefined}let n=new g(e,t);this.appendChild(n);return n}appendChild(e){if(e.rootNode!==this.rootNode){e.rootNode=this.rootNode;e._nodeId=++this.rootNode.nodeCounter}e.parentNode=this;this.childNodes.push(e);return e}replace(e){if(e===this){return this}this.parentNode.childNodes.forEach((t,n)=>{if(t===this){e.rootNode=this.rootNode;e.parentNode=this.parentNode;e._nodeId=this._nodeId;this.rootNode=this;this.parentNode=undefined;e.parentNode.childNodes[n]=e}});return e}remove(){if(!this.parentNode){return this}for(let e=this.parentNode.childNodes.length-1;e>=0;e--){if(this.parentNode.childNodes[e]===this){this.parentNode.childNodes.splice(e,1);this.parentNode=undefined;this.rootNode=this;return this}}}setHeader(e,t){let n=false,i;if(!t&&e&&typeof e==="object"){if(e.key&&"value"in e){this.setHeader(e.key,e.value)}else if(Array.isArray(e)){e.forEach(e=>{this.setHeader(e.key,e.value)})}else{Object.keys(e).forEach(t=>{this.setHeader(t,e[t])})}return this}e=this._normalizeHeaderKey(e);i={key:e,value:t};for(let t=0,r=this._headers.length;t<r;t++){if(this._headers[t].key===e){if(!n){this._headers[t]=i;n=true}else{this._headers.splice(t,1);t--;r--}}}if(!n){this._headers.push(i)}return this}addHeader(e,t){if(!t&&e&&typeof e==="object"){if(e.key&&e.value){this.addHeader(e.key,e.value)}else if(Array.isArray(e)){e.forEach(e=>{this.addHeader(e.key,e.value)})}else{Object.keys(e).forEach(t=>{this.addHeader(t,e[t])})}return this}else if(Array.isArray(t)){t.forEach(t=>{this.addHeader(e,t)});return this}this._headers.push({key:this._normalizeHeaderKey(e),value:t});return this}getHeader(e){e=this._normalizeHeaderKey(e);for(let t=0,n=this._headers.length;t<n;t++){if(this._headers[t].key===e){return this._headers[t].value}}}setContent(e){this.content=e;if(typeof this.content.pipe==="function"){this._contentErrorHandler=e=>{this.content.removeListener("error",this._contentErrorHandler);this.content=e};this.content.once("error",this._contentErrorHandler)}else if(typeof this.content==="string"){this._isPlainText=c.isPlainText(this.content);if(this._isPlainText&&c.hasLongerLines(this.content,76)){this._hasLongLines=true}}return this}build(e){let t;if(!e){t=new Promise((t,n)=>{e=a.callbackPromise(t,n)})}let n=this.createReadStream();let i=[];let r=0;let o=false;n.on("readable",()=>{let e;while((e=n.read())!==null){i.push(e);r+=e.length}});n.once("error",t=>{if(o){return}o=true;return e(t)});n.once("end",t=>{if(o){return}o=true;if(t&&t.length){i.push(t);r+=t.length}return e(null,Buffer.concat(i,r))});return t}getTransferEncoding(){let e=false;let t=(this.getHeader("Content-Type")||"").toString().toLowerCase().trim();if(this.content){e=(this.getHeader("Content-Transfer-Encoding")||"").toString().toLowerCase().trim();if(!e||!["base64","quoted-printable"].includes(e)){if(/^text\//i.test(t)){if(this._isPlainText&&!this._hasLongLines){e="7bit"}else if(typeof this.content==="string"||this.content instanceof Buffer){e=this._getTextEncoding(this.content)==="Q"?"quoted-printable":"base64"}else{e=this.textEncoding==="B"?"base64":"quoted-printable"}}else if(!/^(multipart|message)\//i.test(t)){e=e||"base64"}}}return e}buildHeaders(){let e=this.getTransferEncoding();let t=[];if(e){this.setHeader("Content-Transfer-Encoding",e)}if(this.filename&&!this.getHeader("Content-Disposition")){this.setHeader("Content-Disposition","attachment")}if(this.rootNode===this){if(!this.getHeader("Date")){this.setHeader("Date",this.date.toUTCString().replace(/GMT/,"+0000"))}this.messageId();if(!this.getHeader("MIME-Version")){this.setHeader("MIME-Version","1.0")}for(let e=this._headers.length-2;e>=0;e--){let t=this._headers[e];if(t.key==="Content-Type"){this._headers.splice(e,1);this._headers.push(t)}}}this._headers.forEach(e=>{let n=e.key;let i=e.value;let r;let o;let s={};let a=["From","Sender","To","Cc","Bcc","Reply-To","Date","References"];if(i&&typeof i==="object"&&!a.includes(n)){Object.keys(i).forEach(e=>{if(e!=="value"){s[e]=i[e]}});i=(i.value||"").toString();if(!i.trim()){return}}if(s.prepared){if(s.foldLines){t.push(c.foldLines(n+": "+i))}else{t.push(n+": "+i)}return}switch(e.key){case"Content-Disposition":r=c.parseHeaderValue(i);if(this.filename){r.params.filename=this.filename}i=c.buildHeaderValue(r);break;case"Content-Type":r=c.parseHeaderValue(i);this._handleContentType(r);if(r.value.match(/^text\/plain\b/)&&typeof this.content==="string"&&/[\u0080-\uFFFF]/.test(this.content)){r.params.charset="utf-8"}i=c.buildHeaderValue(r);if(this.filename){o=this._encodeWords(this.filename);if(o!==this.filename||/[\s'"\\;:/=(),<>@[\]?]|^-/.test(o)){o='"'+o+'"'}i+="; name="+o}break;case"Bcc":if(!this.keepBcc){return}break}i=this._encodeHeaderValue(n,i);if(!(i||"").toString().trim()){return}if(typeof this.normalizeHeaderKey==="function"){let e=this.normalizeHeaderKey(n,i);if(e&&typeof e==="string"&&e.length){n=e}}t.push(c.foldLines(n+": "+i,76))});return t.join("\r\n")}createReadStream(e){e=e||{};let t=new s(e);let n=t;let i;this.stream(t,e,e=>{if(e){n.emit("error",e);return}t.end()});for(let e=0,t=this._transforms.length;e<t;e++){i=typeof this._transforms[e]==="function"?this._transforms[e]():this._transforms[e];n.once("error",e=>{i.emit("error",e)});n=n.pipe(i)}i=new h;n.once("error",e=>{i.emit("error",e)});n=n.pipe(i);for(let e=0,t=this._processFuncs.length;e<t;e++){i=this._processFuncs[e];n=i(n)}if(this.newline){const e=["win","windows","dos","\r\n"].includes(this.newline.toString().toLowerCase());const t=e?new f:new m;const i=n.pipe(t);n.on("error",e=>i.emit("error",e));return i}return n}transform(e){this._transforms.push(e)}processFunc(e){this._processFuncs.push(e)}stream(e,t,n){let i=this.getTransferEncoding();let r;let o;let s=false;let a=e=>{if(s){return}s=true;n(e)};let c=()=>{let n=0;let i=()=>{if(n>=this.childNodes.length){e.write("\r\n--"+this.boundary+"--\r\n");return a()}let r=this.childNodes[n++];e.write((n>1?"\r\n":"")+"--"+this.boundary+"\r\n");r.stream(e,t,e=>{if(e){return a(e)}setImmediate(i)})};if(this.multipart){setImmediate(i)}else{return a()}};let d=()=>{if(this.content){if(Object.prototype.toString.call(this.content)==="[object Error]"){return a(this.content)}if(typeof this.content.pipe==="function"){this.content.removeListener("error",this._contentErrorHandler);this._contentErrorHandler=e=>a(e);this.content.once("error",this._contentErrorHandler)}let n=()=>{if(["quoted-printable","base64"].includes(i)){r=new(i==="base64"?p:l).Encoder(t);r.pipe(e,{end:false});r.once("end",c);r.once("error",e=>a(e));o=this._getStream(this.content);o.pipe(r)}else{o=this._getStream(this.content);o.pipe(e,{end:false});o.once("end",c)}o.once("error",e=>a(e))};if(this.content._resolve){let e=[];let t=0;let i=false;let r=this._getStream(this.content);r.on("error",e=>{if(i){return}i=true;a(e)});r.on("readable",()=>{let n;while((n=r.read())!==null){e.push(n);t+=n.length}});r.on("end",()=>{if(i){return}i=true;this.content._resolve=false;this.content._resolvedValue=Buffer.concat(e,t);setImmediate(n)})}else{setImmediate(n)}return}else{return setImmediate(c)}};if(this._raw){setImmediate(()=>{if(Object.prototype.toString.call(this._raw)==="[object Error]"){return a(this._raw)}if(typeof this._raw.pipe==="function"){this._raw.removeListener("error",this._contentErrorHandler)}let t=this._getStream(this._raw);t.pipe(e,{end:false});t.on("error",t=>e.emit("error",t));t.on("end",c)})}else{e.write(this.buildHeaders()+"\r\n\r\n");setImmediate(d)}}setEnvelope(e){let t;this._envelope={from:false,to:[]};if(e.from){t=[];this._convertAddresses(this._parseAddresses(e.from),t);t=t.filter(e=>e&&e.address);if(t.length&&t[0]){this._envelope.from=t[0].address}}["to","cc","bcc"].forEach(t=>{if(e[t]){this._convertAddresses(this._parseAddresses(e[t]),this._envelope.to)}});this._envelope.to=this._envelope.to.map(e=>e.address).filter(e=>e);let n=["to","cc","bcc","from"];Object.keys(e).forEach(t=>{if(!n.includes(t)){this._envelope[t]=e[t]}});return this}getAddresses(){let e={};this._headers.forEach(t=>{let n=t.key.toLowerCase();if(["from","sender","reply-to","to","cc","bcc"].includes(n)){if(!Array.isArray(e[n])){e[n]=[]}this._convertAddresses(this._parseAddresses(t.value),e[n])}});return e}getEnvelope(){if(this._envelope){return this._envelope}let e={from:false,to:[]};this._headers.forEach(t=>{let n=[];if(t.key==="From"||!e.from&&["Reply-To","Sender"].includes(t.key)){this._convertAddresses(this._parseAddresses(t.value),n);if(n.length&&n[0]){e.from=n[0].address}}else if(["To","Cc","Bcc"].includes(t.key)){this._convertAddresses(this._parseAddresses(t.value),e.to)}});e.to=e.to.map(e=>e.address);return e}messageId(){let e=this.getHeader("Message-ID");if(!e){e=this._generateMessageId();this.setHeader("Message-ID",e)}return e}setRaw(e){this._raw=e;if(this._raw&&typeof this._raw.pipe==="function"){this._contentErrorHandler=e=>{this._raw.removeListener("error",this._contentErrorHandler);this._raw=e};this._raw.once("error",this._contentErrorHandler)}return this}_getStream(e){let t;if(e._resolvedValue){t=new s;setImmediate(()=>{try{t.end(e._resolvedValue)}catch(e){t.emit("error",e)}});return t}else if(typeof e.pipe==="function"){return e}else if(e&&typeof e.path==="string"&&!e.href){if(this.disableFileAccess){t=new s;setImmediate(()=>t.emit("error",new Error("File access rejected for "+e.path)));return t}return r.createReadStream(e.path)}else if(e&&typeof e.href==="string"){if(this.disableUrlAccess){t=new s;setImmediate(()=>t.emit("error",new Error("Url access rejected for "+e.href)));return t}return u(e.href,{headers:e.httpHeaders})}else{t=new s;setImmediate(()=>{try{t.end(e||"")}catch(e){t.emit("error",e)}});return t}}_parseAddresses(e){return[].concat.apply([],[].concat(e).map(e=>{if(e&&e.address){e.address=this._normalizeAddress(e.address);e.name=e.name||"";return[e]}return d(e)}))}_normalizeHeaderKey(e){e=(e||"").toString().replace(/\r?\n|\r/g," ").trim().toLowerCase().replace(/^X-SMTPAPI$|^(MIME|DKIM|ARC|BIMI)\b|^[a-z]|-(SPF|FBL|ID|MD5)$|-[a-z]/gi,e=>e.toUpperCase()).replace(/^Content-Features$/i,"Content-features");return e}_handleContentType(e){this.contentType=e.value.trim().toLowerCase();this.multipart=/^multipart\//i.test(this.contentType)?this.contentType.substr(this.contentType.indexOf("/")+1):false;if(this.multipart){this.boundary=e.params.boundary=e.params.boundary||this.boundary||this._generateBoundary()}else{this.boundary=false}}_generateBoundary(){return this.rootNode.boundaryPrefix+"-"+this.rootNode.baseBoundary+"-Part_"+this._nodeId}_encodeHeaderValue(e,t){e=this._normalizeHeaderKey(e);switch(e){case"From":case"Sender":case"To":case"Cc":case"Bcc":case"Reply-To":return this._convertAddresses(this._parseAddresses(t));case"Message-ID":case"In-Reply-To":case"Content-Id":t=(t||"").toString().replace(/\r?\n|\r/g," ");if(t.charAt(0)!=="<"){t="<"+t}if(t.charAt(t.length-1)!==">"){t=t+">"}return t;case"References":t=[].concat.apply([],[].concat(t||"").map(e=>{e=(e||"").toString().replace(/\r?\n|\r/g," ").trim();return e.replace(/<[^>]*>/g,e=>e.replace(/\s/g,"")).split(/\s+/)})).map(e=>{if(e.charAt(0)!=="<"){e="<"+e}if(e.charAt(e.length-1)!==">"){e=e+">"}return e});return t.join(" ").trim();case"Date":if(Object.prototype.toString.call(t)==="[object Date]"){return t.toUTCString().replace(/GMT/,"+0000")}t=(t||"").toString().replace(/\r?\n|\r/g," ");return this._encodeWords(t);case"Content-Type":case"Content-Disposition":return(t||"").toString().replace(/\r?\n|\r/g," ");default:t=(t||"").toString().replace(/\r?\n|\r/g," ");return this._encodeWords(t)}}_convertAddresses(e,t){let n=[];t=t||[];[].concat(e||[]).forEach(e=>{if(e.address){e.address=this._normalizeAddress(e.address);if(!e.name){n.push(e.address.indexOf(" ")>=0?`<${e.address}>`:`${e.address}`)}else if(e.name){n.push(`${this._encodeAddressName(e.name)} <${e.address}>`)}if(e.address){if(!t.filter(t=>t.address===e.address).length){t.push(e)}}}else if(e.group){let i=(e.group.length?this._convertAddresses(e.group,t):"").trim();n.push(`${this._encodeAddressName(e.name)}:${i};`)}});return n.join(", ")}_normalizeAddress(e){e=(e||"").toString().replace(/[\x00-\x1F<>]+/g," ").trim();let t=e.lastIndexOf("@");if(t<0){return e}let n=e.substr(0,t);let i=e.substr(t+1);let r;try{r=o.toASCII(i.toLowerCase())}catch(e){}if(n.indexOf(" ")>=0){if(n.charAt(0)!=='"'){n='"'+n}if(n.substr(-1)!=='"'){n=n+'"'}}return`${n}@${r}`}_encodeAddressName(e){if(!/^[\w ]*$/.test(e)){if(/^[\x20-\x7e]*$/.test(e)){return'"'+e.replace(/([\\"])/g,"\\$1")+'"'}else{return c.encodeWord(e,this._getTextEncoding(e),52)}}return e}_encodeWords(e){return c.encodeWords(e,this._getTextEncoding(e),52,true)}_getTextEncoding(e){e=(e||"").toString();let t=this.textEncoding;let n;let i;if(!t){i=(e.match(/[\x00-\x08\x0B\x0C\x0E-\x1F\u0080-\uFFFF]/g)||[]).length;n=(e.match(/[a-z]/gi)||[]).length;t=i<n?"Q":"B"}return t}_generateMessageId(){return"<"+[2,2,2,6].reduce((e,t)=>e+"-"+i.randomBytes(t).toString("hex"),i.randomBytes(4).toString("hex"))+"@"+(this.getEnvelope().from||this.hostname||"localhost").split("@").pop()+">"}}e.exports=g},7251:(e,t,n)=>{var i=n(24956)["default"];function r(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},7552:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var i=n(55511);Object.defineProperty(t,"default",{enumerable:true,get:function(){return i.randomFillSync}})},7575:(e,t,n)=>{"use strict";const i=n(91645);const r=n(34631);const o=n(79551);function s(e,t,n,a){let c=o.parse(e);let l;let p;let d;l={host:c.hostname,port:Number(c.port)?Number(c.port):c.protocol==="https:"?443:80};if(c.protocol==="https:"){l.rejectUnauthorized=false;p=r.connect.bind(r)}else{p=i.connect.bind(i)}let u=false;let h=e=>{if(u){return}u=true;try{d.destroy()}catch(e){}a(e)};let f=()=>{let e=new Error("Proxy socket timed out");e.code="ETIMEDOUT";h(e)};d=p(l,()=>{if(u){return}let e={Host:n+":"+t,Connection:"close"};if(c.auth){e["Proxy-Authorization"]="Basic "+Buffer.from(c.auth).toString("base64")}d.write("CONNECT "+n+":"+t+" HTTP/1.1\r\n"+Object.keys(e).map(t=>t+": "+e[t]).join("\r\n")+"\r\n\r\n");let i="";let r=e=>{let t;let n;if(u){return}i+=e.toString("binary");if(t=i.match(/\r\n\r\n/)){d.removeListener("data",r);n=i.substr(t.index+t[0].length);i=i.substr(0,t.index);if(n){d.unshift(Buffer.from(n,"binary"))}u=true;t=i.match(/^HTTP\/\d+\.\d+ (\d+)/i);if(!t||(t[1]||"").charAt(0)!=="2"){try{d.destroy()}catch(e){}return a(new Error("Invalid response from proxy"+(t&&": "+t[1]||"")))}d.removeListener("error",h);d.removeListener("timeout",f);d.setTimeout(0);return a(null,d)}};d.on("data",r)});d.setTimeout(s.timeout||30*1e3);d.on("timeout",f);d.once("error",h)}e.exports=s},8157:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(67131);t["default"]=i.default},8346:(e,t,n)=>{"use strict";const i=n(94735);const r=n(89231);const o=n(20068);const s=n(16435);const a=n(91292);const c=n(49074);class l extends i{constructor(e){super();e=e||{};if(typeof e==="string"){e={url:e}}let t;let n=e.service;if(typeof e.getSocket==="function"){this.getSocket=e.getSocket}if(e.url){t=a.parseConnectionUrl(e.url);n=n||t.service}this.options=a.assign(false,e,t,n&&s(n));this.options.maxConnections=this.options.maxConnections||5;this.options.maxMessages=this.options.maxMessages||100;this.logger=a.getLogger(this.options,{component:this.options.component||"smtp-pool"});let i=new o(this.options);this.name="SMTP (pool)";this.version=c.version+"[client:"+i.version+"]";this._rateLimit={counter:0,timeout:null,waiting:[],checkpoint:false,delta:Number(this.options.rateDelta)||1e3,limit:Number(this.options.rateLimit)||0};this._closed=false;this._queue=[];this._connections=[];this._connectionCounter=0;this.idling=true;setImmediate(()=>{if(this.idling){this.emit("idle")}})}getSocket(e,t){return setImmediate(()=>t(null,false))}send(e,t){if(this._closed){return false}this._queue.push({mail:e,requeueAttempts:0,callback:t});if(this.idling&&this._queue.length>=this.options.maxConnections){this.idling=false}setImmediate(()=>this._processMessages());return true}close(){let e;let t=this._connections.length;this._closed=true;clearTimeout(this._rateLimit.timeout);if(!t&&!this._queue.length){return}for(let n=t-1;n>=0;n--){if(this._connections[n]&&this._connections[n].available){e=this._connections[n];e.close();this.logger.info({tnx:"connection",cid:e.id,action:"removed"},"Connection #%s removed",e.id)}}if(t&&!this._connections.length){this.logger.debug({tnx:"connection"},"All connections removed")}if(!this._queue.length){return}let n=()=>{if(!this._queue.length){this.logger.debug({tnx:"connection"},"Pending queue entries cleared");return}let t=this._queue.shift();if(t&&typeof t.callback==="function"){try{t.callback(new Error("Connection pool was closed"))}catch(t){this.logger.error({err:t,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,t.message)}}setImmediate(n)};setImmediate(n)}_processMessages(){let e;let t,n;if(this._closed){return}if(!this._queue.length){if(!this.idling){this.idling=true;this.emit("idle")}return}for(t=0,n=this._connections.length;t<n;t++){if(this._connections[t].available){e=this._connections[t];break}}if(!e&&this._connections.length<this.options.maxConnections){e=this._createConnection()}if(!e){this.idling=false;return}if(!this.idling&&this._queue.length<this.options.maxConnections){this.idling=true;this.emit("idle")}let i=e.queueEntry=this._queue.shift();i.messageId=(e.queueEntry.mail.message.getHeader("message-id")||"").replace(/[<>\s]/g,"");e.available=false;this.logger.debug({tnx:"pool",cid:e.id,messageId:i.messageId,action:"assign"},"Assigned message <%s> to #%s (%s)",i.messageId,e.id,e.messages+1);if(this._rateLimit.limit){this._rateLimit.counter++;if(!this._rateLimit.checkpoint){this._rateLimit.checkpoint=Date.now()}}e.send(i.mail,(t,n)=>{if(i===e.queueEntry){try{i.callback(t,n)}catch(t){this.logger.error({err:t,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,t.message)}e.queueEntry=false}})}_createConnection(){let e=new r(this);e.id=++this._connectionCounter;this.logger.info({tnx:"pool",cid:e.id,action:"conection"},"Created new pool resource #%s",e.id);e.on("available",()=>{this.logger.debug({tnx:"connection",cid:e.id,action:"available"},"Connection #%s became available",e.id);if(this._closed){this.close()}else{this._processMessages()}});e.once("error",t=>{if(t.code!=="EMAXLIMIT"){this.logger.error({err:t,tnx:"pool",cid:e.id},"Pool Error for #%s: %s",e.id,t.message)}else{this.logger.debug({tnx:"pool",cid:e.id,action:"maxlimit"},"Max messages limit exchausted for #%s",e.id)}if(e.queueEntry){try{e.queueEntry.callback(t)}catch(t){this.logger.error({err:t,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,t.message)}e.queueEntry=false}this._removeConnection(e);this._continueProcessing()});e.once("close",()=>{this.logger.info({tnx:"connection",cid:e.id,action:"closed"},"Connection #%s was closed",e.id);this._removeConnection(e);if(e.queueEntry){setTimeout(()=>{if(e.queueEntry){if(this._shouldRequeuOnConnectionClose(e.queueEntry)){this._requeueEntryOnConnectionClose(e)}else{this._failDeliveryOnConnectionClose(e)}}this._continueProcessing()},50)}else{this._continueProcessing()}});this._connections.push(e);return e}_shouldRequeuOnConnectionClose(e){if(this.options.maxRequeues===undefined||this.options.maxRequeues<0){return true}return e.requeueAttempts<this.options.maxRequeues}_failDeliveryOnConnectionClose(e){if(e.queueEntry&&e.queueEntry.callback){try{e.queueEntry.callback(new Error("Reached maximum number of retries after connection was closed"))}catch(t){this.logger.error({err:t,tnx:"callback",messageId:e.queueEntry.messageId,cid:e.id},"Callback error for #%s: %s",e.id,t.message)}e.queueEntry=false}}_requeueEntryOnConnectionClose(e){e.queueEntry.requeueAttempts=e.queueEntry.requeueAttempts+1;this.logger.debug({tnx:"pool",cid:e.id,messageId:e.queueEntry.messageId,action:"requeue"},"Re-queued message <%s> for #%s. Attempt: #%s",e.queueEntry.messageId,e.id,e.queueEntry.requeueAttempts);this._queue.unshift(e.queueEntry);e.queueEntry=false}_continueProcessing(){if(this._closed){this.close()}else{setTimeout(()=>this._processMessages(),100)}}_removeConnection(e){let t=this._connections.indexOf(e);if(t!==-1){this._connections.splice(t,1)}}_checkRateLimit(e){if(!this._rateLimit.limit){return e()}let t=Date.now();if(this._rateLimit.counter<this._rateLimit.limit){return e()}this._rateLimit.waiting.push(e);if(this._rateLimit.checkpoint<=t-this._rateLimit.delta){return this._clearRateLimit()}else if(!this._rateLimit.timeout){this._rateLimit.timeout=setTimeout(()=>this._clearRateLimit(),this._rateLimit.delta-(t-this._rateLimit.checkpoint));this._rateLimit.checkpoint=t}}_clearRateLimit(){clearTimeout(this._rateLimit.timeout);this._rateLimit.timeout=null;this._rateLimit.counter=0;this._rateLimit.checkpoint=false;while(this._rateLimit.waiting.length){let e=this._rateLimit.waiting.shift();setImmediate(e)}}isIdle(){return this.idling}verify(e){let t;if(!e){t=new Promise((t,n)=>{e=a.callbackPromise(t,n)})}let n=new r(this).auth;this.getSocket(this.options,(t,i)=>{if(t){return e(t)}let r=this.options;if(i&&i.connection){this.logger.info({tnx:"proxy",remoteAddress:i.connection.remoteAddress,remotePort:i.connection.remotePort,destHost:r.host||"",destPort:r.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",i.connection.remoteAddress,i.connection.remotePort,r.host||"",r.port||"");r=a.assign(false,r);Object.keys(i).forEach(e=>{r[e]=i[e]})}let s=new o(r);let c=false;s.once("error",t=>{if(c){return}c=true;s.close();return e(t)});s.once("end",()=>{if(c){return}c=true;return e(new Error("Connection closed"))});let l=()=>{if(c){return}c=true;s.quit();return e(null,true)};s.connect(()=>{if(c){return}if(n&&(s.allowsAuth||r.forceAuth)){s.login(n,t=>{if(c){return}if(t){c=true;s.close();return e(t)}l()})}else if(!n&&s.allowsAuth&&r.forceAuth){let t=new Error("Authentication info was not provided");t.code="NoAuth";c=true;s.close();return e(t)}else{l()}})});return t}}e.exports=l},8365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.oAuth1Client=r;t.oAuth1TokenStore=void 0;var i=n(11819);function r(e){var t,n;const r=e.provider;const o=new i.OAuth(r.requestTokenUrl,r.accessTokenUrl,r.clientId,r.clientSecret,(t=r.version)!==null&&t!==void 0?t:"1.0",r.callbackUrl,(n=r.encoding)!==null&&n!==void 0?n:"HMAC-SHA1");const s=o.get.bind(o);o.get=async(...e)=>{return await new Promise((t,n)=>{s(...e,(e,i)=>{if(e){return n(e)}t(i)})})};const a=o.getOAuthAccessToken.bind(o);o.getOAuthAccessToken=async(...e)=>{return await new Promise((t,n)=>{a(...e,(e,i,r)=>{if(e){return n(e)}t({oauth_token:i,oauth_token_secret:r})})})};const c=o.getOAuthRequestToken.bind(o);o.getOAuthRequestToken=async(e={})=>{return await new Promise((t,n)=>{c(e,(e,i,r,o)=>{if(e){return n(e)}t({oauth_token:i,oauth_token_secret:r,params:o})})})};return o}const o=t.oAuth1TokenStore=new Map},8494:(e,t,n)=>{"use strict";var i=n(55511);t=e.exports=r;function r(e,t){t=a(e,t);return l(e,t)}t.sha1=function(e){return r(e)};t.keys=function(e){return r(e,{excludeValues:true,algorithm:"sha1",encoding:"hex"})};t.MD5=function(e){return r(e,{algorithm:"md5",encoding:"hex"})};t.keysMD5=function(e){return r(e,{algorithm:"md5",encoding:"hex",excludeValues:true})};var o=i.getHashes?i.getHashes().slice():["sha1","md5"];o.push("passthrough");var s=["buffer","hex","binary","base64"];function a(e,t){t=t||{};var n={};n.algorithm=t.algorithm||"sha1";n.encoding=t.encoding||"hex";n.excludeValues=t.excludeValues?true:false;n.algorithm=n.algorithm.toLowerCase();n.encoding=n.encoding.toLowerCase();n.ignoreUnknown=t.ignoreUnknown!==true?false:true;n.respectType=t.respectType===false?false:true;n.respectFunctionNames=t.respectFunctionNames===false?false:true;n.respectFunctionProperties=t.respectFunctionProperties===false?false:true;n.unorderedArrays=t.unorderedArrays!==true?false:true;n.unorderedSets=t.unorderedSets===false?false:true;n.unorderedObjects=t.unorderedObjects===false?false:true;n.replacer=t.replacer||undefined;n.excludeKeys=t.excludeKeys||undefined;if(typeof e==="undefined"){throw new Error("Object argument required.")}for(var i=0;i<o.length;++i){if(o[i].toLowerCase()===n.algorithm.toLowerCase()){n.algorithm=o[i]}}if(o.indexOf(n.algorithm)===-1){throw new Error('Algorithm "'+n.algorithm+'"  not supported. '+"supported values: "+o.join(", "))}if(s.indexOf(n.encoding)===-1&&n.algorithm!=="passthrough"){throw new Error('Encoding "'+n.encoding+'"  not supported. '+"supported values: "+s.join(", "))}return n}function c(e){if(typeof e!=="function"){return false}var t=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i;return t.exec(Function.prototype.toString.call(e))!=null}function l(e,t){var n;if(t.algorithm!=="passthrough"){n=i.createHash(t.algorithm)}else{n=new d}if(typeof n.write==="undefined"){n.write=n.update;n.end=n.update}var r=p(t,n);r.dispatch(e);if(!n.update){n.end("")}if(n.digest){return n.digest(t.encoding==="buffer"?undefined:t.encoding)}var o=n.read();if(t.encoding==="buffer"){return o}return o.toString(t.encoding)}t.writeToStream=function(e,t,n){if(typeof n==="undefined"){n=t;t={}}t=a(e,t);return p(t,n).dispatch(e)};function p(e,t,n){n=n||[];var i=function(e){if(t.update){return t.update(e,"utf8")}else{return t.write(e,"utf8")}};return{dispatch:function(t){if(e.replacer){t=e.replacer(t)}var n=typeof t;if(t===null){n="null"}return this["_"+n](t)},_object:function(t){var r=/\[object (.*)\]/i;var o=Object.prototype.toString.call(t);var s=r.exec(o);if(!s){s="unknown:["+o+"]"}else{s=s[1]}s=s.toLowerCase();var a=null;if((a=n.indexOf(t))>=0){return this.dispatch("[CIRCULAR:"+a+"]")}else{n.push(t)}if(typeof Buffer!=="undefined"&&Buffer.isBuffer&&Buffer.isBuffer(t)){i("buffer:");return i(t)}if(s!=="object"&&s!=="function"&&s!=="asyncfunction"){if(this["_"+s]){this["_"+s](t)}else if(e.ignoreUnknown){return i("["+s+"]")}else{throw new Error('Unknown object type "'+s+'"')}}else{var l=Object.keys(t);if(e.unorderedObjects){l=l.sort()}if(e.respectType!==false&&!c(t)){l.splice(0,0,"prototype","__proto__","constructor")}if(e.excludeKeys){l=l.filter(function(t){return!e.excludeKeys(t)})}i("object:"+l.length+":");var p=this;return l.forEach(function(n){p.dispatch(n);i(":");if(!e.excludeValues){p.dispatch(t[n])}i(",")})}},_array:function(t,r){r=typeof r!=="undefined"?r:e.unorderedArrays!==false;var o=this;i("array:"+t.length+":");if(!r||t.length<=1){return t.forEach(function(e){return o.dispatch(e)})}var s=[];var a=t.map(function(t){var i=new d;var r=n.slice();var o=p(e,i,r);o.dispatch(t);s=s.concat(r.slice(n.length));return i.read().toString()});n=n.concat(s);a.sort();return this._array(a,false)},_date:function(e){return i("date:"+e.toJSON())},_symbol:function(e){return i("symbol:"+e.toString())},_error:function(e){return i("error:"+e.toString())},_boolean:function(e){return i("bool:"+e.toString())},_string:function(e){i("string:"+e.length+":");i(e.toString())},_function:function(t){i("fn:");if(c(t)){this.dispatch("[native]")}else{this.dispatch(t.toString())}if(e.respectFunctionNames!==false){this.dispatch("function-name:"+String(t.name))}if(e.respectFunctionProperties){this._object(t)}},_number:function(e){return i("number:"+e.toString())},_xml:function(e){return i("xml:"+e.toString())},_null:function(){return i("Null")},_undefined:function(){return i("Undefined")},_regexp:function(e){return i("regex:"+e.toString())},_uint8array:function(e){i("uint8array:");return this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){i("uint8clampedarray:");return this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){i("uint8array:");return this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){i("uint16array:");return this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){i("uint16array:");return this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){i("uint32array:");return this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){i("uint32array:");return this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){i("float32array:");return this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){i("float64array:");return this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){i("arraybuffer:");return this.dispatch(new Uint8Array(e))},_url:function(e){return i("url:"+e.toString(),"utf8")},_map:function(t){i("map:");var n=Array.from(t);return this._array(n,e.unorderedSets!==false)},_set:function(t){i("set:");var n=Array.from(t);return this._array(n,e.unorderedSets!==false)},_file:function(e){i("file:");return this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown){return i("[blob]")}throw Error("Hashing Blob objects is currently not supported\n"+"(see https://github.com/puleos/object-hash/issues/26)\n"+'Use "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return i("domwindow")},_bigint:function(e){return i("bigint:"+e.toString())},_process:function(){return i("process")},_timer:function(){return i("timer")},_pipe:function(){return i("pipe")},_tcp:function(){return i("tcp")},_udp:function(){return i("udp")},_tty:function(){return i("tty")},_statwatcher:function(){return i("statwatcher")},_securecontext:function(){return i("securecontext")},_connection:function(){return i("connection")},_zlib:function(){return i("zlib")},_context:function(){return i("context")},_nodescript:function(){return i("nodescript")},_httpparser:function(){return i("httpparser")},_dataview:function(){return i("dataview")},_signal:function(){return i("signal")},_fsevent:function(){return i("fsevent")},_tlswrap:function(){return i("tlswrap")}}}function d(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}},8535:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(99938);function r(e,t,n,r,o){if(o.crit!==undefined&&r.crit===undefined){throw new e('"crit" (Critical) Header Parameter MUST be integrity protected')}if(!r||r.crit===undefined){return new Set}if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(e=>typeof e!=="string"||e.length===0)){throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present')}let s;if(n!==undefined){s=new Map([...Object.entries(n),...t.entries()])}else{s=t}for(const t of r.crit){if(!s.has(t)){throw new i.JOSENotSupported(`Extension Header Parameter "${t}" is not recognized`)}if(o[t]===undefined){throw new e(`Extension Header Parameter "${t}" is missing`)}else if(s.get(t)&&r[t]===undefined){throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}}return new Set(r.crit)}t["default"]=r},8557:(e,t,n)=>{"use strict";var i=n(9168);Object.defineProperty(t,"__esModule",{value:true});t["default"]=a;var r=n(1441);var o=i(n(17696));function s(e,t=1){if(!e){return}e=e.replace(/^#/,"");if(e.length===3){e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]}const n=parseInt(e,16);const i=n>>16&255;const r=n>>8&255;const o=n&255;t=Math.min(Math.max(t,0),1);const a=`rgba(${i}, ${r}, ${o}, ${t})`;return a}function a(e){var t;const{csrfToken:n,providers:i,callbackUrl:a,theme:c,email:l,error:p}=e;const d=i.filter(e=>{if(e.type==="oauth"||e.type==="email"){return true}else if(e.type==="credentials"&&e.credentials){return true}return false});if(typeof document!=="undefined"&&c.buttonText){document.documentElement.style.setProperty("--button-text-color",c.buttonText)}if(typeof document!=="undefined"&&c.brandColor){document.documentElement.style.setProperty("--brand-color",c.brandColor)}const u={Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallback:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page.",default:"Unable to sign in."};const h=p&&((t=u[p])!==null&&t!==void 0?t:u.default);const f="https://authjs.dev/img/providers";return(0,r.h)("div",{className:"signin"},c.brandColor&&(0,r.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${c.brandColor}
        }
      `}}),c.buttonText&&(0,r.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${c.buttonText}
        }
      `}}),(0,r.h)("div",{className:"card"},c.logo&&(0,r.h)("img",{src:c.logo,alt:"Logo",className:"logo"}),h&&(0,r.h)("div",{className:"error"},(0,r.h)("p",null,h)),d.map((e,t)=>{let i,c,p,u,h,m;if(e.type==="oauth"){var g;({bg:i="",text:c="",logo:p="",bgDark:h=i,textDark:m=c,logoDark:u=""}=(g=e.style)!==null&&g!==void 0?g:{});p=p.startsWith("/")?`${f}${p}`:p;u=u.startsWith("/")?`${f}${u}`:u||p;u||(u=p)}return(0,r.h)("div",{key:e.id,className:"provider"},e.type==="oauth"&&(0,r.h)("form",{action:e.signinUrl,method:"POST"},(0,r.h)("input",{type:"hidden",name:"csrfToken",value:n}),a&&(0,r.h)("input",{type:"hidden",name:"callbackUrl",value:a}),(0,r.h)("button",{type:"submit",className:"button",style:{"--provider-bg":i,"--provider-dark-bg":h,"--provider-color":c,"--provider-dark-color":m,"--provider-bg-hover":s(i,.8),"--provider-dark-bg-hover":s(h,.8)}},p&&(0,r.h)("img",{loading:"lazy",height:24,width:24,id:"provider-logo",src:`${p.startsWith("/")?f:""}${p}`}),u&&(0,r.h)("img",{loading:"lazy",height:24,width:24,id:"provider-logo-dark",src:`${p.startsWith("/")?f:""}${u}`}),(0,r.h)("span",null,"Sign in with ",e.name))),(e.type==="email"||e.type==="credentials")&&t>0&&d[t-1].type!=="email"&&d[t-1].type!=="credentials"&&(0,r.h)("hr",null),e.type==="email"&&(0,r.h)("form",{action:e.signinUrl,method:"POST"},(0,r.h)("input",{type:"hidden",name:"csrfToken",value:n}),(0,r.h)("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`},"Email"),(0,r.h)("input",{id:`input-email-for-${e.id}-provider`,autoFocus:true,type:"email",name:"email",value:l,placeholder:"email@example.com",required:true}),(0,r.h)("button",{id:"submitButton",type:"submit"},"Sign in with ",e.name)),e.type==="credentials"&&(0,r.h)("form",{action:e.callbackUrl,method:"POST"},(0,r.h)("input",{type:"hidden",name:"csrfToken",value:n}),Object.keys(e.credentials).map(t=>{var n,i,s;return(0,r.h)("div",{key:`input-group-${e.id}`},(0,r.h)("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`},(n=e.credentials[t].label)!==null&&n!==void 0?n:t),(0,r.h)("input",(0,o.default)({name:t,id:`input-${t}-for-${e.id}-provider`,type:(i=e.credentials[t].type)!==null&&i!==void 0?i:"text",placeholder:(s=e.credentials[t].placeholder)!==null&&s!==void 0?s:""},e.credentials[t])))}),(0,r.h)("button",{type:"submit"},"Sign in with ",e.name)),(e.type==="email"||e.type==="credentials")&&t+1<d.length&&(0,r.h)("hr",null))})))}},9168:e=>{function t(e){return e&&e.__esModule?e:{"default":e}}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports},9534:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(55511);const r=n(28354);const o=n(63898);const s=n(42567);const a=n(92562);const c=n(15055);const l=n(80028);let p;if(i.verify.length>4&&l.oneShotCallback){p=(0,r.promisify)(i.verify)}else{p=i.verify}const d=async(e,t,n,r)=>{const l=(0,c.default)(e,t,"verify");if(e.startsWith("HS")){const t=await (0,a.default)(e,l,r);const o=n;try{return i.timingSafeEqual(o,t)}catch{return false}}const d=(0,o.default)(e);const u=(0,s.default)(e,l);try{return await p(d,r,u,n)}catch{return false}};t["default"]=d},9545:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.openidClient=r;var i=n(12107);async function r(e){const t=e.provider;if(t.httpOptions)i.custom.setHttpOptionsDefaults(t.httpOptions);let n;if(t.wellKnown){n=await i.Issuer.discover(t.wellKnown)}else{var r,o,s;n=new i.Issuer({issuer:t.issuer,authorization_endpoint:(r=t.authorization)===null||r===void 0?void 0:r.url,token_endpoint:(o=t.token)===null||o===void 0?void 0:o.url,userinfo_endpoint:(s=t.userinfo)===null||s===void 0?void 0:s.url,jwks_uri:t.jwks_endpoint})}const a=new n.Client({client_id:t.clientId,client_secret:t.clientSecret,redirect_uris:[t.callbackUrl],...t.client},t.jwks);a[i.custom.clock_tolerance]=10;return a}},9552:(e,t,n)=>{const i=n(12412);const r=n(11723);const o=n(81630);const s=n(55591);const{once:a}=n(94735);const{URL:c}=n(79551);const l=n(42142);const p=n(63667);const{RPError:d}=n(61408);const u=n(24740);const{deep:h}=n(72115);const{HTTP_OPTIONS:f}=n(43325);let m;const g=/^[\x21\x23-\x5B\x5D-\x7E]+$/;const v=["agent","ca","cert","crl","headers","key","lookup","passphrase","pfx","timeout"];const y=(e,t)=>{m=h({},e.length?u(t,...e):t,m)};y([],{headers:{"User-Agent":`${p.name}/${p.version} (${p.homepage})`,"Accept-Encoding":"identity"},timeout:3500});function _(e,t,n){if(n){e.removeHeader("content-type");e.setHeader("content-type",n)}if(t){e.removeHeader("content-length");e.setHeader("content-length",Buffer.byteLength(t));e.write(t)}e.end()}const w=new l({max:100});e.exports=async function e(t,{accessToken:n,mTLS:l=false,DPoP:p}={}){let y;try{y=new c(t.url);delete t.url;i(/^(https?:)$/.test(y.protocol))}catch(e){throw new TypeError("only valid absolute URLs can be requested")}const x=this[f];let b=t;const k=`${y.origin}${y.pathname}`;if(p&&"dpopProof"in this){b.headers=b.headers||{};b.headers.DPoP=await this.dpopProof({htu:`${y.origin}${y.pathname}`,htm:t.method||"GET",nonce:w.get(k)},p,n)}let E;if(x){E=u(x.call(this,y,h({},b,m)),...v)}b=h({},E,b,m);if(l&&!b.pfx&&!(b.key&&b.cert)){throw new TypeError("mutual-TLS certificate and key not set")}if(b.searchParams){for(const[e,t]of Object.entries(b.searchParams)){y.searchParams.delete(e);y.searchParams.set(e,t)}}let S;let A;let T;let O;({form:A,responseType:S,json:T,body:O,...b}=b);for(const[e,t]of Object.entries(b.headers||{})){if(t===undefined){delete b.headers[e]}}let C;const P=(y.protocol==="https:"?s.request:o.request)(y.href,b);return(async()=>{if(T){_(P,JSON.stringify(T),"application/json")}else if(A){_(P,r.stringify(A),"application/x-www-form-urlencoded")}else if(O){_(P,O)}else{_(P)}[C]=await Promise.race([a(P,"response"),a(P,"timeout")]);if(!C){P.destroy();throw new d(`outgoing request timed out after ${b.timeout}ms`)}const e=[];for await(const t of C){e.push(t)}if(e.length){switch(S){case"json":{Object.defineProperty(C,"body",{get(){let t=Buffer.concat(e);try{t=JSON.parse(t)}catch(e){Object.defineProperty(e,"response",{value:C});throw e}finally{Object.defineProperty(C,"body",{value:t,configurable:true})}return t},configurable:true});break}case undefined:case"buffer":{Object.defineProperty(C,"body",{get(){const t=Buffer.concat(e);Object.defineProperty(C,"body",{value:t,configurable:true});return t},configurable:true});break}default:throw new TypeError("unsupported responseType request option")}}return C})().catch(e=>{if(C)Object.defineProperty(e,"response",{value:C});throw e}).finally(()=>{const e=C&&C.headers["dpop-nonce"];if(e&&g.test(e)){w.set(k,e)}})};e.exports.setDefaults=y.bind(undefined,v)},9684:(e,t,n)=>{var i=n(96376);var r=n(30994);function o(e,t,n){if(i())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var s=new(e.bind.apply(e,o));return n&&r(s,n.prototype),s}e.exports=o,e.exports.__esModule=true,e.exports["default"]=e.exports},10028:(e,t,n)=>{const i=n(42142);e.exports=new i({max:100})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11714:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=n;async function n({email:e,adapter:t}){const{getUserByEmail:n}=t;const i=e?await n(e):null;if(i)return i;return{id:e,email:e,emailVerified:null}}},11723:e=>{"use strict";e.exports=require("querystring")},11819:(e,t,n)=>{t.OAuth=n(28328).OAuth;t.OAuthEcho=n(28328).OAuthEcho;t.OAuth2=n(36720).OAuth2},12107:(e,t,n)=>{const i=n(23884);const{OPError:r,RPError:o}=n(61408);const s=n(58513);const a=n(24453);const{CLOCK_TOLERANCE:c,HTTP_OPTIONS:l}=n(43325);const p=n(35571);const{setDefaults:d}=n(9552);e.exports={Issuer:i,Strategy:s,TokenSet:a,errors:{OPError:r,RPError:o},custom:{setHttpOptionsDefaults:d,http_options:l,clock_tolerance:c},generators:p}},12269:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},12412:e=>{"use strict";e.exports=require("assert")},12584:(e,t,n)=>{"use strict";e.exports=i;i.Node=a;i.create=i;function i(e){var t=this;if(!(t instanceof i)){t=new i}t.tail=null;t.head=null;t.length=0;if(e&&typeof e.forEach==="function"){e.forEach(function(e){t.push(e)})}else if(arguments.length>0){for(var n=0,r=arguments.length;n<r;n++){t.push(arguments[n])}}return t}i.prototype.removeNode=function(e){if(e.list!==this){throw new Error("removing node which does not belong to this list")}var t=e.next;var n=e.prev;if(t){t.prev=n}if(n){n.next=t}if(e===this.head){this.head=t}if(e===this.tail){this.tail=n}e.list.length--;e.next=null;e.prev=null;e.list=null;return t};i.prototype.unshiftNode=function(e){if(e===this.head){return}if(e.list){e.list.removeNode(e)}var t=this.head;e.list=this;e.next=t;if(t){t.prev=e}this.head=e;if(!this.tail){this.tail=e}this.length++};i.prototype.pushNode=function(e){if(e===this.tail){return}if(e.list){e.list.removeNode(e)}var t=this.tail;e.list=this;e.prev=t;if(t){t.next=e}this.tail=e;if(!this.head){this.head=e}this.length++};i.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++){o(this,arguments[e])}return this.length};i.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++){s(this,arguments[e])}return this.length};i.prototype.pop=function(){if(!this.tail){return undefined}var e=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return e};i.prototype.shift=function(){if(!this.head){return undefined}var e=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return e};i.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,i=0;n!==null;i++){e.call(t,n.value,i,this);n=n.next}};i.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,i=this.length-1;n!==null;i--){e.call(t,n.value,i,this);n=n.prev}};i.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++){n=n.next}if(t===e&&n!==null){return n.value}};i.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++){n=n.prev}if(t===e&&n!==null){return n.value}};i.prototype.map=function(e,t){t=t||this;var n=new i;for(var r=this.head;r!==null;){n.push(e.call(t,r.value,this));r=r.next}return n};i.prototype.mapReverse=function(e,t){t=t||this;var n=new i;for(var r=this.tail;r!==null;){n.push(e.call(t,r.value,this));r=r.prev}return n};i.prototype.reduce=function(e,t){var n;var i=this.head;if(arguments.length>1){n=t}else if(this.head){i=this.head.next;n=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var r=0;i!==null;r++){n=e(n,i.value,r);i=i.next}return n};i.prototype.reduceReverse=function(e,t){var n;var i=this.tail;if(arguments.length>1){n=t}else if(this.tail){i=this.tail.prev;n=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var r=this.length-1;i!==null;r--){n=e(n,i.value,r);i=i.prev}return n};i.prototype.toArray=function(){var e=new Array(this.length);for(var t=0,n=this.head;n!==null;t++){e[t]=n.value;n=n.next}return e};i.prototype.toArrayReverse=function(){var e=new Array(this.length);for(var t=0,n=this.tail;n!==null;t++){e[t]=n.value;n=n.prev}return e};i.prototype.slice=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var n=new i;if(t<e||t<0){return n}if(e<0){e=0}if(t>this.length){t=this.length}for(var r=0,o=this.head;o!==null&&r<e;r++){o=o.next}for(;o!==null&&r<t;r++,o=o.next){n.push(o.value)}return n};i.prototype.sliceReverse=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var n=new i;if(t<e||t<0){return n}if(e<0){e=0}if(t>this.length){t=this.length}for(var r=this.length,o=this.tail;o!==null&&r>t;r--){o=o.prev}for(;o!==null&&r>e;r--,o=o.prev){n.push(o.value)}return n};i.prototype.splice=function(e,t,...n){if(e>this.length){e=this.length-1}if(e<0){e=this.length+e}for(var i=0,o=this.head;o!==null&&i<e;i++){o=o.next}var s=[];for(var i=0;o&&i<t;i++){s.push(o.value);o=this.removeNode(o)}if(o===null){o=this.tail}if(o!==this.head&&o!==this.tail){o=o.prev}for(var i=0;i<n.length;i++){o=r(this,o,n[i])}return s};i.prototype.reverse=function(){var e=this.head;var t=this.tail;for(var n=e;n!==null;n=n.prev){var i=n.prev;n.prev=n.next;n.next=i}this.head=t;this.tail=e;return this};function r(e,t,n){var i=t===e.head?new a(n,null,t,e):new a(n,t,t.next,e);if(i.next===null){e.tail=i}if(i.prev===null){e.head=i}e.length++;return i}function o(e,t){e.tail=new a(t,e.tail,null,e);if(!e.head){e.head=e.tail}e.length++}function s(e,t){e.head=new a(t,null,e.head,e);if(!e.tail){e.tail=e.head}e.length++}function a(e,t,n,i){if(!(this instanceof a)){return new a(e,t,n,i)}this.list=i;this.value=e;if(t){t.next=this;this.prev=t}else{this.prev=null}if(n){n.prev=this;this.next=n}else{this.next=null}}try{n(23470)(i)}catch(e){}},13668:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.generateKeyPair=void 0;const i=n(51688);async function r(e,t){return(0,i.generateKeyPair)(e,t)}t.generateKeyPair=r},14988:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FlattenedEncrypt=t.unprotected=void 0;const i=n(68327);const r=n(22122);const o=n(66318);const s=n(35749);const a=n(22599);const c=n(99938);const l=n(65597);const p=n(2594);const d=n(8535);t.unprotected=Symbol();class u{constructor(e){if(!(e instanceof Uint8Array)){throw new TypeError("plaintext must be an instance of Uint8Array")}this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters){throw new TypeError("setKeyManagementParameters can only be called once")}this._keyManagementParameters=e;return this}setProtectedHeader(e){if(this._protectedHeader){throw new TypeError("setProtectedHeader can only be called once")}this._protectedHeader=e;return this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader){throw new TypeError("setSharedUnprotectedHeader can only be called once")}this._sharedUnprotectedHeader=e;return this}setUnprotectedHeader(e){if(this._unprotectedHeader){throw new TypeError("setUnprotectedHeader can only be called once")}this._unprotectedHeader=e;return this}setAdditionalAuthenticatedData(e){this._aad=e;return this}setContentEncryptionKey(e){if(this._cek){throw new TypeError("setContentEncryptionKey can only be called once")}this._cek=e;return this}setInitializationVector(e){if(this._iv){throw new TypeError("setInitializationVector can only be called once")}this._iv=e;return this}async encrypt(e,n){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader){throw new c.JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()")}if(!(0,l.default)(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader)){throw new c.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint")}const u={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};(0,d.default)(c.JWEInvalid,new Map,n===null||n===void 0?void 0:n.crit,this._protectedHeader,u);if(u.zip!==undefined){if(!this._protectedHeader||!this._protectedHeader.zip){throw new c.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}if(u.zip!=="DEF"){throw new c.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}}const{alg:h,enc:f}=u;if(typeof h!=="string"||!h){throw new c.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid')}if(typeof f!=="string"||!f){throw new c.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid')}let m;if(h==="dir"){if(this._cek){throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}}else if(h==="ECDH-ES"){if(this._cek){throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement")}}let g;{let i;({cek:g,encryptedKey:m,parameters:i}=await (0,a.default)(h,f,e,this._cek,this._keyManagementParameters));if(i){if(n&&t.unprotected in n){if(!this._unprotectedHeader){this.setUnprotectedHeader(i)}else{this._unprotectedHeader={...this._unprotectedHeader,...i}}}else{if(!this._protectedHeader){this.setProtectedHeader(i)}else{this._protectedHeader={...this._protectedHeader,...i}}}}}this._iv||(this._iv=(0,s.default)(f));let v;let y;let _;if(this._protectedHeader){y=p.encoder.encode((0,i.encode)(JSON.stringify(this._protectedHeader)))}else{y=p.encoder.encode("")}if(this._aad){_=(0,i.encode)(this._aad);v=(0,p.concat)(y,p.encoder.encode("."),p.encoder.encode(_))}else{v=y}let w;let x;if(u.zip==="DEF"){const e=await ((n===null||n===void 0?void 0:n.deflateRaw)||o.deflate)(this._plaintext);({ciphertext:w,tag:x}=await (0,r.default)(f,e,g,this._iv,v))}else{;({ciphertext:w,tag:x}=await (0,r.default)(f,this._plaintext,g,this._iv,v))}const b={ciphertext:(0,i.encode)(w),iv:(0,i.encode)(this._iv),tag:(0,i.encode)(x)};if(m){b.encrypted_key=(0,i.encode)(m)}if(_){b.aad=_}if(this._protectedHeader){b.protected=p.decoder.decode(y)}if(this._sharedUnprotectedHeader){b.unprotected=this._sharedUnprotectedHeader}if(this._unprotectedHeader){b.header=this._unprotectedHeader}return b}}t.FlattenedEncrypt=u},15055:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(55511);const r=n(17996);const o=n(50003);const s=n(78680);const a=n(37265);function c(e,t,n){if(t instanceof Uint8Array){if(!e.startsWith("HS")){throw new TypeError((0,s.default)(t,...a.types))}return(0,i.createSecretKey)(t)}if(t instanceof i.KeyObject){return t}if((0,r.isCryptoKey)(t)){(0,o.checkSigCryptoKey)(t,e,n);return i.KeyObject.from(t)}throw new TypeError((0,s.default)(t,...a.types,"Uint8Array"))}t["default"]=c},15912:(e,t,n)=>{"use strict";var i=n(9168);Object.defineProperty(t,"__esModule",{value:true});var r={encode:true,decode:true,getToken:true};t.decode=h;t.encode=u;t.getToken=f;var o=n(37544);var s=i(n(94387));var a=n(72921);var c=n(99632);var l=n(90253);Object.keys(l).forEach(function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(r,e))return;if(e in t&&t[e]===l[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return l[e]}})});const p=30*24*60*60;const d=()=>Date.now()/1e3|0;async function u(e){const{token:t={},secret:n,maxAge:i=p,salt:r=""}=e;const s=await m(n,r);return await new o.EncryptJWT(t).setProtectedHeader({alg:"dir",enc:"A256GCM"}).setIssuedAt().setExpirationTime(d()+i).setJti((0,a.v4)()).encrypt(s)}async function h(e){const{token:t,secret:n,salt:i=""}=e;if(!t)return null;const r=await m(n,i);const{payload:s}=await (0,o.jwtDecrypt)(t,r,{clockTolerance:15});return s}async function f(e){var t,n,i,r;const{req:o,secureCookie:s=(t=(n=process.env.NEXTAUTH_URL)===null||n===void 0?void 0:n.startsWith("https://"))!==null&&t!==void 0?t:!!process.env.VERCEL,cookieName:a=s?"__Secure-next-auth.session-token":"next-auth.session-token",raw:l,decode:p=h,logger:d=console,secret:u=(i=process.env.NEXTAUTH_SECRET)!==null&&i!==void 0?i:process.env.AUTH_SECRET}=e;if(!o)throw new Error("Must pass `req` to JWT getToken()");const f=new c.SessionStore({name:a,options:{secure:s}},{cookies:o.cookies,headers:o.headers},d);let m=f.value;const g=o.headers instanceof Headers?o.headers.get("authorization"):(r=o.headers)===null||r===void 0?void 0:r.authorization;if(!m&&(g===null||g===void 0?void 0:g.split(" ")[0])==="Bearer"){const e=g.split(" ")[1];m=decodeURIComponent(e)}if(!m)return null;if(l)return m;try{return await p({token:m,secret:u})}catch(e){return null}}async function m(e,t){return await (0,s.default)("sha256",e,t,`NextAuth.js Generated Encryption Key${t?` (${t})`:""}`,32)}},16156:e=>{e.exports=()=>Math.floor(Date.now()/1e3)},16435:(e,t,n)=>{"use strict";const i=n(58417);const r={};Object.keys(i).forEach(e=>{let t=i[e];r[o(e)]=s(t);[].concat(t.aliases||[]).forEach(e=>{r[o(e)]=s(t)});[].concat(t.domains||[]).forEach(e=>{r[o(e)]=s(t)})});function o(e){return e.replace(/[^a-zA-Z0-9.-]/g,"").toLowerCase()}function s(e){let t=["domains","aliases"];let n={};Object.keys(e).forEach(i=>{if(t.indexOf(i)<0){n[i]=e[i]}});return n}e.exports=function(e){e=o(e.split("@").pop());return r[e]||false}},16851:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=n;function n(e){var t;const n=new URL("http://localhost:3000/api/auth");if(e&&!e.startsWith("http")){e=`https://${e}`}const i=new URL((t=e)!==null&&t!==void 0?t:n);const r=(i.pathname==="/"?n.pathname:i.pathname).replace(/\/$/,"");const o=`${i.origin}${r}`;return{origin:i.origin,host:i.host,path:r,base:o,toString:()=>o}}},16974:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;var i=n(1441);function r(e){const{url:t,theme:n}=e;return(0,i.h)("div",{className:"verify-request"},n.brandColor&&(0,i.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n.brandColor}
        }
      `}}),(0,i.h)("div",{className:"card"},n.logo&&(0,i.h)("img",{src:n.logo,alt:"Logo",className:"logo"}),(0,i.h)("h1",null,"Check your email"),(0,i.h)("p",null,"A sign in link has been sent to your email address."),(0,i.h)("p",null,(0,i.h)("a",{className:"site",href:t.origin},t.host))))}},17696:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=true,e.exports["default"]=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports},17704:(e,t,n)=>{"use strict";const i=n(91292);const r=n(7180);const o=n(18199);class s{constructor(e,t){this.mailer=e;this.data={};this.message=null;t=t||{};let n=e.options||{};let i=e._defaults||{};Object.keys(t).forEach(e=>{this.data[e]=t[e]});this.data.headers=this.data.headers||{};Object.keys(i).forEach(e=>{if(!(e in this.data)){this.data[e]=i[e]}else if(e==="headers"){Object.keys(i.headers).forEach(e=>{if(!(e in this.data.headers)){this.data.headers[e]=i.headers[e]}})}});["disableFileAccess","disableUrlAccess","normalizeHeaderKey"].forEach(e=>{if(e in n){this.data[e]=n[e]}})}resolveContent(...e){return i.resolveContent(...e)}resolveAll(e){let t=[[this.data,"html"],[this.data,"text"],[this.data,"watchHtml"],[this.data,"amp"],[this.data,"icalEvent"]];if(this.data.alternatives&&this.data.alternatives.length){this.data.alternatives.forEach((e,n)=>{t.push([this.data.alternatives,n])})}if(this.data.attachments&&this.data.attachments.length){this.data.attachments.forEach((e,n)=>{if(!e.filename){e.filename=(e.path||e.href||"").split("/").pop().split("?").shift()||"attachment-"+(n+1);if(e.filename.indexOf(".")<0){e.filename+="."+o.detectExtension(e.contentType)}}if(!e.contentType){e.contentType=o.detectMimeType(e.filename||e.path||e.href||"bin")}t.push([this.data.attachments,n])})}let n=new r;let s=["from","to","cc","bcc","sender","replyTo"];s.forEach(e=>{let t;if(this.message){t=[].concat(n._parseAddresses(this.message.getHeader(e==="replyTo"?"reply-to":e))||[])}else if(this.data[e]){t=[].concat(n._parseAddresses(this.data[e])||[])}if(t&&t.length){this.data[e]=t}else if(e in this.data){this.data[e]=null}});let a=["from","sender"];a.forEach(e=>{if(this.data[e]){this.data[e]=this.data[e].shift()}});let c=0;let l=()=>{if(c>=t.length){return e(null,this.data)}let n=t[c++];if(!n[0]||!n[0][n[1]]){return l()}i.resolveContent(...n,(t,i)=>{if(t){return e(t)}let r={content:i};if(n[0][n[1]]&&typeof n[0][n[1]]==="object"&&!Buffer.isBuffer(n[0][n[1]])){Object.keys(n[0][n[1]]).forEach(e=>{if(!(e in r)&&!["content","path","href","raw"].includes(e)){r[e]=n[0][n[1]][e]}})}n[0][n[1]]=r;l()})};setImmediate(()=>l())}normalize(e){let t=this.data.envelope||this.message.getEnvelope();let n=this.message.messageId();this.resolveAll((i,r)=>{if(i){return e(i)}r.envelope=t;r.messageId=n;["html","text","watchHtml","amp"].forEach(e=>{if(r[e]&&r[e].content){if(typeof r[e].content==="string"){r[e]=r[e].content}else if(Buffer.isBuffer(r[e].content)){r[e]=r[e].content.toString()}}});if(r.icalEvent&&Buffer.isBuffer(r.icalEvent.content)){r.icalEvent.content=r.icalEvent.content.toString("base64");r.icalEvent.encoding="base64"}if(r.alternatives&&r.alternatives.length){r.alternatives.forEach(e=>{if(e&&e.content&&Buffer.isBuffer(e.content)){e.content=e.content.toString("base64");e.encoding="base64"}})}if(r.attachments&&r.attachments.length){r.attachments.forEach(e=>{if(e&&e.content&&Buffer.isBuffer(e.content)){e.content=e.content.toString("base64");e.encoding="base64"}})}r.normalizedHeaders={};Object.keys(r.headers||{}).forEach(e=>{let t=[].concat(r.headers[e]||[]).shift();t=t&&t.value||t;if(t){if(["references","in-reply-to","message-id","content-id"].includes(e)){t=this.message._encodeHeaderValue(e,t)}r.normalizedHeaders[e]=t}});if(r.list&&typeof r.list==="object"){let e=this._getListHeaders(r.list);e.forEach(e=>{r.normalizedHeaders[e.key]=e.value.map(e=>e&&e.value||e).join(", ")})}if(r.references){r.normalizedHeaders.references=this.message._encodeHeaderValue("references",r.references)}if(r.inReplyTo){r.normalizedHeaders["in-reply-to"]=this.message._encodeHeaderValue("in-reply-to",r.inReplyTo)}return e(null,r)})}setMailerHeader(){if(!this.message||!this.data.xMailer){return}this.message.setHeader("X-Mailer",this.data.xMailer)}setPriorityHeaders(){if(!this.message||!this.data.priority){return}switch((this.data.priority||"").toString().toLowerCase()){case"high":this.message.setHeader("X-Priority","1 (Highest)");this.message.setHeader("X-MSMail-Priority","High");this.message.setHeader("Importance","High");break;case"low":this.message.setHeader("X-Priority","5 (Lowest)");this.message.setHeader("X-MSMail-Priority","Low");this.message.setHeader("Importance","Low");break;default:}}setListHeaders(){if(!this.message||!this.data.list||typeof this.data.list!=="object"){return}if(this.data.list&&typeof this.data.list==="object"){this._getListHeaders(this.data.list).forEach(e=>{e.value.forEach(t=>{this.message.addHeader(e.key,t)})})}}_getListHeaders(e){return Object.keys(e).map(t=>({key:"list-"+t.toLowerCase().trim(),value:[].concat(e[t]||[]).map(e=>({prepared:true,foldLines:true,value:[].concat(e||[]).map(e=>{if(typeof e==="string"){e={url:e}}if(e&&e.url){if(t.toLowerCase().trim()==="id"){let t=e.comment||"";if(o.isPlainText(t)){t='"'+t+'"'}else{t=o.encodeWord(t)}return(e.comment?t+" ":"")+this._formatListUrl(e.url).replace(/^<[^:]+\/{,2}/,"")}let n=e.comment||"";if(!o.isPlainText(n)){n=o.encodeWord(n)}return this._formatListUrl(e.url)+(e.comment?" ("+n+")":"")}return""}).filter(e=>e).join(", ")}))}))}_formatListUrl(e){e=e.replace(/[\s<]+|[\s>]+/g,"");if(/^(https?|mailto|ftp):/.test(e)){return"<"+e+">"}if(/^[^@]+@[^@]+$/.test(e)){return"<mailto:"+e+">"}return"<http://"+e+">"}}e.exports=s},17996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isCryptoKey=void 0;const i=n(55511);const r=n(28354);const o=i.webcrypto;t["default"]=o;t.isCryptoKey=r.types.isCryptoKey?e=>r.types.isCryptoKey(e):e=>false},18040:e=>{function t(n,i,r,o){var s=Object.defineProperty;try{s({},"",{})}catch(e){s=0}e.exports=t=function e(e,n,i,r){if(n)s?s(e,n,{value:i,enumerable:!r,configurable:!r,writable:!r}):e[n]=i;else{var o=function n(n,i){t(e,n,function(e){return this._invoke(n,i,e)})};o("next",0),o("throw",1),o("return",2)}},e.exports.__esModule=true,e.exports["default"]=e.exports,t(n,i,r,o)}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports},18199:(e,t,n)=>{"use strict";const i=n(89066);const r=n(63356);const o=n(50143);e.exports={isPlainText(e,t){const n=t?/[\x00-\x08\x0b\x0c\x0e-\x1f"\u0080-\uFFFF]/:/[\x00-\x08\x0b\x0c\x0e-\x1f\u0080-\uFFFF]/;if(typeof e!=="string"||n.test(e)){return false}else{return true}},hasLongerLines(e,t){if(e.length>128*1024){return true}return new RegExp("^.{"+(t+1)+",}","m").test(e)},encodeWord(e,t,n){t=(t||"Q").toString().toUpperCase().trim().charAt(0);n=n||0;let o;let s="UTF-8";if(n&&n>7+s.length){n-=7+s.length}if(t==="Q"){o=r.encode(e).replace(/[^a-z0-9!*+\-/=]/gi,e=>{let t=e.charCodeAt(0).toString(16).toUpperCase();if(e===" "){return"_"}else{return"="+(t.length===1?"0"+t:t)}})}else if(t==="B"){o=typeof e==="string"?e:i.encode(e);n=n?Math.max(3,(n-n%4)/4*3):0}if(n&&(t!=="B"?o:i.encode(e)).length>n){if(t==="Q"){o=this.splitMimeEncodedString(o,n).join("?= =?"+s+"?"+t+"?")}else{let e=[];let r="";for(let t=0,s=o.length;t<s;t++){let a=o.charAt(t);if(/[\ud83c\ud83d\ud83e]/.test(a)&&t<s-1){a+=o.charAt(++t)}if(Buffer.byteLength(r+a)<=n||t===0){r+=a}else{e.push(i.encode(r));r=a}}if(r){e.push(i.encode(r))}if(e.length>1){o=e.join("?= =?"+s+"?"+t+"?")}else{o=e.join("")}}}else if(t==="B"){o=i.encode(e)}return"=?"+s+"?"+t+"?"+o+(o.substr(-2)==="?="?"":"?=")},encodeWords(e,t,n,i){n=n||0;let r;let o=e.match(/(?:^|\s)([^\s]*["\u0080-\uFFFF])/);if(!o){return e}if(i){return this.encodeWord(e,t,n)}let s=e.match(/(["\u0080-\uFFFF][^\s]*)[^"\u0080-\uFFFF]*$/);if(!s){return e}let a=o.index+(o[0].match(/[^\s]/)||{index:0}).index;let c=s.index+(s[1]||"").length;r=(a?e.substr(0,a):"")+this.encodeWord(e.substring(a,c),t||"Q",n)+(c<e.length?e.substr(c):"");return r},buildHeaderValue(e){let t=[];Object.keys(e.params||{}).forEach(n=>{let i=e.params[n];if(!this.isPlainText(i,true)||i.length>=75){this.buildHeaderParam(n,i,50).forEach(e=>{if(!/[\s"\\;:/=(),<>@[\]?]|^[-']|'$/.test(e.value)||e.key.substr(-1)==="*"){t.push(e.key+"="+e.value)}else{t.push(e.key+"="+JSON.stringify(e.value))}})}else if(/[\s'"\\;:/=(),<>@[\]?]|^-/.test(i)){t.push(n+"="+JSON.stringify(i))}else{t.push(n+"="+i)}});return e.value+(t.length?"; "+t.join("; "):"")},buildHeaderParam(e,t,n){let i=[];let r=typeof t==="string"?t:(t||"").toString();let o;let s,a;let c;let l=0;let p,d;n=n||50;if(this.isPlainText(t,true)){if(r.length<=n){return[{key:e,value:r}]}r=r.replace(new RegExp(".{"+n+"}","g"),e=>{i.push({line:e});return""});if(r){i.push({line:r})}}else{if(/[\uD800-\uDBFF]/.test(r)){o=[];for(p=0,d=r.length;p<d;p++){s=r.charAt(p);a=s.charCodeAt(0);if(a>=55296&&a<=56319&&p<d-1){s+=r.charAt(p+1);o.push(s);p++}else{o.push(s)}}r=o}c="utf-8''";let e=true;l=0;for(p=0,d=r.length;p<d;p++){s=r[p];if(e){s=this.safeEncodeURIComponent(s)}else{s=s===" "?s:this.safeEncodeURIComponent(s);if(s!==r[p]){if((this.safeEncodeURIComponent(c)+s).length>=n){i.push({line:c,encoded:e});c="";l=p-1}else{e=true;p=l;c="";continue}}}if((c+s).length>=n){i.push({line:c,encoded:e});c=s=r[p]===" "?" ":this.safeEncodeURIComponent(r[p]);if(s===r[p]){e=false;l=p-1}else{e=true}}else{c+=s}}if(c){i.push({line:c,encoded:e})}}return i.map((t,n)=>({key:e+"*"+n+(t.encoded?"*":""),value:t.line}))},parseHeaderValue(e){let t={value:false,params:{}};let n=false;let i="";let r="value";let o=false;let s=false;let a;for(let c=0,l=e.length;c<l;c++){a=e.charAt(c);if(r==="key"){if(a==="="){n=i.trim().toLowerCase();r="value";i="";continue}i+=a}else{if(s){i+=a}else if(a==="\\"){s=true;continue}else if(o&&a===o){o=false}else if(!o&&a==='"'){o=a}else if(!o&&a===";"){if(n===false){t.value=i.trim()}else{t.params[n]=i.trim()}r="key";i=""}else{i+=a}s=false}}if(r==="value"){if(n===false){t.value=i.trim()}else{t.params[n]=i.trim()}}else if(i.trim()){t.params[i.trim().toLowerCase()]=""}Object.keys(t.params).forEach(e=>{let n,i,r,o;if(r=e.match(/(\*(\d+)|\*(\d+)\*|\*)$/)){n=e.substr(0,r.index);i=Number(r[2]||r[3])||0;if(!t.params[n]||typeof t.params[n]!=="object"){t.params[n]={charset:false,values:[]}}o=t.params[e];if(i===0&&r[0].substr(-1)==="*"&&(r=o.match(/^([^']*)'[^']*'(.*)$/))){t.params[n].charset=r[1]||"iso-8859-1";o=r[2]}t.params[n].values[i]=o;delete t.params[e]}});Object.keys(t.params).forEach(e=>{let n;if(t.params[e]&&Array.isArray(t.params[e].values)){n=t.params[e].values.map(e=>e||"").join("");if(t.params[e].charset){t.params[e]="=?"+t.params[e].charset+"?Q?"+n.replace(/[=?_\s]/g,e=>{let t=e.charCodeAt(0).toString(16);if(e===" "){return"_"}else{return"%"+(t.length<2?"0":"")+t}}).replace(/%/g,"=")+"?="}else{t.params[e]=n}}});return t},detectExtension:e=>o.detectExtension(e),detectMimeType:e=>o.detectMimeType(e),foldLines(e,t,n){e=(e||"").toString();t=t||76;let i=0,r=e.length,o="",s,a;while(i<r){s=e.substr(i,t);if(s.length<t){o+=s;break}if(a=s.match(/^[^\n\r]*(\r?\n|\r)/)){s=a[0];o+=s;i+=s.length;continue}else if((a=s.match(/(\s+)[^\s]*$/))&&a[0].length-(n?(a[1]||"").length:0)<s.length){s=s.substr(0,s.length-(a[0].length-(n?(a[1]||"").length:0)))}else if(a=e.substr(i+s.length).match(/^[^\s]+(\s*)/)){s=s+a[0].substr(0,a[0].length-(!n?(a[1]||"").length:0))}o+=s;i+=s.length;if(i<r){o+="\r\n"}}return o},splitMimeEncodedString:(e,t)=>{let n,i,r,o,s=[];t=Math.max(t||0,12);while(e.length){n=e.substr(0,t);if(i=n.match(/[=][0-9A-F]?$/i)){n=n.substr(0,i.index)}o=false;while(!o){o=true;if(i=e.substr(n.length).match(/^[=]([0-9A-F]{2})/i)){r=parseInt(i[1],16);if(r<194&&r>127){n=n.substr(0,n.length-3);o=false}}}if(n.length){s.push(n)}e=e.substr(n.length)}return s},encodeURICharComponent:e=>{let t="";let n=e.charCodeAt(0).toString(16).toUpperCase();if(n.length%2){n="0"+n}if(n.length>2){for(let e=0,i=n.length/2;e<i;e++){t+="%"+n.substr(e,2)}}else{t+="%"+n}return t},safeEncodeURIComponent(e){e=(e||"").toString();try{e=encodeURIComponent(e)}catch(t){return e.replace(/[^\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]+/g,"")}return e.replace(/[\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]/g,e=>this.encodeURICharComponent(e))}}},18490:(e,t,n)=>{var i=n(99607)();e.exports=i;try{regeneratorRuntime=i}catch(e){if(typeof globalThis==="object"){globalThis.regeneratorRuntime=i}else{Function("r","regeneratorRuntime = r")(i)}}},18652:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.calculateJwkThumbprintUri=t.calculateJwkThumbprint=void 0;const i=n(37375);const r=n(68327);const o=n(99938);const s=n(2594);const a=n(25110);const c=(e,t)=>{if(typeof e!=="string"||!e){throw new o.JWKInvalid(`${t} missing or invalid`)}};async function l(e,t){if(!(0,a.default)(e)){throw new TypeError("JWK must be an object")}t!==null&&t!==void 0?t:t="sha256";if(t!=="sha256"&&t!=="sha384"&&t!=="sha512"){throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"')}let n;switch(e.kty){case"EC":c(e.crv,'"crv" (Curve) Parameter');c(e.x,'"x" (X Coordinate) Parameter');c(e.y,'"y" (Y Coordinate) Parameter');n={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":c(e.crv,'"crv" (Subtype of Key Pair) Parameter');c(e.x,'"x" (Public Key) Parameter');n={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":c(e.e,'"e" (Exponent) Parameter');c(e.n,'"n" (Modulus) Parameter');n={e:e.e,kty:e.kty,n:e.n};break;case"oct":c(e.k,'"k" (Key Value) Parameter');n={k:e.k,kty:e.kty};break;default:throw new o.JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}const l=s.encoder.encode(JSON.stringify(n));return(0,r.encode)(await (0,i.default)(t,l))}t.calculateJwkThumbprint=l;async function p(e,t){t!==null&&t!==void 0?t:t="sha256";const n=await l(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${n}`}t.calculateJwkThumbprintUri=p},19854:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var i={};Object.defineProperty(t,"default",{enumerable:true,get:function(){return o.default}});var r=n(12269);Object.keys(r).forEach(function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(i,e))return;if(e in t&&t[e]===r[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return r[e]}})});var o=a(n(35426));Object.keys(o).forEach(function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(i,e))return;if(e in t&&t[e]===o[e])return;Object.defineProperty(t,e,{enumerable:true,get:function(){return o[e]}})});function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}},20068:(e,t,n)=>{"use strict";const i=n(49074);const r=n(94735).EventEmitter;const o=n(91645);const s=n(34631);const a=n(21820);const c=n(55511);const l=n(43519);const p=n(27910).PassThrough;const d=n(91292);const u=2*60*1e3;const h=10*60*1e3;const f=30*1e3;const m=30*1e3;class g extends r{constructor(e){super(e);this.id=c.randomBytes(8).toString("base64").replace(/\W/g,"");this.stage="init";this.options=e||{};this.secureConnection=!!this.options.secure;this.alreadySecured=!!this.options.secured;this.port=Number(this.options.port)||(this.secureConnection?465:587);this.host=this.options.host||"localhost";this.servername=this.options.servername?this.options.servername:!o.isIP(this.host)?this.host:false;this.allowInternalNetworkInterfaces=this.options.allowInternalNetworkInterfaces||false;if(typeof this.options.secure==="undefined"&&this.port===465){this.secureConnection=true}this.name=this.options.name||this._getHostname();this.logger=d.getLogger(this.options,{component:this.options.component||"smtp-connection",sid:this.id});this.customAuth=new Map;Object.keys(this.options.customAuth||{}).forEach(e=>{let t=(e||"").toString().trim().toUpperCase();if(!t){return}this.customAuth.set(t,this.options.customAuth[e])});this.version=i.version;this.authenticated=false;this.destroyed=false;this.secure=!!this.secureConnection;this._remainder="";this._responseQueue=[];this.lastServerResponse=false;this._socket=false;this._supportedAuth=[];this.allowsAuth=false;this._envelope=false;this._supportedExtensions=[];this._maxAllowedSize=0;this._responseActions=[];this._recipientQueue=[];this._greetingTimeout=false;this._connectionTimeout=false;this._destroyed=false;this._closing=false;this._onSocketData=e=>this._onData(e);this._onSocketError=e=>this._onError(e,"ESOCKET",false,"CONN");this._onSocketClose=()=>this._onClose();this._onSocketEnd=()=>this._onEnd();this._onSocketTimeout=()=>this._onTimeout()}connect(e){if(typeof e==="function"){this.once("connect",()=>{this.logger.debug({tnx:"smtp"},"SMTP handshake finished");e()});const t=this._isDestroyedMessage("connect");if(t){return e(this._formatError(t,"ECONNECTION",false,"CONN"))}}let t={port:this.port,host:this.host,allowInternalNetworkInterfaces:this.allowInternalNetworkInterfaces,timeout:this.options.dnsTimeout||m};if(this.options.localAddress){t.localAddress=this.options.localAddress}let n=()=>{this._connectionTimeout=setTimeout(()=>{this._onError("Connection timeout","ETIMEDOUT",false,"CONN")},this.options.connectionTimeout||u);this._socket.on("error",this._onSocketError)};if(this.options.connection){this._socket=this.options.connection;n();if(this.secureConnection&&!this.alreadySecured){setImmediate(()=>this._upgradeConnection(e=>{if(e){this._onError(new Error("Error initiating TLS - "+(e.message||e)),"ETLS",false,"CONN");return}this._onConnect()}))}else{setImmediate(()=>this._onConnect())}return}else if(this.options.socket){this._socket=this.options.socket;return d.resolveHostname(t,(e,i)=>{if(e){return setImmediate(()=>this._onError(e,"EDNS",false,"CONN"))}this.logger.debug({tnx:"dns",source:t.host,resolved:i.host,cached:!!i.cached},"Resolved %s as %s [cache %s]",t.host,i.host,i.cached?"hit":"miss");Object.keys(i).forEach(e=>{if(e.charAt(0)!=="_"&&i[e]){t[e]=i[e]}});try{this._socket.connect(this.port,this.host,()=>{this._socket.setKeepAlive(true);this._onConnect()});n()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",false,"CONN"))}})}else if(this.secureConnection){if(this.options.tls){Object.keys(this.options.tls).forEach(e=>{t[e]=this.options.tls[e]})}if(this.servername&&!t.servername){t.servername=this.servername}return d.resolveHostname(t,(e,i)=>{if(e){return setImmediate(()=>this._onError(e,"EDNS",false,"CONN"))}this.logger.debug({tnx:"dns",source:t.host,resolved:i.host,cached:!!i.cached},"Resolved %s as %s [cache %s]",t.host,i.host,i.cached?"hit":"miss");Object.keys(i).forEach(e=>{if(e.charAt(0)!=="_"&&i[e]){t[e]=i[e]}});try{this._socket=s.connect(t,()=>{this._socket.setKeepAlive(true);this._onConnect()});n()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",false,"CONN"))}})}else{return d.resolveHostname(t,(e,i)=>{if(e){return setImmediate(()=>this._onError(e,"EDNS",false,"CONN"))}this.logger.debug({tnx:"dns",source:t.host,resolved:i.host,cached:!!i.cached},"Resolved %s as %s [cache %s]",t.host,i.host,i.cached?"hit":"miss");Object.keys(i).forEach(e=>{if(e.charAt(0)!=="_"&&i[e]){t[e]=i[e]}});try{this._socket=o.connect(t,()=>{this._socket.setKeepAlive(true);this._onConnect()});n()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",false,"CONN"))}})}}quit(){this._sendCommand("QUIT");this._responseActions.push(this.close)}close(){clearTimeout(this._connectionTimeout);clearTimeout(this._greetingTimeout);this._responseActions=[];if(this._closing){return}this._closing=true;let e="end";if(this.stage==="init"){e="destroy"}this.logger.debug({tnx:"smtp"},'Closing connection to the server using "%s"',e);let t=this._socket&&this._socket.socket||this._socket;if(t&&!t.destroyed){try{t[e]()}catch(e){}}this._destroy()}login(e,t){const n=this._isDestroyedMessage("login");if(n){return t(this._formatError(n,"ECONNECTION",false,"API"))}this._auth=e||{};this._authMethod=(this._auth.method||"").toString().trim().toUpperCase()||false;if(!this._authMethod&&this._auth.oauth2&&!this._auth.credentials){this._authMethod="XOAUTH2"}else if(!this._authMethod||this._authMethod==="XOAUTH2"&&!this._auth.oauth2){this._authMethod=(this._supportedAuth[0]||"PLAIN").toUpperCase().trim()}if(this._authMethod!=="XOAUTH2"&&(!this._auth.credentials||!this._auth.credentials.user||!this._auth.credentials.pass)){if(this._auth.user&&this._auth.pass||this.customAuth.has(this._authMethod)){this._auth.credentials={user:this._auth.user,pass:this._auth.pass,options:this._auth.options}}else{return t(this._formatError('Missing credentials for "'+this._authMethod+'"',"EAUTH",false,"API"))}}if(this.customAuth.has(this._authMethod)){let e=this.customAuth.get(this._authMethod);let n;let i=false;let r=()=>{if(i){return}i=true;this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user));this.authenticated=true;t(null,true)};let o=e=>{if(i){return}i=true;t(this._formatError(e,"EAUTH",n,"AUTH "+this._authMethod))};let s=e({auth:this._auth,method:this._authMethod,extensions:[].concat(this._supportedExtensions),authMethods:[].concat(this._supportedAuth),maxAllowedSize:this._maxAllowedSize||false,sendCommand:(e,t)=>{let i;if(!t){i=new Promise((e,n)=>{t=d.callbackPromise(e,n)})}this._responseActions.push(i=>{n=i;let r=i.match(/^(\d+)(?:\s(\d+\.\d+\.\d+))?\s/);let o={command:e,response:i};if(r){o.status=Number(r[1])||0;if(r[2]){o.code=r[2]}o.text=i.substr(r[0].length)}else{o.text=i;o.status=0}t(null,o)});setImmediate(()=>this._sendCommand(e));return i},resolve:r,reject:o});if(s&&typeof s.catch==="function"){s.then(r).catch(o)}return}switch(this._authMethod){case"XOAUTH2":this._handleXOauth2Token(false,t);return;case"LOGIN":this._responseActions.push(e=>{this._actionAUTH_LOGIN_USER(e,t)});this._sendCommand("AUTH LOGIN");return;case"PLAIN":this._responseActions.push(e=>{this._actionAUTHComplete(e,t)});this._sendCommand("AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0"+this._auth.credentials.pass,"utf-8").toString("base64"),"AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0"+"/* secret */","utf-8").toString("base64"));return;case"CRAM-MD5":this._responseActions.push(e=>{this._actionAUTH_CRAM_MD5(e,t)});this._sendCommand("AUTH CRAM-MD5");return}return t(this._formatError('Unknown authentication method "'+this._authMethod+'"',"EAUTH",false,"API"))}send(e,t,n){if(!t){return n(this._formatError("Empty message","EMESSAGE",false,"API"))}const i=this._isDestroyedMessage("send message");if(i){return n(this._formatError(i,"ECONNECTION",false,"API"))}if(this._maxAllowedSize&&e.size>this._maxAllowedSize){return setImmediate(()=>{n(this._formatError("Message size larger than allowed "+this._maxAllowedSize,"EMESSAGE",false,"MAIL FROM"))})}let r=false;let o=function(){if(r){return}r=true;n(...arguments)};if(typeof t.on==="function"){t.on("error",e=>o(this._formatError(e,"ESTREAM",false,"API")))}let s=Date.now();this._setEnvelope(e,(e,n)=>{if(e){let n=new p;if(typeof t.pipe==="function"){t.pipe(n)}else{n.write(t);n.end()}return o(e)}let i=Date.now();let r=this._createSendStream((e,t)=>{if(e){return o(e)}n.envelopeTime=i-s;n.messageTime=Date.now()-i;n.messageSize=r.outByteCount;n.response=t;return o(null,n)});if(typeof t.pipe==="function"){t.pipe(r)}else{r.write(t);r.end()}})}reset(e){this._sendCommand("RSET");this._responseActions.push(t=>{if(t.charAt(0)!=="2"){return e(this._formatError("Could not reset session state. response="+t,"EPROTOCOL",t,"RSET"))}this._envelope=false;return e(null,true)})}_onConnect(){clearTimeout(this._connectionTimeout);this.logger.info({tnx:"network",localAddress:this._socket.localAddress,localPort:this._socket.localPort,remoteAddress:this._socket.remoteAddress,remotePort:this._socket.remotePort},"%s established to %s:%s",this.secure?"Secure connection":"Connection",this._socket.remoteAddress,this._socket.remotePort);if(this._destroyed){this.close();return}this.stage="connected";this._socket.removeListener("data",this._onSocketData);this._socket.removeListener("timeout",this._onSocketTimeout);this._socket.removeListener("close",this._onSocketClose);this._socket.removeListener("end",this._onSocketEnd);this._socket.on("data",this._onSocketData);this._socket.once("close",this._onSocketClose);this._socket.once("end",this._onSocketEnd);this._socket.setTimeout(this.options.socketTimeout||h);this._socket.on("timeout",this._onSocketTimeout);this._greetingTimeout=setTimeout(()=>{if(this._socket&&!this._destroyed&&this._responseActions[0]===this._actionGreeting){this._onError("Greeting never received","ETIMEDOUT",false,"CONN")}},this.options.greetingTimeout||f);this._responseActions.push(this._actionGreeting);this._socket.resume()}_onData(e){if(this._destroyed||!e||!e.length){return}let t=(e||"").toString("binary");let n=(this._remainder+t).split(/\r?\n/);let i;this._remainder=n.pop();for(let e=0,t=n.length;e<t;e++){if(this._responseQueue.length){i=this._responseQueue[this._responseQueue.length-1];if(/^\d+-/.test(i.split("\n").pop())){this._responseQueue[this._responseQueue.length-1]+="\n"+n[e];continue}}this._responseQueue.push(n[e])}if(this._responseQueue.length){i=this._responseQueue[this._responseQueue.length-1];if(/^\d+-/.test(i.split("\n").pop())){return}}this._processResponse()}_onError(e,t,n,i){clearTimeout(this._connectionTimeout);clearTimeout(this._greetingTimeout);if(this._destroyed){return}e=this._formatError(e,t,n,i);this.logger.error(n,e.message);this.emit("error",e);this.close()}_formatError(e,t,n,i){let r;if(/Error\]$/i.test(Object.prototype.toString.call(e))){r=e}else{r=new Error(e)}if(t&&t!=="Error"){r.code=t}if(n){r.response=n;r.message+=": "+n}let o=typeof n==="string"&&Number((n.match(/^\d+/)||[])[0])||false;if(o){r.responseCode=o}if(i){r.command=i}return r}_onClose(){let e=false;if(this._remainder&&this._remainder.trim()){if(this.options.debug||this.options.transactionLog){this.logger.debug({tnx:"server"},this._remainder.replace(/\r?\n$/,""))}this.lastServerResponse=e=this._remainder.trim()}this.logger.info({tnx:"network"},"Connection closed");if(this.upgrading&&!this._destroyed){return this._onError(new Error("Connection closed unexpectedly"),"ETLS",e,"CONN")}else if(![this._actionGreeting,this.close].includes(this._responseActions[0])&&!this._destroyed){return this._onError(new Error("Connection closed unexpectedly"),"ECONNECTION",e,"CONN")}else if(/^[45]\d{2}\b/.test(e)){return this._onError(new Error("Connection closed unexpectedly"),"ECONNECTION",e,"CONN")}this._destroy()}_onEnd(){if(this._socket&&!this._socket.destroyed){this._socket.destroy()}}_onTimeout(){return this._onError(new Error("Timeout"),"ETIMEDOUT",false,"CONN")}_destroy(){if(this._destroyed){return}this._destroyed=true;this.emit("end")}_upgradeConnection(e){this._socket.removeListener("data",this._onSocketData);this._socket.removeListener("timeout",this._onSocketTimeout);let t=this._socket;let n={socket:this._socket,host:this.host};Object.keys(this.options.tls||{}).forEach(e=>{n[e]=this.options.tls[e]});if(this.servername&&!n.servername){n.servername=this.servername}this.upgrading=true;try{this._socket=s.connect(n,()=>{this.secure=true;this.upgrading=false;this._socket.on("data",this._onSocketData);t.removeListener("close",this._onSocketClose);t.removeListener("end",this._onSocketEnd);return e(null,true)})}catch(t){return e(t)}this._socket.on("error",this._onSocketError);this._socket.once("close",this._onSocketClose);this._socket.once("end",this._onSocketEnd);this._socket.setTimeout(this.options.socketTimeout||h);this._socket.on("timeout",this._onSocketTimeout);t.resume()}_processResponse(){if(!this._responseQueue.length){return false}let e=this.lastServerResponse=(this._responseQueue.shift()||"").toString();if(/^\d+-/.test(e.split("\n").pop())){return}if(this.options.debug||this.options.transactionLog){this.logger.debug({tnx:"server"},e.replace(/\r?\n$/,""))}if(!e.trim()){setImmediate(()=>this._processResponse())}let t=this._responseActions.shift();if(typeof t==="function"){t.call(this,e);setImmediate(()=>this._processResponse())}else{return this._onError(new Error("Unexpected Response"),"EPROTOCOL",e,"CONN")}}_sendCommand(e,t){if(this._destroyed){return}if(this._socket.destroyed){return this.close()}if(this.options.debug||this.options.transactionLog){this.logger.debug({tnx:"client"},(t||e||"").toString().replace(/\r?\n$/,""))}this._socket.write(Buffer.from(e+"\r\n","utf-8"))}_setEnvelope(e,t){let n=[];let i=false;this._envelope=e||{};this._envelope.from=(this._envelope.from&&this._envelope.from.address||this._envelope.from||"").toString().trim();this._envelope.to=[].concat(this._envelope.to||[]).map(e=>(e&&e.address||e||"").toString().trim());if(!this._envelope.to.length){return t(this._formatError("No recipients defined","EENVELOPE",false,"API"))}if(this._envelope.from&&/[\r\n<>]/.test(this._envelope.from)){return t(this._formatError("Invalid sender "+JSON.stringify(this._envelope.from),"EENVELOPE",false,"API"))}if(/[\x80-\uFFFF]/.test(this._envelope.from)){i=true}for(let e=0,n=this._envelope.to.length;e<n;e++){if(!this._envelope.to[e]||/[\r\n<>]/.test(this._envelope.to[e])){return t(this._formatError("Invalid recipient "+JSON.stringify(this._envelope.to[e]),"EENVELOPE",false,"API"))}if(/[\x80-\uFFFF]/.test(this._envelope.to[e])){i=true}}this._envelope.rcptQueue=JSON.parse(JSON.stringify(this._envelope.to||[]));this._envelope.rejected=[];this._envelope.rejectedErrors=[];this._envelope.accepted=[];if(this._envelope.dsn){try{this._envelope.dsn=this._setDsnEnvelope(this._envelope.dsn)}catch(e){return t(this._formatError("Invalid DSN "+e.message,"EENVELOPE",false,"API"))}}this._responseActions.push(e=>{this._actionMAIL(e,t)});if(i&&this._supportedExtensions.includes("SMTPUTF8")){n.push("SMTPUTF8");this._usingSmtpUtf8=true}if(this._envelope.use8BitMime&&this._supportedExtensions.includes("8BITMIME")){n.push("BODY=8BITMIME");this._using8BitMime=true}if(this._envelope.size&&this._supportedExtensions.includes("SIZE")){n.push("SIZE="+this._envelope.size)}if(this._envelope.dsn&&this._supportedExtensions.includes("DSN")){if(this._envelope.dsn.ret){n.push("RET="+d.encodeXText(this._envelope.dsn.ret))}if(this._envelope.dsn.envid){n.push("ENVID="+d.encodeXText(this._envelope.dsn.envid))}}this._sendCommand("MAIL FROM:<"+this._envelope.from+">"+(n.length?" "+n.join(" "):""))}_setDsnEnvelope(e){let t=(e.ret||e.return||"").toString().toUpperCase()||null;if(t){switch(t){case"HDRS":case"HEADERS":t="HDRS";break;case"FULL":case"BODY":t="FULL";break}}if(t&&!["FULL","HDRS"].includes(t)){throw new Error("ret: "+JSON.stringify(t))}let n=(e.envid||e.id||"").toString()||null;let i=e.notify||null;if(i){if(typeof i==="string"){i=i.split(",")}i=i.map(e=>e.trim().toUpperCase());let e=["NEVER","SUCCESS","FAILURE","DELAY"];let t=i.filter(t=>!e.includes(t));if(t.length||i.length>1&&i.includes("NEVER")){throw new Error("notify: "+JSON.stringify(i.join(",")))}i=i.join(",")}let r=(e.recipient||e.orcpt||"").toString()||null;if(r&&r.indexOf(";")<0){r="rfc822;"+r}return{ret:t,envid:n,notify:i,orcpt:r}}_getDsnRcptToArgs(){let e=[];if(this._envelope.dsn&&this._supportedExtensions.includes("DSN")){if(this._envelope.dsn.notify){e.push("NOTIFY="+d.encodeXText(this._envelope.dsn.notify))}if(this._envelope.dsn.orcpt){e.push("ORCPT="+d.encodeXText(this._envelope.dsn.orcpt))}}return e.length?" "+e.join(" "):""}_createSendStream(e){let t=new l;let n;if(this.options.lmtp){this._envelope.accepted.forEach((t,n)=>{let i=n===this._envelope.accepted.length-1;this._responseActions.push(n=>{this._actionLMTPStream(t,i,n,e)})})}else{this._responseActions.push(t=>{this._actionSMTPStream(t,e)})}t.pipe(this._socket,{end:false});if(this.options.debug){n=new p;n.on("readable",()=>{let e;while(e=n.read()){this.logger.debug({tnx:"message"},e.toString("binary").replace(/\r?\n$/,""))}});t.pipe(n)}t.once("end",()=>{this.logger.info({tnx:"message",inByteCount:t.inByteCount,outByteCount:t.outByteCount},"<%s bytes encoded mime message (source size %s bytes)>",t.outByteCount,t.inByteCount)});return t}_actionGreeting(e){clearTimeout(this._greetingTimeout);if(e.substr(0,3)!=="220"){this._onError(new Error("Invalid greeting. response="+e),"EPROTOCOL",e,"CONN");return}if(this.options.lmtp){this._responseActions.push(this._actionLHLO);this._sendCommand("LHLO "+this.name)}else{this._responseActions.push(this._actionEHLO);this._sendCommand("EHLO "+this.name)}}_actionLHLO(e){if(e.charAt(0)!=="2"){this._onError(new Error("Invalid LHLO. response="+e),"EPROTOCOL",e,"LHLO");return}this._actionEHLO(e)}_actionEHLO(e){let t;if(e.substr(0,3)==="421"){this._onError(new Error("Server terminates connection. response="+e),"ECONNECTION",e,"EHLO");return}if(e.charAt(0)!=="2"){if(this.options.requireTLS){this._onError(new Error("EHLO failed but HELO does not support required STARTTLS. response="+e),"ECONNECTION",e,"EHLO");return}this._responseActions.push(this._actionHELO);this._sendCommand("HELO "+this.name);return}this._ehloLines=e.split(/\r?\n/).map(e=>e.replace(/^\d+[ -]/,"").trim()).filter(e=>e).slice(1);if(!this.secure&&!this.options.ignoreTLS&&(/[ -]STARTTLS\b/im.test(e)||this.options.requireTLS)){this._sendCommand("STARTTLS");this._responseActions.push(this._actionSTARTTLS);return}if(/[ -]SMTPUTF8\b/im.test(e)){this._supportedExtensions.push("SMTPUTF8")}if(/[ -]DSN\b/im.test(e)){this._supportedExtensions.push("DSN")}if(/[ -]8BITMIME\b/im.test(e)){this._supportedExtensions.push("8BITMIME")}if(/[ -]PIPELINING\b/im.test(e)){this._supportedExtensions.push("PIPELINING")}if(/[ -]AUTH\b/i.test(e)){this.allowsAuth=true}if(/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)PLAIN/i.test(e)){this._supportedAuth.push("PLAIN")}if(/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)LOGIN/i.test(e)){this._supportedAuth.push("LOGIN")}if(/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)CRAM-MD5/i.test(e)){this._supportedAuth.push("CRAM-MD5")}if(/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)XOAUTH2/i.test(e)){this._supportedAuth.push("XOAUTH2")}if(t=e.match(/[ -]SIZE(?:[ \t]+(\d+))?/im)){this._supportedExtensions.push("SIZE");this._maxAllowedSize=Number(t[1])||0}this.emit("connect")}_actionHELO(e){if(e.charAt(0)!=="2"){this._onError(new Error("Invalid HELO. response="+e),"EPROTOCOL",e,"HELO");return}this.allowsAuth=true;this.emit("connect")}_actionSTARTTLS(e){if(e.charAt(0)!=="2"){if(this.options.opportunisticTLS){this.logger.info({tnx:"smtp"},"Failed STARTTLS upgrade, continuing unencrypted");return this.emit("connect")}this._onError(new Error("Error upgrading connection with STARTTLS"),"ETLS",e,"STARTTLS");return}this._upgradeConnection((e,t)=>{if(e){this._onError(new Error("Error initiating TLS - "+(e.message||e)),"ETLS",false,"STARTTLS");return}this.logger.info({tnx:"smtp"},"Connection upgraded with STARTTLS");if(t){if(this.options.lmtp){this._responseActions.push(this._actionLHLO);this._sendCommand("LHLO "+this.name)}else{this._responseActions.push(this._actionEHLO);this._sendCommand("EHLO "+this.name)}}else{this.emit("connect")}})}_actionAUTH_LOGIN_USER(e,t){if(!/^334[ -]/.test(e)){t(this._formatError('Invalid login sequence while waiting for "334 VXNlcm5hbWU6"',"EAUTH",e,"AUTH LOGIN"));return}this._responseActions.push(e=>{this._actionAUTH_LOGIN_PASS(e,t)});this._sendCommand(Buffer.from(this._auth.credentials.user+"","utf-8").toString("base64"))}_actionAUTH_CRAM_MD5(e,t){let n=e.match(/^334\s+(.+)$/);let i="";if(!n){return t(this._formatError("Invalid login sequence while waiting for server challenge string","EAUTH",e,"AUTH CRAM-MD5"))}else{i=n[1]}let r=Buffer.from(i,"base64").toString("ascii"),o=c.createHmac("md5",this._auth.credentials.pass);o.update(r);let s=this._auth.credentials.user+" "+o.digest("hex");this._responseActions.push(e=>{this._actionAUTH_CRAM_MD5_PASS(e,t)});this._sendCommand(Buffer.from(s).toString("base64"),Buffer.from(this._auth.credentials.user+" /* secret */").toString("base64"))}_actionAUTH_CRAM_MD5_PASS(e,t){if(!e.match(/^235\s+/)){return t(this._formatError('Invalid login sequence while waiting for "235"',"EAUTH",e,"AUTH CRAM-MD5"))}this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user));this.authenticated=true;t(null,true)}_actionAUTH_LOGIN_PASS(e,t){if(!/^334[ -]/.test(e)){return t(this._formatError('Invalid login sequence while waiting for "334 UGFzc3dvcmQ6"',"EAUTH",e,"AUTH LOGIN"))}this._responseActions.push(e=>{this._actionAUTHComplete(e,t)});this._sendCommand(Buffer.from((this._auth.credentials.pass||"").toString(),"utf-8").toString("base64"),Buffer.from("/* secret */","utf-8").toString("base64"))}_actionAUTHComplete(e,t,n){if(!n&&typeof t==="function"){n=t;t=false}if(e.substr(0,3)==="334"){this._responseActions.push(e=>{if(t||this._authMethod!=="XOAUTH2"){this._actionAUTHComplete(e,true,n)}else{setImmediate(()=>this._handleXOauth2Token(true,n))}});this._sendCommand("");return}if(e.charAt(0)!=="2"){this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user));return n(this._formatError("Invalid login","EAUTH",e,"AUTH "+this._authMethod))}this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user));this.authenticated=true;n(null,true)}_actionMAIL(e,t){let n,i;if(Number(e.charAt(0))!==2){if(this._usingSmtpUtf8&&/^550 /.test(e)&&/[\x80-\uFFFF]/.test(this._envelope.from)){n="Internationalized mailbox name not allowed"}else{n="Mail command failed"}return t(this._formatError(n,"EENVELOPE",e,"MAIL FROM"))}if(!this._envelope.rcptQueue.length){return t(this._formatError("Can't send mail - no recipients defined","EENVELOPE",false,"API"))}else{this._recipientQueue=[];if(this._supportedExtensions.includes("PIPELINING")){while(this._envelope.rcptQueue.length){i=this._envelope.rcptQueue.shift();this._recipientQueue.push(i);this._responseActions.push(e=>{this._actionRCPT(e,t)});this._sendCommand("RCPT TO:<"+i+">"+this._getDsnRcptToArgs())}}else{i=this._envelope.rcptQueue.shift();this._recipientQueue.push(i);this._responseActions.push(e=>{this._actionRCPT(e,t)});this._sendCommand("RCPT TO:<"+i+">"+this._getDsnRcptToArgs())}}}_actionRCPT(e,t){let n,i,r=this._recipientQueue.shift();if(Number(e.charAt(0))!==2){if(this._usingSmtpUtf8&&/^553 /.test(e)&&/[\x80-\uFFFF]/.test(r)){n="Internationalized mailbox name not allowed"}else{n="Recipient command failed"}this._envelope.rejected.push(r);i=this._formatError(n,"EENVELOPE",e,"RCPT TO");i.recipient=r;this._envelope.rejectedErrors.push(i)}else{this._envelope.accepted.push(r)}if(!this._envelope.rcptQueue.length&&!this._recipientQueue.length){if(this._envelope.rejected.length<this._envelope.to.length){this._responseActions.push(e=>{this._actionDATA(e,t)});this._sendCommand("DATA")}else{i=this._formatError("Can't send mail - all recipients were rejected","EENVELOPE",e,"RCPT TO");i.rejected=this._envelope.rejected;i.rejectedErrors=this._envelope.rejectedErrors;return t(i)}}else if(this._envelope.rcptQueue.length){r=this._envelope.rcptQueue.shift();this._recipientQueue.push(r);this._responseActions.push(e=>{this._actionRCPT(e,t)});this._sendCommand("RCPT TO:<"+r+">"+this._getDsnRcptToArgs())}}_actionDATA(e,t){if(!/^[23]/.test(e)){return t(this._formatError("Data command failed","EENVELOPE",e,"DATA"))}let n={accepted:this._envelope.accepted,rejected:this._envelope.rejected};if(this._ehloLines&&this._ehloLines.length){n.ehlo=this._ehloLines}if(this._envelope.rejectedErrors.length){n.rejectedErrors=this._envelope.rejectedErrors}t(null,n)}_actionSMTPStream(e,t){if(Number(e.charAt(0))!==2){return t(this._formatError("Message failed","EMESSAGE",e,"DATA"))}else{return t(null,e)}}_actionLMTPStream(e,t,n,i){let r;if(Number(n.charAt(0))!==2){r=this._formatError("Message failed for recipient "+e,"EMESSAGE",n,"DATA");r.recipient=e;this._envelope.rejected.push(e);this._envelope.rejectedErrors.push(r);for(let t=0,n=this._envelope.accepted.length;t<n;t++){if(this._envelope.accepted[t]===e){this._envelope.accepted.splice(t,1)}}}if(t){return i(null,n)}}_handleXOauth2Token(e,t){this._auth.oauth2.getToken(e,(n,i)=>{if(n){this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user));return t(this._formatError(n,"EAUTH",false,"AUTH XOAUTH2"))}this._responseActions.push(n=>{this._actionAUTHComplete(n,e,t)});this._sendCommand("AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token(i),"AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token("/* secret */"))})}_isDestroyedMessage(e){if(this._destroyed){return"Cannot "+e+" - smtp connection is already destroyed."}if(this._socket){if(this._socket.destroyed){return"Cannot "+e+" - smtp connection socket is already destroyed."}if(!this._socket.writable){return"Cannot "+e+" - smtp connection socket is already half-closed."}}}_getHostname(){let e;try{e=a.hostname()||""}catch(t){e="localhost"}if(!e||e.indexOf(".")<0){e="[127.0.0.1]"}if(e.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)){e="["+e+"]"}return e}}e.exports=g},20113:(e,t,n)=>{"use strict";var i=n(9168);Object.defineProperty(t,"__esModule",{value:true});t.UnsupportedStrategy=t.UnknownError=t.OAuthCallbackError=t.MissingSecret=t.MissingAuthorize=t.MissingAdapterMethods=t.MissingAdapter=t.MissingAPIRoute=t.InvalidCallbackUrl=t.AccountNotLinkedError=void 0;t.adapterErrorHandler=O;t.capitalize=A;t.eventsErrorHandler=T;t.upperSnake=S;var r=i(n(18490));var o=i(n(48807));var s=i(n(3399));var a=i(n(55437));var c=i(n(24365));var l=i(n(75722));var p=i(n(57502));var d=i(n(70997));var u=i(n(767));function h(e,t,n){return t=(0,p.default)(t),(0,l.default)(e,f()?Reflect.construct(t,n||[],(0,p.default)(e).constructor):t.apply(e,n))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function t(){return!!e})()}var m=t.UnknownError=function(e){function t(e){var n;var i;(0,a.default)(this,t);i=h(this,t,[(n=e===null||e===void 0?void 0:e.message)!==null&&n!==void 0?n:e]);i.name="UnknownError";i.code=e.code;if(e instanceof Error){i.stack=e.stack}return i}(0,d.default)(t,e);return(0,c.default)(t,[{key:"toJSON",value:function e(){return{name:this.name,message:this.message,stack:this.stack}}}])}((0,u.default)(Error));var g=t.OAuthCallbackError=function(e){function t(){var e;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++){i[r]=arguments[r]}e=h(this,t,[].concat(i));(0,s.default)(e,"name","OAuthCallbackError");return e}(0,d.default)(t,e);return(0,c.default)(t)}(m);var v=t.AccountNotLinkedError=function(e){function t(){var e;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++){i[r]=arguments[r]}e=h(this,t,[].concat(i));(0,s.default)(e,"name","AccountNotLinkedError");return e}(0,d.default)(t,e);return(0,c.default)(t)}(m);var y=t.MissingAPIRoute=function(e){function t(){var e;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++){i[r]=arguments[r]}e=h(this,t,[].concat(i));(0,s.default)(e,"name","MissingAPIRouteError");(0,s.default)(e,"code","MISSING_NEXTAUTH_API_ROUTE_ERROR");return e}(0,d.default)(t,e);return(0,c.default)(t)}(m);var _=t.MissingSecret=function(e){function t(){var e;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++){i[r]=arguments[r]}e=h(this,t,[].concat(i));(0,s.default)(e,"name","MissingSecretError");(0,s.default)(e,"code","NO_SECRET");return e}(0,d.default)(t,e);return(0,c.default)(t)}(m);var w=t.MissingAuthorize=function(e){function t(){var e;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++){i[r]=arguments[r]}e=h(this,t,[].concat(i));(0,s.default)(e,"name","MissingAuthorizeError");(0,s.default)(e,"code","CALLBACK_CREDENTIALS_HANDLER_ERROR");return e}(0,d.default)(t,e);return(0,c.default)(t)}(m);var x=t.MissingAdapter=function(e){function t(){var e;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++){i[r]=arguments[r]}e=h(this,t,[].concat(i));(0,s.default)(e,"name","MissingAdapterError");(0,s.default)(e,"code","EMAIL_REQUIRES_ADAPTER_ERROR");return e}(0,d.default)(t,e);return(0,c.default)(t)}(m);var b=t.MissingAdapterMethods=function(e){function t(){var e;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++){i[r]=arguments[r]}e=h(this,t,[].concat(i));(0,s.default)(e,"name","MissingAdapterMethodsError");(0,s.default)(e,"code","MISSING_ADAPTER_METHODS_ERROR");return e}(0,d.default)(t,e);return(0,c.default)(t)}(m);var k=t.UnsupportedStrategy=function(e){function t(){var e;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++){i[r]=arguments[r]}e=h(this,t,[].concat(i));(0,s.default)(e,"name","UnsupportedStrategyError");(0,s.default)(e,"code","CALLBACK_CREDENTIALS_JWT_ERROR");return e}(0,d.default)(t,e);return(0,c.default)(t)}(m);var E=t.InvalidCallbackUrl=function(e){function t(){var e;(0,a.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++){i[r]=arguments[r]}e=h(this,t,[].concat(i));(0,s.default)(e,"name","InvalidCallbackUrl");(0,s.default)(e,"code","INVALID_CALLBACK_URL_ERROR");return e}(0,d.default)(t,e);return(0,c.default)(t)}(m);function S(e){return e.replace(/([A-Z])/g,"_$1").toUpperCase()}function A(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))}function T(e,t){return Object.keys(e).reduce(function(n,i){n[i]=(0,o.default)(r.default.mark(function n(){var o,s=arguments;return r.default.wrap(function n(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;o=e[i];n.next=4;return o.apply(void 0,s);case 4:return n.abrupt("return",n.sent);case 7:n.prev=7;n.t0=n["catch"](0);t.error("".concat(S(i),"_EVENT_ERROR"),n.t0);case 10:case"end":return n.stop()}},n,null,[[0,7]])}));return n},{})}function O(e,t){if(!e)return;return Object.keys(e).reduce(function(n,i){n[i]=(0,o.default)(r.default.mark(function n(){var o,s,a,c,l,p=arguments;return r.default.wrap(function n(n){while(1)switch(n.prev=n.next){case 0:n.prev=0;for(o=p.length,s=new Array(o),a=0;a<o;a++){s[a]=p[a]}t.debug("adapter_".concat(i),{args:s});c=e[i];n.next=6;return c.apply(void 0,s);case 6:return n.abrupt("return",n.sent);case 9:n.prev=9;n.t0=n["catch"](0);t.error("adapter_error_".concat(i),n.t0);l=new m(n.t0);l.name="".concat(A(i),"Error");throw l;case 15:case"end":return n.stop()}},n,null,[[0,9]])}));return n},{})}},21606:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(55511);const r=i.timingSafeEqual;t["default"]=r},21820:e=>{"use strict";e.exports=require("os")},21940:(e,t,n)=>{"use strict";const i=n(27910).Stream;const r=n(38099);const o=n(55511);const s=n(91292);class a extends i{constructor(e,t){super();this.options=e||{};if(e&&e.serviceClient){if(!e.privateKey||!e.user){setImmediate(()=>this.emit("error",new Error('Options "privateKey" and "user" are required for service account!')));return}let t=Math.min(Math.max(Number(this.options.serviceRequestTimeout)||0,0),3600);this.options.serviceRequestTimeout=t||5*60}this.logger=s.getLogger({logger:t},{component:this.options.component||"OAuth2"});this.provisionCallback=typeof this.options.provisionCallback==="function"?this.options.provisionCallback:false;this.options.accessUrl=this.options.accessUrl||"https://accounts.google.com/o/oauth2/token";this.options.customHeaders=this.options.customHeaders||{};this.options.customParams=this.options.customParams||{};this.accessToken=this.options.accessToken||false;if(this.options.expires&&Number(this.options.expires)){this.expires=this.options.expires}else{let e=Math.max(Number(this.options.timeout)||0,0);this.expires=e&&Date.now()+e*1e3||0}}getToken(e,t){if(!e&&this.accessToken&&(!this.expires||this.expires>Date.now())){return t(null,this.accessToken)}let n=(...e)=>{if(e[0]){this.logger.error({err:e[0],tnx:"OAUTH2",user:this.options.user,action:"renew"},"Failed generating new Access Token for %s",this.options.user)}else{this.logger.info({tnx:"OAUTH2",user:this.options.user,action:"renew"},"Generated new Access Token for %s",this.options.user)}t(...e)};if(this.provisionCallback){this.provisionCallback(this.options.user,!!e,(e,t,i)=>{if(!e&&t){this.accessToken=t;this.expires=i||0}n(e,t)})}else{this.generateToken(n)}}updateToken(e,t){this.accessToken=e;t=Math.max(Number(t)||0,0);this.expires=t&&Date.now()+t*1e3||0;this.emit("token",{user:this.options.user,accessToken:e||"",expires:this.expires})}generateToken(e){let t;let n;if(this.options.serviceClient){let i=Math.floor(Date.now()/1e3);let r={iss:this.options.serviceClient,scope:this.options.scope||"https://mail.google.com/",sub:this.options.user,aud:this.options.accessUrl,iat:i,exp:i+this.options.serviceRequestTimeout};let o;try{o=this.jwtSignRS256(r)}catch(t){return e(new Error("Can't generate token. Check your auth options"))}t={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:o};n={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:r}}else{if(!this.options.refreshToken){return e(new Error("Can't create new access token for user"))}t={client_id:this.options.clientId||"",client_secret:this.options.clientSecret||"",refresh_token:this.options.refreshToken,grant_type:"refresh_token"};n={client_id:this.options.clientId||"",client_secret:(this.options.clientSecret||"").substr(0,6)+"...",refresh_token:(this.options.refreshToken||"").substr(0,6)+"...",grant_type:"refresh_token"}}Object.keys(this.options.customParams).forEach(e=>{t[e]=this.options.customParams[e];n[e]=this.options.customParams[e]});this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"generate"},"Requesting token using: %s",JSON.stringify(n));this.postRequest(this.options.accessUrl,t,this.options,(t,n)=>{let i;if(t){return e(t)}try{i=JSON.parse(n.toString())}catch(t){return e(t)}if(!i||typeof i!=="object"){this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",(n||"").toString());return e(new Error("Invalid authentication response"))}let r={};Object.keys(i).forEach(e=>{if(e!=="access_token"){r[e]=i[e]}else{r[e]=(i[e]||"").toString().substr(0,6)+"..."}});this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",JSON.stringify(r));if(i.error){let t=i.error;if(i.error_description){t+=": "+i.error_description}if(i.error_uri){t+=" ("+i.error_uri+")"}return e(new Error(t))}if(i.access_token){this.updateToken(i.access_token,i.expires_in);return e(null,this.accessToken)}return e(new Error("No access token"))})}buildXOAuth2Token(e){let t=["user="+(this.options.user||""),"auth=Bearer "+(e||this.accessToken),"",""];return Buffer.from(t.join("\x01"),"utf-8").toString("base64")}postRequest(e,t,n,i){let o=false;let s=[];let a=0;let c=r(e,{method:"post",headers:n.customHeaders,body:t,allowErrorResponse:true});c.on("readable",()=>{let e;while((e=c.read())!==null){s.push(e);a+=e.length}});c.once("error",e=>{if(o){return}o=true;return i(e)});c.once("end",()=>{if(o){return}o=true;return i(null,Buffer.concat(s,a))})}toBase64URL(e){if(typeof e==="string"){e=Buffer.from(e)}return e.toString("base64").replace(/[=]+/g,"").replace(/\+/g,"-").replace(/\//g,"_")}jwtSignRS256(e){e=['{"alg":"RS256","typ":"JWT"}',JSON.stringify(e)].map(e=>this.toBase64URL(e)).join(".");let t=o.createSign("RSA-SHA256").update(e).sign(this.options.privateKey);return e+"."+this.toBase64URL(t)}}e.exports=a},22122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(55511);const r=n(42891);const o=n(51800);const s=n(2594);const a=n(34010);const c=n(17996);const l=n(50003);const p=n(90061);const d=n(78680);const u=n(99938);const h=n(79963);const f=n(37265);function m(e,t,n,r,o){const c=parseInt(e.slice(1,4),10);if((0,p.default)(n)){n=n.export()}const l=n.subarray(c>>3);const d=n.subarray(0,c>>3);const f=`aes-${c}-cbc`;if(!(0,h.default)(f)){throw new u.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`)}const m=(0,i.createCipheriv)(f,l,r);const g=(0,s.concat)(m.update(t),m.final());const v=parseInt(e.slice(-3),10);const y=(0,a.default)(o,r,g,v,d,c);return{ciphertext:g,tag:y}}function g(e,t,n,r,o){const s=parseInt(e.slice(1,4),10);const a=`aes-${s}-gcm`;if(!(0,h.default)(a)){throw new u.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`)}const c=(0,i.createCipheriv)(a,n,r,{authTagLength:16});if(o.byteLength){c.setAAD(o,{plaintextLength:t.length})}const l=c.update(t);c.final();const p=c.getAuthTag();return{ciphertext:l,tag:p}}const v=(e,t,n,s,a)=>{let h;if((0,c.isCryptoKey)(n)){(0,l.checkEncCryptoKey)(n,e,"encrypt");h=i.KeyObject.from(n)}else if(n instanceof Uint8Array||(0,p.default)(n)){h=n}else{throw new TypeError((0,d.default)(n,...f.types,"Uint8Array"))}(0,o.default)(e,h);(0,r.default)(e,s);switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return m(e,t,h,s,a);case"A128GCM":case"A192GCM":case"A256GCM":return g(e,t,h,s,a);default:throw new u.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}};t["default"]=v},22165:e=>{e.exports.isAnEarlyCloseHost=function(e){return e&&e.match(".*google(apis)?.com$")}},22429:(e,t,n)=>{"use strict";var i=n(9168);Object.defineProperty(t,"__esModule",{value:true});t["default"]=a;var r=i(n(66837));var o=i(n(58985));var s=i(n(11714));async function a(e){const{options:t,query:n,body:i}=e;const{url:a,callbacks:c,logger:l,provider:p}=t;if(!p.type){return{status:500,text:`Error: Type not specified for ${p.name}`}}if(p.type==="oauth"){try{const e=await (0,r.default)({options:t,query:n});return e}catch(e){l.error("SIGNIN_OAUTH_ERROR",{error:e,providerId:p.id});return{redirect:`${a}/error?error=OAuthSignin`}}}else if(p.type==="email"){var d;let e=i===null||i===void 0?void 0:i.email;if(!e)return{redirect:`${a}/error?error=EmailSignin`};const n=(d=p.normalizeIdentifier)!==null&&d!==void 0?d:e=>{let[t,n]=e.toLowerCase().trim().split("@");n=n.split(",")[0];return`${t}@${n}`};try{e=n(i===null||i===void 0?void 0:i.email)}catch(e){l.error("SIGNIN_EMAIL_ERROR",{error:e,providerId:p.id});return{redirect:`${a}/error?error=EmailSignin`}}const r=await (0,s.default)({email:e,adapter:t.adapter});const u={providerAccountId:e,userId:e,type:"email",provider:p.id};try{const e=await c.signIn({user:r,account:u,email:{verificationRequest:true}});if(!e){return{redirect:`${a}/error?error=AccessDenied`}}else if(typeof e==="string"){return{redirect:e}}}catch(e){return{redirect:`${a}/error?${new URLSearchParams({error:e})}`}}try{const n=await (0,o.default)(e,t);return{redirect:n}}catch(e){l.error("SIGNIN_EMAIL_ERROR",{error:e,providerId:p.id});return{redirect:`${a}/error?error=EmailSignin`}}}return{redirect:`${a}/signin`}}},22599:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(88062);const r=n(52131);const o=n(62197);const s=n(56913);const a=n(68327);const c=n(61689);const l=n(99938);const p=n(65764);const d=n(80335);const u=n(97528);async function h(e,t,n,f,m={}){let g;let v;let y;(0,d.default)(e,n,"encrypt");switch(e){case"dir":{y=n;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!r.ecdhAllowed(n)){throw new l.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime")}const{apu:o,apv:s}=m;let{epk:d}=m;d||(d=(await r.generateEpk(n)).privateKey);const{x:u,y:h,crv:_,kty:w}=await (0,p.exportJWK)(d);const x=await r.deriveKey(n,d,e==="ECDH-ES"?t:e,e==="ECDH-ES"?(0,c.bitLength)(t):parseInt(e.slice(-5,-2),10),o,s);v={epk:{x:u,crv:_,kty:w}};if(w==="EC")v.epk.y=h;if(o)v.apu=(0,a.encode)(o);if(s)v.apv=(0,a.encode)(s);if(e==="ECDH-ES"){y=x;break}y=f||(0,c.default)(t);const b=e.slice(-6);g=await (0,i.wrap)(b,x,y);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{y=f||(0,c.default)(t);g=await (0,s.encrypt)(e,n,y);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{y=f||(0,c.default)(t);const{p2c:i,p2s:r}=m;({encryptedKey:g,...v}=await (0,o.encrypt)(e,n,y,i,r));break}case"A128KW":case"A192KW":case"A256KW":{y=f||(0,c.default)(t);g=await (0,i.wrap)(e,n,y);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{y=f||(0,c.default)(t);const{iv:i}=m;({encryptedKey:g,...v}=await (0,u.wrap)(e,n,y,i));break}default:{throw new l.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}}return{cek:y,encryptedKey:g,parameters:v}}t["default"]=h},23470:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next){yield e.value}}}},23884:(e,t,n)=>{const{inspect:i}=n(28354);const r=n(79551);const{RPError:o}=n(61408);const s=n(83872);const a=n(10028);const c=n(48160);const l=n(64150);const p=n(9552);const d=n(93929);const{keystore:u}=n(73602);const h=["https://login.microsoftonline.com/common/.well-known/openid-configuration","https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","https://login.microsoftonline.com/organizations/v2.0/.well-known/openid-configuration","https://login.microsoftonline.com/consumers/v2.0/.well-known/openid-configuration"];const f=Symbol();const m={claim_types_supported:["normal"],claims_parameter_supported:false,grant_types_supported:["authorization_code","implicit"],request_parameter_supported:false,request_uri_parameter_supported:true,require_request_uri_registration:false,response_modes_supported:["query","fragment"],token_endpoint_auth_methods_supported:["client_secret_basic"]};class g{#e;constructor(e={}){const t=e[f];delete e[f];["introspection","revocation"].forEach(t=>{if(e[`${t}_endpoint`]&&e[`${t}_endpoint_auth_methods_supported`]===undefined&&e[`${t}_endpoint_auth_signing_alg_values_supported`]===undefined){if(e.token_endpoint_auth_methods_supported){e[`${t}_endpoint_auth_methods_supported`]=e.token_endpoint_auth_methods_supported}if(e.token_endpoint_auth_signing_alg_values_supported){e[`${t}_endpoint_auth_signing_alg_values_supported`]=e.token_endpoint_auth_signing_alg_values_supported}}});this.#e=new Map;Object.entries(e).forEach(([e,t])=>{this.#e.set(e,t);if(!this[e]){Object.defineProperty(this,e,{get(){return this.#e.get(e)},enumerable:true})}});a.set(this.issuer,this);const n=s(this,t);Object.defineProperties(this,{Client:{value:n,enumerable:true},FAPI1Client:{value:class e extends n{},enumerable:true},FAPI2Client:{value:class e extends n{},enumerable:true}})}get metadata(){return d(Object.fromEntries(this.#e.entries()))}static async webfinger(e){const t=l(e);const{host:n}=r.parse(t);const i=`https://${n}/.well-known/webfinger`;const s=await p.call(this,{method:"GET",url:i,responseType:"json",searchParams:{resource:t,rel:"http://openid.net/specs/connect/1.0/issuer"},headers:{Accept:"application/json"}});const d=c(s);const u=Array.isArray(d.links)&&d.links.find(e=>typeof e==="object"&&e.rel==="http://openid.net/specs/connect/1.0/issuer"&&e.href);if(!u){throw new o({message:"no issuer found in webfinger response",body:d})}if(typeof u.href!=="string"||!u.href.startsWith("https://")){throw new o({printf:["invalid issuer location %s",u.href],body:d})}const h=u.href;if(a.has(h)){return a.get(h)}const f=await this.discover(h);if(f.issuer!==h){a.del(f.issuer);throw new o("discovered issuer mismatch, expected %s, got: %s",h,f.issuer)}return f}static async discover(e){const t=v(e);const n=await p.call(this,{method:"GET",responseType:"json",url:t,headers:{Accept:"application/json"}});const i=c(n);return new g({...m,...i,[f]:!!h.find(e=>t.startsWith(e))})}async reloadJwksUri(){await u.call(this,true)}[i.custom](){return`${this.constructor.name} ${i(this.metadata,{depth:Infinity,colors:process.stdout.isTTY,compact:false,sorted:true})}`}}function v(e){const t=r.parse(e);if(t.pathname.includes("/.well-known/")){return e}else{let e;if(t.pathname.endsWith("/")){e=`${t.pathname}.well-known/openid-configuration`}else{e=`${t.pathname}/.well-known/openid-configuration`}return r.format({...t,pathname:e})}}e.exports=g},24365:(e,t,n)=>{var i=n(3038);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}e.exports=o,e.exports.__esModule=true,e.exports["default"]=e.exports},24453:(e,t,n)=>{const i=n(70885);const r=n(16156);class o{constructor(e){Object.assign(this,e);const{constructor:t,...n}=Object.getOwnPropertyDescriptors(this.constructor.prototype);Object.defineProperties(this,n)}set expires_in(e){this.expires_at=r()+Number(e)}get expires_in(){return Math.max.apply(null,[this.expires_at-r(),0])}expired(){return this.expires_in===0}claims(){if(!this.id_token){throw new TypeError("id_token not present in TokenSet")}return JSON.parse(i.decode(this.id_token.split(".")[1]))}}e.exports=o},24575:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.generalVerify=void 0;const i=n(71746);const r=n(99938);const o=n(25110);async function s(e,t,n){if(!(0,o.default)(e)){throw new r.JWSInvalid("General JWS must be an object")}if(!Array.isArray(e.signatures)||!e.signatures.every(o.default)){throw new r.JWSInvalid("JWS Signatures missing or incorrect type")}for(const r of e.signatures){try{return await (0,i.flattenedVerify)({header:r.header,payload:e.payload,protected:r.protected,signature:r.signature},t,n)}catch{}}throw new r.JWSSignatureVerificationFailed}t.generalVerify=s},24740:e=>{e.exports=function e(t,...n){const i={};for(const e of n){if(t[e]!==undefined){i[e]=t[e]}}return i}},24956:e=>{function t(n){"@babel/helpers - typeof";return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=true,e.exports["default"]=e.exports,t(n)}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports},25110:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return typeof e==="object"&&e!==null}function i(e){if(!n(e)||Object.prototype.toString.call(e)!=="[object Object]"){return false}if(Object.getPrototypeOf(e)===null){return true}let t=e;while(Object.getPrototypeOf(t)!==null){t=Object.getPrototypeOf(t)}return Object.getPrototypeOf(e)===t}t["default"]=i},25538:(e,t)=>{"use strict";t.parse=c;t.serialize=d;var n=Object.prototype.toString;var i=Object.prototype.hasOwnProperty;var r=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;var o=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/;var s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i;var a=/^[\u0020-\u003A\u003D-\u007E]*$/;function c(e,t){if(typeof e!=="string"){throw new TypeError("argument str must be a string")}var n={};var r=e.length;if(r<2)return n;var o=t&&t.decode||u;var s=0;var a=0;var c=0;do{a=e.indexOf("=",s);if(a===-1)break;c=e.indexOf(";",s);if(c===-1){c=r}else if(a>c){s=e.lastIndexOf(";",a-1)+1;continue}var d=l(e,s,a);var h=p(e,a,d);var m=e.slice(d,h);if(!i.call(n,m)){var g=l(e,a+1,c);var v=p(e,c,g);if(e.charCodeAt(g)===34&&e.charCodeAt(v-1)===34){g++;v--}var y=e.slice(g,v);n[m]=f(y,o)}s=c+1}while(s<r);return n}function l(e,t,n){do{var i=e.charCodeAt(t);if(i!==32&&i!==9)return t}while(++t<n);return n}function p(e,t,n){while(t>n){var i=e.charCodeAt(--t);if(i!==32&&i!==9)return t+1}return n}function d(e,t,n){var i=n&&n.encode||encodeURIComponent;if(typeof i!=="function"){throw new TypeError("option encode is invalid")}if(!r.test(e)){throw new TypeError("argument name is invalid")}var c=i(t);if(!o.test(c)){throw new TypeError("argument val is invalid")}var l=e+"="+c;if(!n)return l;if(null!=n.maxAge){var p=Math.floor(n.maxAge);if(!isFinite(p)){throw new TypeError("option maxAge is invalid")}l+="; Max-Age="+p}if(n.domain){if(!s.test(n.domain)){throw new TypeError("option domain is invalid")}l+="; Domain="+n.domain}if(n.path){if(!a.test(n.path)){throw new TypeError("option path is invalid")}l+="; Path="+n.path}if(n.expires){var d=n.expires;if(!h(d)||isNaN(d.valueOf())){throw new TypeError("option expires is invalid")}l+="; Expires="+d.toUTCString()}if(n.httpOnly){l+="; HttpOnly"}if(n.secure){l+="; Secure"}if(n.partitioned){l+="; Partitioned"}if(n.priority){var u=typeof n.priority==="string"?n.priority.toLowerCase():n.priority;switch(u){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(n.sameSite){var f=typeof n.sameSite==="string"?n.sameSite.toLowerCase():n.sameSite;switch(f){case true:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return l}function u(e){return e.indexOf("%")!==-1?decodeURIComponent(e):e}function h(e){return n.call(e)==="[object Date]"}function f(e,t){try{return t(e)}catch(t){return e}}},27910:e=>{"use strict";e.exports=require("stream")},27969:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;var i=n(1441);function r(e){var t;const{url:n,error:r="default",theme:o}=e;const s=`${n}/signin`;const a={default:{status:200,heading:"Error",message:(0,i.h)("p",null,(0,i.h)("a",{className:"site",href:n===null||n===void 0?void 0:n.origin},n===null||n===void 0?void 0:n.host))},configuration:{status:500,heading:"Server error",message:(0,i.h)("div",null,(0,i.h)("p",null,"There is a problem with the server configuration."),(0,i.h)("p",null,"Check the server logs for more information."))},accessdenied:{status:403,heading:"Access Denied",message:(0,i.h)("div",null,(0,i.h)("p",null,"You do not have permission to sign in."),(0,i.h)("p",null,(0,i.h)("a",{className:"button",href:s},"Sign in")))},verification:{status:403,heading:"Unable to sign in",message:(0,i.h)("div",null,(0,i.h)("p",null,"The sign in link is no longer valid."),(0,i.h)("p",null,"It may have been used already or it may have expired.")),signin:(0,i.h)("a",{className:"button",href:s},"Sign in")}};const{status:c,heading:l,message:p,signin:d}=(t=a[r.toLowerCase()])!==null&&t!==void 0?t:a.default;return{status:c,html:(0,i.h)("div",{className:"error"},(o===null||o===void 0?void 0:o.brandColor)&&(0,i.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${o===null||o===void 0?void 0:o.brandColor}
        }
      `}}),(0,i.h)("div",{className:"card"},(o===null||o===void 0?void 0:o.logo)&&(0,i.h)("img",{src:o.logo,alt:"Logo",className:"logo"}),(0,i.h)("h1",null,l),(0,i.h)("div",{className:"message"},p),d))}}},28247:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.jwtDecrypt=void 0;const i=n(81454);const r=n(81822);const o=n(99938);async function s(e,t,n){const s=await (0,i.compactDecrypt)(e,t,n);const a=(0,r.default)(s.protectedHeader,s.plaintext,n);const{protectedHeader:c}=s;if(c.iss!==undefined&&c.iss!==a.iss){throw new o.JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch")}if(c.sub!==undefined&&c.sub!==a.sub){throw new o.JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch")}if(c.aud!==undefined&&JSON.stringify(c.aud)!==JSON.stringify(a.aud)){throw new o.JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch")}const l={payload:a,protectedHeader:c};if(typeof t==="function"){return{...l,key:s.key}}return l}t.jwtDecrypt=s},28328:(e,t,n)=>{var i=n(55511),r=n(6702),o=n(81630),s=n(55591),a=n(79551),c=n(11723),l=n(22165);t.OAuth=function(e,t,n,i,r,o,s,a,c){this._isEcho=false;this._requestUrl=e;this._accessUrl=t;this._consumerKey=n;this._consumerSecret=this._encodeData(i);if(s=="RSA-SHA1"){this._privateKey=i}this._version=r;if(o===undefined){this._authorize_callback="oob"}else{this._authorize_callback=o}if(s!="PLAINTEXT"&&s!="HMAC-SHA1"&&s!="RSA-SHA1")throw new Error("Un-supported signature method: "+s);this._signatureMethod=s;this._nonceSize=a||32;this._headers=c||{"Accept":"*/*","Connection":"close","User-Agent":"Node authentication"};this._clientOptions=this._defaultClientOptions={"requestTokenHttpMethod":"POST","accessTokenHttpMethod":"POST","followRedirects":true};this._oauthParameterSeperator=","};t.OAuthEcho=function(e,t,n,i,r,o,s,a){this._isEcho=true;this._realm=e;this._verifyCredentials=t;this._consumerKey=n;this._consumerSecret=this._encodeData(i);if(o=="RSA-SHA1"){this._privateKey=i}this._version=r;if(o!="PLAINTEXT"&&o!="HMAC-SHA1"&&o!="RSA-SHA1")throw new Error("Un-supported signature method: "+o);this._signatureMethod=o;this._nonceSize=s||32;this._headers=a||{"Accept":"*/*","Connection":"close","User-Agent":"Node authentication"};this._oauthParameterSeperator=","};t.OAuthEcho.prototype=t.OAuth.prototype;t.OAuth.prototype._getTimestamp=function(){return Math.floor(new Date().getTime()/1e3)};t.OAuth.prototype._encodeData=function(e){if(e==null||e=="")return"";else{var t=encodeURIComponent(e);return t.replace(/\!/g,"%21").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}};t.OAuth.prototype._decodeData=function(e){if(e!=null){e=e.replace(/\+/g," ")}return decodeURIComponent(e)};t.OAuth.prototype._getSignature=function(e,t,n,i){var r=this._createSignatureBase(e,t,n);return this._createSignature(r,i)};t.OAuth.prototype._normalizeUrl=function(e){var t=a.parse(e,true);var n="";if(t.port){if(t.protocol=="http:"&&t.port!="80"||t.protocol=="https:"&&t.port!="443"){n=":"+t.port}}if(!t.pathname||t.pathname=="")t.pathname="/";return t.protocol+"//"+t.hostname+n+t.pathname};t.OAuth.prototype._isParameterNameAnOAuthParameter=function(e){var t=e.match("^oauth_");if(t&&t[0]==="oauth_"){return true}else{return false}};t.OAuth.prototype._buildAuthorizationHeaders=function(e){var t="OAuth ";if(this._isEcho){t+='realm="'+this._realm+'",'}for(var n=0;n<e.length;n++){if(this._isParameterNameAnOAuthParameter(e[n][0])){t+=""+this._encodeData(e[n][0])+'="'+this._encodeData(e[n][1])+'"'+this._oauthParameterSeperator}}t=t.substring(0,t.length-this._oauthParameterSeperator.length);return t};t.OAuth.prototype._makeArrayOfArgumentsHash=function(e){var t=[];for(var n in e){if(e.hasOwnProperty(n)){var i=e[n];if(Array.isArray(i)){for(var r=0;r<i.length;r++){t[t.length]=[n,i[r]]}}else{t[t.length]=[n,i]}}}return t};t.OAuth.prototype._sortRequestParams=function(e){e.sort(function(e,t){if(e[0]==t[0]){return e[1]<t[1]?-1:1}else return e[0]<t[0]?-1:1});return e};t.OAuth.prototype._normaliseRequestParams=function(e){var t=this._makeArrayOfArgumentsHash(e);for(var n=0;n<t.length;n++){t[n][0]=this._encodeData(t[n][0]);t[n][1]=this._encodeData(t[n][1])}t=this._sortRequestParams(t);var e="";for(var n=0;n<t.length;n++){e+=t[n][0];e+="=";e+=t[n][1];if(n<t.length-1)e+="&"}return e};t.OAuth.prototype._createSignatureBase=function(e,t,n){t=this._encodeData(this._normalizeUrl(t));n=this._encodeData(n);return e.toUpperCase()+"&"+t+"&"+n};t.OAuth.prototype._createSignature=function(e,t){if(t===undefined)var t="";else t=this._encodeData(t);var n=this._consumerSecret+"&"+t;var o="";if(this._signatureMethod=="PLAINTEXT"){o=n}else if(this._signatureMethod=="RSA-SHA1"){n=this._privateKey||"";o=i.createSign("RSA-SHA1").update(e).sign(n,"base64")}else{if(i.Hmac){o=i.createHmac("sha1",n).update(e).digest("base64")}else{o=r.HMACSHA1(n,e)}}return o};t.OAuth.prototype.NONCE_CHARS=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9"];t.OAuth.prototype._getNonce=function(e){var t=[];var n=this.NONCE_CHARS;var i;var r=n.length;for(var o=0;o<e;o++){i=Math.floor(Math.random()*r);t[o]=n[i]}return t.join("")};t.OAuth.prototype._createClient=function(e,t,n,i,r,a){var c={host:t,port:e,path:i,method:n,headers:r};var l;if(a){l=s}else{l=o}return l.request(c)};t.OAuth.prototype._prepareParameters=function(e,t,n,i,r){var o={"oauth_timestamp":this._getTimestamp(),"oauth_nonce":this._getNonce(this._nonceSize),"oauth_version":this._version,"oauth_signature_method":this._signatureMethod,"oauth_consumer_key":this._consumerKey};if(e){o["oauth_token"]=e}var s;if(this._isEcho){s=this._getSignature("GET",this._verifyCredentials,this._normaliseRequestParams(o),t)}else{if(r){for(var l in r){if(r.hasOwnProperty(l))o[l]=r[l]}}var p=a.parse(i,false);if(p.query){var d;var u=c.parse(p.query);for(var l in u){var h=u[l];if(typeof h=="object"){for(d in h){o[l+"["+d+"]"]=h[d]}}else{o[l]=h}}}s=this._getSignature(n,i,this._normaliseRequestParams(o),t)}var f=this._sortRequestParams(this._makeArrayOfArgumentsHash(o));f[f.length]=["oauth_signature",s];return f};t.OAuth.prototype._performSecureRequest=function(e,t,n,i,r,o,s,p){var d=this._prepareParameters(e,t,n,i,r);if(!s){s="application/x-www-form-urlencoded"}var u=a.parse(i,false);if(u.protocol=="http:"&&!u.port)u.port=80;if(u.protocol=="https:"&&!u.port)u.port=443;var h={};var f=this._buildAuthorizationHeaders(d);if(this._isEcho){h["X-Verify-Credentials-Authorization"]=f}else{h["Authorization"]=f}h["Host"]=u.host;for(var m in this._headers){if(this._headers.hasOwnProperty(m)){h[m]=this._headers[m]}}for(var m in r){if(this._isParameterNameAnOAuthParameter(m)){delete r[m]}}if((n=="POST"||n=="PUT")&&o==null&&r!=null){o=c.stringify(r).replace(/\!/g,"%21").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}if(o){if(Buffer.isBuffer(o)){h["Content-length"]=o.length}else{h["Content-length"]=Buffer.byteLength(o)}}else{h["Content-length"]=0}h["Content-Type"]=s;var g;if(!u.pathname||u.pathname=="")u.pathname="/";if(u.query)g=u.pathname+"?"+u.query;else g=u.pathname;var v;if(u.protocol=="https:"){v=this._createClient(u.port,u.hostname,n,g,h,true)}else{v=this._createClient(u.port,u.hostname,n,g,h)}var y=this._clientOptions;if(p){var _="";var w=this;var x=l.isAnEarlyCloseHost(u.hostname);var b=false;var k=function(i){if(!b){b=true;if(i.statusCode>=200&&i.statusCode<=299){p(null,_,i)}else{if((i.statusCode==301||i.statusCode==302)&&y.followRedirects&&i.headers&&i.headers.location){w._performSecureRequest(e,t,n,i.headers.location,r,o,s,p)}else{p({statusCode:i.statusCode,data:_},_,i)}}}};v.on("response",function(e){e.setEncoding("utf8");e.on("data",function(e){_+=e});e.on("end",function(){k(e)});e.on("close",function(){if(x){k(e)}})});v.on("error",function(e){if(!b){b=true;p(e)}});if((n=="POST"||n=="PUT")&&o!=null&&o!=""){v.write(o)}v.end()}else{if((n=="POST"||n=="PUT")&&o!=null&&o!=""){v.write(o)}return v}return};t.OAuth.prototype.setClientOptions=function(e){var t,n={},i=Object.prototype.hasOwnProperty;for(t in this._defaultClientOptions){if(!i.call(e,t)){n[t]=this._defaultClientOptions[t]}else{n[t]=e[t]}}this._clientOptions=n};t.OAuth.prototype.getOAuthAccessToken=function(e,t,n,i){var r={};if(typeof n=="function"){i=n}else{r.oauth_verifier=n}this._performSecureRequest(e,t,this._clientOptions.accessTokenHttpMethod,this._accessUrl,r,null,null,function(e,t,n){if(e)i(e);else{var r=c.parse(t);var o=r["oauth_token"];delete r["oauth_token"];var s=r["oauth_token_secret"];delete r["oauth_token_secret"];i(null,o,s,r)}})};t.OAuth.prototype.getProtectedResource=function(e,t,n,i,r){this._performSecureRequest(n,i,t,e,null,"",null,r)};t.OAuth.prototype["delete"]=function(e,t,n,i){return this._performSecureRequest(t,n,"DELETE",e,null,"",null,i)};t.OAuth.prototype.get=function(e,t,n,i){return this._performSecureRequest(t,n,"GET",e,null,"",null,i)};t.OAuth.prototype._putOrPost=function(e,t,n,i,r,o,s){var a=null;if(typeof o=="function"){s=o;o=null}if(typeof r!="string"&&!Buffer.isBuffer(r)){o="application/x-www-form-urlencoded";a=r;r=null}return this._performSecureRequest(n,i,e,t,a,r,o,s)};t.OAuth.prototype.put=function(e,t,n,i,r,o){return this._putOrPost("PUT",e,t,n,i,r,o)};t.OAuth.prototype.post=function(e,t,n,i,r,o){return this._putOrPost("POST",e,t,n,i,r,o)};t.OAuth.prototype.getOAuthRequestToken=function(e,t){if(typeof e=="function"){t=e;e={}}if(this._authorize_callback){e["oauth_callback"]=this._authorize_callback}this._performSecureRequest(null,null,this._clientOptions.requestTokenHttpMethod,this._requestUrl,e,null,null,function(e,n,i){if(e)t(e);else{var r=c.parse(n);var o=r["oauth_token"];var s=r["oauth_token_secret"];delete r["oauth_token"];delete r["oauth_token_secret"];t(null,o,s,r)}})};t.OAuth.prototype.signUrl=function(e,t,n,i){if(i===undefined){var i="GET"}var r=this._prepareParameters(t,n,i,e,{});var o=a.parse(e,false);var s="";for(var c=0;c<r.length;c++){s+=r[c][0]+"="+this._encodeData(r[c][1])+"&"}s=s.substring(0,s.length-1);return o.protocol+"//"+o.host+o.pathname+"?"+s};t.OAuth.prototype.authHeader=function(e,t,n,i){if(i===undefined){var i="GET"}var r=this._prepareParameters(t,n,i,e,{});return this._buildAuthorizationHeaders(r)}},28339:(e,t,n)=>{var i=n(18040);function r(){var t,n,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function c(e,r,o,s){var a=r&&r.prototype instanceof p?r:p,c=Object.create(a.prototype);return i(c,"_invoke",function(e,i,r){var o,s,a,c=0,p=r||[],d=!1,u={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function e(e,n){return o=e,s=0,a=t,u.n=n,l}};function h(e,i){for(s=e,a=i,n=0;!d&&c&&!r&&n<p.length;n++){var r,o=p[n],h=u.p,f=o[2];e>3?(r=f===i)&&(a=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=h&&((r=e<2&&h<o[1])?(s=0,u.v=i,u.n=o[1]):h<f&&(r=e<3||o[0]>i||i>f)&&(o[4]=e,o[5]=i,u.n=f,s=0))}if(r||e>1)return l;throw d=!0,i}return function(r,p,f){if(c>1)throw TypeError("Generator is already running");for(d&&1===p&&h(p,f),s=p,a=f;(n=s<2?t:a)||!d;){o||(s?s<3?(s>1&&(u.n=-1),h(s,a)):u.n=a:u.v=a);try{if(c=2,o){if(s||(r="next"),n=o[r]){if(!(n=n.call(o,a)))throw TypeError("iterator result is not an object");if(!n.done)return n;a=n.value,s<2&&(s=0)}else 1===s&&(n=o["return"])&&n.call(o),s<2&&(a=TypeError("The iterator does not provide a '"+r+"' method"),s=1);o=t}else if((n=(d=u.n<0)?a:e.call(i,u))!==l)break}catch(e){o=t,s=1,a=e}finally{c=1}}return{value:n,done:d}}}(e,o,s),!0),c}var l={};function p(){}function d(){}function u(){}n=Object.getPrototypeOf;var h=[][s]?n(n([][s]())):(i(n={},s,function(){return this}),n),f=u.prototype=p.prototype=Object.create(h);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,i(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return d.prototype=u,i(f,"constructor",u),i(u,"constructor",d),d.displayName="GeneratorFunction",i(u,a,"GeneratorFunction"),i(f),i(f,a,"Generator"),i(f,s,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(e.exports=r=function e(){return{w:c,m:m}},e.exports.__esModule=true,e.exports["default"]=e.exports)()}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},28354:e=>{"use strict";e.exports=require("util")},28510:(e,t,n)=>{"use strict";var i=n(9168);Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;t.proxyLogger=m;t.setLogger=h;var r=i(n(18490));var o=i(n(3399));var s=i(n(48807));var a=n(20113);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e){if(e instanceof Error&&!(e instanceof a.UnknownError)){return{message:e.message,stack:e.stack,name:e.name}}if(d(e)){var t;e.error=p(e.error);e.message=(t=e.message)!==null&&t!==void 0?t:e.error.message}return e}function d(e){return!!(e!==null&&e!==void 0&&e.error)}var u={error:function e(e,t){t=p(t);console.error("[next-auth][error][".concat(e,"]"),"\nhttps://next-auth.js.org/errors#".concat(e.toLowerCase()),t.message,t)},warn:function e(e){console.warn("[next-auth][warn][".concat(e,"]"),"\nhttps://next-auth.js.org/warnings#".concat(e.toLowerCase()))},debug:function e(e,t){console.log("[next-auth][debug][".concat(e,"]"),t)}};function h(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=arguments.length>1?arguments[1]:undefined;if(!t)u.debug=function(){};if(e.error)u.error=e.error;if(e.warn)u.warn=e.warn;if(e.debug)u.debug=e.debug}var f=t["default"]=u;function m(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:u;var t=arguments.length>1?arguments[1]:undefined;try{if(typeof window==="undefined"){return e}var n={};var i=function e(e){n[e]=function(){var n=(0,s.default)(r.default.mark(function n(i,o){var s,a;return r.default.wrap(function n(n){while(1)switch(n.prev=n.next){case 0:u[e](i,o);if(e==="error"){o=p(o)};o.client=true;s="".concat(t,"/_log");a=new URLSearchParams(l({level:e,code:i},o));if(!navigator.sendBeacon){n.next=8;break}return n.abrupt("return",navigator.sendBeacon(s,a));case 8:n.next=10;return fetch(s,{method:"POST",body:a,keepalive:true});case 10:return n.abrupt("return",n.sent);case 11:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()};for(var o in e){i(o)}return n}catch(e){return u}}},28577:(e,t,n)=>{const i=n(37544);const r=n(93929);const o=n(78830);const s=Symbol();const a=(e,{alg:t,use:n})=>{let i=0;if(t&&e.alg){i++}if(n&&e.use){i++}return i};function c(e){switch(typeof e==="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:return undefined}}function l(e,t,n,r){if(t){return new Set([t])}switch(n){case"EC":{let t=[];if(e==="enc"||e===undefined){t=t.concat(["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"])}if(e==="sig"||e===undefined){switch(r){case"P-256":case"P-384":t=t.concat([`ES${r.slice(-3)}`]);break;case"P-521":t=t.concat(["ES512"]);break;case"secp256k1":if(i.cryptoRuntime==="node:crypto"){t=t.concat(["ES256K"])}break}}return new Set(t)}case"OKP":{return new Set(["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"])}case"RSA":{let t=[];if(e==="enc"||e===undefined){t=t.concat(["RSA-OAEP","RSA-OAEP-256","RSA-OAEP-384","RSA-OAEP-512"]);if(i.cryptoRuntime==="node:crypto"){t=t.concat(["RSA1_5"])}}if(e==="sig"||e===undefined){t=t.concat(["PS256","PS384","PS512","RS256","RS384","RS512"])}return new Set(t)}default:throw new Error("unreachable")}}e.exports=class e{#t;constructor(e,t){if(e!==s)throw new Error("invalid constructor call");this.#t=t}toJWKS(){return{keys:this.map(({jwk:{d:e,p:t,q:n,dp:i,dq:r,qi:o,...s}})=>s)}}all({alg:e,kid:t,use:n}={}){if(!n||!e){throw new Error}const i=c(e);const r={alg:e,use:n};return this.filter(r=>{let o=true;if(o&&i!==undefined&&r.jwk.kty!==i){o=false}if(o&&t!==undefined&&r.jwk.kid!==t){o=false}if(o&&n!==undefined&&r.jwk.use!==undefined&&r.jwk.use!==n){o=false}if(o&&r.jwk.alg&&r.jwk.alg!==e){o=false}else if(!r.algorithms.has(e)){o=false}return o}).sort((e,t)=>a(t,r)-a(e,r))}get(...e){return this.all(...e)[0]}static async fromJWKS(e,{onlyPublic:t=false,onlyPrivate:n=false}={}){if(!o(e)||!Array.isArray(e.keys)||e.keys.some(e=>!o(e)||!("kty"in e))){throw new TypeError("jwks must be a JSON Web Key Set formatted object")}const a=[];for(let o of e.keys){o=r(o);const{kty:e,kid:s,crv:c}=o;let{alg:p,use:d}=o;if(typeof e!=="string"||!e){continue}if(d!==undefined&&d!=="sig"&&d!=="enc"){continue}if(typeof p!=="string"&&p!==undefined){continue}if(typeof s!=="string"&&s!==undefined){continue}if(e==="EC"&&d==="sig"){switch(c){case"P-256":p="ES256";break;case"P-384":p="ES384";break;case"P-521":p="ES512";break;default:break}}if(c==="secp256k1"){d="sig";p="ES256K"}if(e==="OKP"){switch(c){case"Ed25519":case"Ed448":d="sig";p="EdDSA";break;case"X25519":case"X448":d="enc";break;default:break}}if(p&&!d){switch(true){case p.startsWith("ECDH"):d="enc";break;case p.startsWith("RSA"):d="enc";break;default:break}}if(n&&(o.kty==="oct"||!o.d)){throw new Error("jwks must only contain private keys")}if(t&&(o.d||o.k)){continue}a.push({jwk:{...o,alg:p,use:d},async keyObject(e){if(this[e]){return this[e]}const t=await i.importJWK(this.jwk,e);this[e]=t;return t},get algorithms(){Object.defineProperty(this,"algorithms",{value:l(this.jwk.use,this.jwk.alg,this.jwk.kty,this.jwk.crv),enumerable:true,configurable:false});return this.algorithms}})}return new this(s,a)}filter(...e){return this.#t.filter(...e)}find(...e){return this.#t.find(...e)}every(...e){return this.#t.every(...e)}some(...e){return this.#t.some(...e)}map(...e){return this.#t.map(...e)}forEach(...e){return this.#t.forEach(...e)}reduce(...e){return this.#t.reduce(...e)}sort(...e){return this.#t.sort(...e)}*[Symbol.iterator](){for(const e of this.#t){yield e}}}},29021:e=>{"use strict";e.exports=require("fs")},29132:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.compactVerify=void 0;const i=n(71746);const r=n(99938);const o=n(2594);async function s(e,t,n){if(e instanceof Uint8Array){e=o.decoder.decode(e)}if(typeof e!=="string"){throw new r.JWSInvalid("Compact JWS must be a string or Uint8Array")}const{0:s,1:a,2:c,length:l}=e.split(".");if(l!==3){throw new r.JWSInvalid("Invalid Compact JWS")}const p=await (0,i.flattenedVerify)({payload:a,protected:s,signature:c},t,n);const d={payload:p.payload,protectedHeader:p.protectedHeader};if(typeof t==="function"){return{...d,key:p.key}}return d}t.compactVerify=s},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createSecret=s;t.fromDate=r;t.hashToken=o;var i=n(55511);function r(e,t=Date.now()){return new Date(t+e*1e3)}function o(e,t){var n;const{provider:r,secret:o}=t;return(0,i.createHash)("sha256").update(`${e}${(n=r.secret)!==null&&n!==void 0?n:o}`).digest("hex")}function s(e){var t;const{authOptions:n,url:r}=e;return(t=n.secret)!==null&&t!==void 0?t:(0,i.createHash)("sha256").update(JSON.stringify({...r,...n})).digest("hex")}},30641:(e,t,n)=>{const{inspect:i}=n(28354);const{RPError:r,OPError:o}=n(61408);const s=n(16156);class a{#n;#i;#r;#o;#s;#a;#c;#l;#p;constructor({client:e,exchangeBody:t,clientAssertionPayload:n,response:i,maxAge:o,DPoP:a}){["verification_uri","user_code","device_code"].forEach(e=>{if(typeof i[e]!=="string"||!i[e]){throw new r(`expected ${e} string to be returned by Device Authorization Response, got %j`,i[e])}});if(!Number.isSafeInteger(i.expires_in)){throw new r("expected expires_in number to be returned by Device Authorization Response, got %j",i.expires_in)}this.#a=s()+i.expires_in;this.#i=e;this.#o=a;this.#l=o;this.#s=t;this.#r=n;this.#p=i;this.#c=i.interval*1e3||5e3}abort(){this.#n=true}async poll({signal:e}={}){if(e&&e.aborted||this.#n){throw new r("polling aborted")}if(this.expired()){throw new r("the device code %j has expired and the device authorization session has concluded",this.device_code)}await new Promise(e=>setTimeout(e,this.#c));let t;try{t=await this.#i.grant({...this.#s,grant_type:"urn:ietf:params:oauth:grant-type:device_code",device_code:this.device_code},{clientAssertionPayload:this.#r,DPoP:this.#o})}catch(t){switch(t instanceof o&&t.error){case"slow_down":this.#c+=5e3;case"authorization_pending":return this.poll({signal:e});default:throw t}}if("id_token"in t){await this.#i.decryptIdToken(t);await this.#i.validateIdToken(t,undefined,"token",this.#l)}return t}get device_code(){return this.#p.device_code}get user_code(){return this.#p.user_code}get verification_uri(){return this.#p.verification_uri}get verification_uri_complete(){return this.#p.verification_uri_complete}get expires_in(){return Math.max.apply(null,[this.#a-s(),0])}expired(){return this.expires_in===0}[i.custom](){return`${this.constructor.name} ${i(this.#p,{depth:Infinity,colors:process.stdout.isTTY,compact:false,sorted:true})}`}}e.exports=a},30994:e=>{function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=true,e.exports["default"]=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports},31055:(e,t,n)=>{"use strict";var i;i={value:true};t.A=o;var r=n(49526);function o(e){return{id:"email",type:"email",name:"Email",server:{host:"localhost",port:25,auth:{user:"",pass:""}},from:"NextAuth <no-reply@example.com>",maxAge:24*60*60,async sendVerificationRequest(e){const{identifier:t,url:n,provider:i,theme:o}=e;const{host:c}=new URL(n);const l=(0,r.createTransport)(i.server);const p=await l.sendMail({to:t,from:i.from,subject:`Sign in to ${c}`,text:a({url:n,host:c}),html:s({url:n,host:c,theme:o})});const d=p.rejected.concat(p.pending).filter(Boolean);if(d.length){throw new Error(`Email (${d.join(", ")}) could not be sent`)}},options:e}}function s(e){const{url:t,host:n,theme:i}=e;const r=n.replace(/\./g,"&#8203;.");const o=i.brandColor||"#346df1";const s=i.buttonText||"#fff";const a={background:"#f9f9f9",text:"#444",mainBackground:"#fff",buttonBackground:o,buttonBorder:o,buttonText:s};return`
<body style="background: ${a.background};">
  <table width="100%" border="0" cellspacing="20" cellpadding="0"
    style="background: ${a.mainBackground}; max-width: 600px; margin: auto; border-radius: 10px;">
    <tr>
      <td align="center"
        style="padding: 10px 0px; font-size: 22px; font-family: Helvetica, Arial, sans-serif; color: ${a.text};">
        Sign in to <strong>${r}</strong>
      </td>
    </tr>
    <tr>
      <td align="center" style="padding: 20px 0;">
        <table border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td align="center" style="border-radius: 5px;" bgcolor="${a.buttonBackground}"><a href="${t}"
                target="_blank"
                style="font-size: 18px; font-family: Helvetica, Arial, sans-serif; color: ${a.buttonText}; text-decoration: none; border-radius: 5px; padding: 10px 20px; border: 1px solid ${a.buttonBorder}; display: inline-block; font-weight: bold;">Sign
                in</a></td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td align="center"
        style="padding: 0px 0px 10px 0px; font-size: 16px; line-height: 22px; font-family: Helvetica, Arial, sans-serif; color: ${a.text};">
        If you did not request this email you can safely ignore it.
      </td>
    </tr>
  </table>
</body>
`}function a({url:e,host:t}){return`Sign in to ${t}
${e}

`}},31534:(e,t,n)=>{"use strict";const i=n(27910).Transform;const r=n(55511);class o extends i{constructor(e){super();e=e||{};this.chunkBuffer=[];this.chunkBufferLen=0;this.bodyHash=r.createHash(e.hashAlgo||"sha1");this.remainder="";this.byteLength=0;this.debug=e.debug;this._debugBody=e.debug?[]:false}updateHash(e){let t;let n="";let i="file";for(let t=e.length-1;t>=0;t--){let r=e[t];if(i==="file"&&(r===10||r===13)){}else if(i==="file"&&(r===9||r===32)){i="line"}else if(i==="line"&&(r===9||r===32)){}else if(i==="file"||i==="line"){i="body";if(t===e.length-1){break}}if(t===0){if(i==="file"&&(!this.remainder||/[\r\n]$/.test(this.remainder))||i==="line"&&(!this.remainder||/[ \t]$/.test(this.remainder))){this.remainder+=e.toString("binary");return}else if(i==="line"||i==="file"){n=e.toString("binary");e=false;break}}if(i!=="body"){continue}n=e.slice(t+1).toString("binary");e=e.slice(0,t+1);break}let r=!!this.remainder;if(e&&!r){for(let t=0,n=e.length;t<n;t++){if(t&&e[t]===10&&e[t-1]!==13){r=true;break}else if(t&&e[t]===13&&e[t-1]===32){r=true;break}else if(t&&e[t]===32&&e[t-1]===32){r=true;break}else if(e[t]===9){r=true;break}}}if(r){t=this.remainder+(e?e.toString("binary"):"");this.remainder=n;t=t.replace(/\r?\n/g,"\n").replace(/[ \t]*$/gm,"").replace(/[ \t]+/gm," ").replace(/\n/g,"\r\n");e=Buffer.from(t,"binary")}else if(n){this.remainder=n}if(this.debug){this._debugBody.push(e)}this.bodyHash.update(e)}_transform(e,t,n){if(!e||!e.length){return n()}if(typeof e==="string"){e=Buffer.from(e,t)}this.updateHash(e);this.byteLength+=e.length;this.push(e);n()}_flush(e){if(/[\r\n]$/.test(this.remainder)&&this.byteLength>2){this.bodyHash.update(Buffer.from("\r\n"))}if(!this.byteLength){this.push(Buffer.from("\r\n"))}this.emit("hash",this.bodyHash.digest("base64"),this.debug?Buffer.concat(this._debugBody):false);e()}}e.exports=o},33648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.generateSecret=void 0;const i=n(51688);async function r(e,t){return(0,i.generateSecret)(e,t)}t.generateSecret=r},33873:e=>{"use strict";e.exports=require("path")},34010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(55511);const r=n(2594);function o(e,t,n,o,s,a){const c=(0,r.concat)(e,t,n,(0,r.uint64be)(e.length<<3));const l=(0,i.createHmac)(`sha${o}`,s);l.update(c);return l.digest().slice(0,a>>3)}t["default"]=o},34041:(e,t,n)=>{"use strict";const i=n(27910).Transform;class r extends i{constructor(e){super(e);this.lastBytes=Buffer.alloc(4);this.headersParsed=false;this.headerBytes=0;this.headerChunks=[];this.rawHeaders=false;this.bodySize=0}updateLastBytes(e){let t=this.lastBytes.length;let n=Math.min(e.length,t);for(let e=0,i=t-n;e<i;e++){this.lastBytes[e]=this.lastBytes[e+n]}for(let i=1;i<=n;i++){this.lastBytes[t-i]=e[e.length-i]}}checkHeaders(e){if(this.headersParsed){return true}let t=this.lastBytes.length;let n=0;this.curLinePos=0;for(let i=0,r=this.lastBytes.length+e.length;i<r;i++){let r;if(i<t){r=this.lastBytes[i]}else{r=e[i-t]}if(r===10&&i){let r=i-1<t?this.lastBytes[i-1]:e[i-1-t];let o=i>1?i-2<t?this.lastBytes[i-2]:e[i-2-t]:false;if(r===10){this.headersParsed=true;n=i-t+1;this.headerBytes+=n;break}else if(r===13&&o===10){this.headersParsed=true;n=i-t+1;this.headerBytes+=n;break}}}if(this.headersParsed){this.headerChunks.push(e.slice(0,n));this.rawHeaders=Buffer.concat(this.headerChunks,this.headerBytes);this.headerChunks=null;this.emit("headers",this.parseHeaders());if(e.length-1>n){let t=e.slice(n);this.bodySize+=t.length;setImmediate(()=>this.push(t))}return false}else{this.headerBytes+=e.length;this.headerChunks.push(e)}this.updateLastBytes(e);return false}_transform(e,t,n){if(!e||!e.length){return n()}if(typeof e==="string"){e=Buffer.from(e,t)}let i;try{i=this.checkHeaders(e)}catch(e){return n(e)}if(i){this.bodySize+=e.length;this.push(e)}setImmediate(n)}_flush(e){if(this.headerChunks){let e=Buffer.concat(this.headerChunks,this.headerBytes);this.bodySize+=e.length;this.push(e);this.headerChunks=null}e()}parseHeaders(){let e=(this.rawHeaders||"").toString().split(/\r?\n/);for(let t=e.length-1;t>0;t--){if(/^\s/.test(e[t])){e[t-1]+="\n"+e[t];e.splice(t,1)}}return e.filter(e=>e.trim()).map(e=>({key:e.substr(0,e.indexOf(":")).trim().toLowerCase(),line:e}))}}e.exports=r},34631:e=>{"use strict";e.exports=require("tls")},35426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;t.getServerSession=l;t.unstable_getServerSession=d;var i=n(64872);var r=n(87451);async function o(e,t,n){var o,s,a,c,l,p,d,u;const{nextauth:h,...f}=e.query;(o=n.secret)!==null&&o!==void 0?o:n.secret=(s=(a=(c=n.jwt)===null||c===void 0?void 0:c.secret)!==null&&a!==void 0?a:process.env.NEXTAUTH_SECRET)!==null&&s!==void 0?s:process.env.AUTH_SECRET;const m=await (0,i.AuthHandler)({req:{body:e.body,query:f,cookies:e.cookies,headers:e.headers,method:e.method,action:h===null||h===void 0?void 0:h[0],providerId:h===null||h===void 0?void 0:h[1],error:(l=e.query.error)!==null&&l!==void 0?l:h===null||h===void 0?void 0:h[1]},options:n});t.status((p=m.status)!==null&&p!==void 0?p:200);(d=m.cookies)===null||d===void 0||d.forEach(e=>(0,r.setCookie)(t,e));(u=m.headers)===null||u===void 0||u.forEach(e=>t.setHeader(e.key,e.value));if(m.redirect){var g;if(((g=e.body)===null||g===void 0?void 0:g.json)!=="true"){t.status(302).setHeader("Location",m.redirect);t.end();return}return t.json({url:m.redirect})}return t.send(m.body)}async function s(e,t,o){var s,a,c,l;(s=o.secret)!==null&&s!==void 0?s:o.secret=(a=process.env.NEXTAUTH_SECRET)!==null&&a!==void 0?a:process.env.AUTH_SECRET;const{headers:p,cookies:d}=n(44999);const u=(c=await t.params)===null||c===void 0?void 0:c.nextauth;const h=Object.fromEntries(e.nextUrl.searchParams);const f=await (0,r.getBody)(e);const m=await (0,i.AuthHandler)({req:{body:f,query:h,cookies:Object.fromEntries((await d()).getAll().map(e=>[e.name,e.value])),headers:Object.fromEntries(await p()),method:e.method,action:u===null||u===void 0?void 0:u[0],providerId:u===null||u===void 0?void 0:u[1],error:(l=h.error)!==null&&l!==void 0?l:u===null||u===void 0?void 0:u[1]},options:o});const g=(0,r.toResponse)(m);const v=g.headers.get("Location");if((f===null||f===void 0?void 0:f.json)==="true"&&v){g.headers.delete("Location");g.headers.set("Content-Type","application/json");return new Response(JSON.stringify({url:v}),{status:m.status,headers:g.headers})}return g}function a(...e){var t;if(e.length===1){return async(t,n)=>{if(n!==null&&n!==void 0&&n.params){return await s(t,n,e[0])}return await o(t,n,e[0])}}if((t=e[1])!==null&&t!==void 0&&t.params){return s(...e)}return o(...e)}var c=t["default"]=a;async function l(...e){var t,o,s;const a=e.length===0||e.length===1;let c,p,d;if(a){d=Object.assign({},e[0],{providers:[]});const{headers:t,cookies:i}=n(44999);c={headers:Object.fromEntries(await t()),cookies:Object.fromEntries((await i()).getAll().map(e=>[e.name,e.value]))};p={getHeader(){},setCookie(){},setHeader(){}}}else{c=e[0];p=e[1];d=Object.assign({},e[2],{providers:[]})}(o=(t=d).secret)!==null&&o!==void 0?o:t.secret=(s=process.env.NEXTAUTH_SECRET)!==null&&s!==void 0?s:process.env.AUTH_SECRET;const u=await (0,i.AuthHandler)({options:d,req:{action:"session",method:"GET",cookies:c.cookies,headers:c.headers}});const{body:h,cookies:f,status:m=200}=u;f===null||f===void 0||f.forEach(e=>(0,r.setCookie)(p,e));if(h&&typeof h!=="string"&&Object.keys(h).length){if(m===200){if(a)delete h.expires;return h}throw new Error(h.message)}return null}let p=false;async function d(...e){if(!p&&"production"!=="production"){}return await l(...e)}},35571:(e,t,n)=>{const{createHash:i,randomBytes:r}=n(55511);const o=n(70885);const s=(e=32)=>o.encode(r(e));e.exports={random:s,state:s,nonce:s,codeVerifier:s,codeChallenge:e=>o.encode(i("sha256").update(e).digest())}},35749:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.bitLength=void 0;const i=n(99938);const r=n(7552);function o(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new i.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}t.bitLength=o;t["default"]=e=>(0,r.default)(new Uint8Array(o(e)>>3))},36344:(e,t)=>{"use strict";var n;n={value:true};t.A=i;function i(e){return{id:"google",name:"Google",type:"oauth",wellKnown:"https://accounts.google.com/.well-known/openid-configuration",authorization:{params:{scope:"openid email profile"}},idToken:true,checks:["pkce","state"],profile(e){return{id:e.sub,name:e.name,email:e.email,image:e.picture}},style:{logo:"/google.svg",bg:"#fff",text:"#000"},options:e}}},36720:(e,t,n)=>{var i=n(11723),r=n(55511),o=n(55591),s=n(81630),a=n(79551),c=n(22165);t.OAuth2=function(e,t,n,i,r,o){this._clientId=e;this._clientSecret=t;this._baseSite=n;this._authorizeUrl=i||"/oauth/authorize";this._accessTokenUrl=r||"/oauth/access_token";this._accessTokenName="access_token";this._authMethod="Bearer";this._customHeaders=o||{};this._useAuthorizationHeaderForGET=false;this._agent=undefined};t.OAuth2.prototype.setAgent=function(e){this._agent=e};t.OAuth2.prototype.setAccessTokenName=function(e){this._accessTokenName=e};t.OAuth2.prototype.setAuthMethod=function(e){this._authMethod=e};t.OAuth2.prototype.useAuthorizationHeaderforGET=function(e){this._useAuthorizationHeaderForGET=e};t.OAuth2.prototype._getAccessTokenUrl=function(){return this._baseSite+this._accessTokenUrl};t.OAuth2.prototype.buildAuthHeader=function(e){return this._authMethod+" "+e};t.OAuth2.prototype._chooseHttpLibrary=function(e){var t=o;if(e.protocol!="https:"){t=s}return t};t.OAuth2.prototype._request=function(e,t,n,r,o,s){var c=a.parse(t,true);if(c.protocol=="https:"&&!c.port){c.port=443}var l=this._chooseHttpLibrary(c);var p={};for(var d in this._customHeaders){p[d]=this._customHeaders[d]}if(n){for(var d in n){p[d]=n[d]}}p["Host"]=c.host;if(!p["User-Agent"]){p["User-Agent"]="Node-oauth"}if(r){if(Buffer.isBuffer(r)){p["Content-Length"]=r.length}else{p["Content-Length"]=Buffer.byteLength(r)}}else{p["Content-length"]=0}if(o&&!("Authorization"in p)){if(!c.query)c.query={};c.query[this._accessTokenName]=o}var u=i.stringify(c.query);if(u)u="?"+u;var h={host:c.hostname,port:c.port,path:c.pathname+u,method:e,headers:p};this._executeRequest(l,h,r,s)};t.OAuth2.prototype._executeRequest=function(e,t,n,i){var r=c.isAnEarlyCloseHost(t.host);var o=false;function s(e,t){if(!o){o=true;if(!(e.statusCode>=200&&e.statusCode<=299)&&e.statusCode!=301&&e.statusCode!=302){i({statusCode:e.statusCode,data:t})}else{i(null,t,e)}}}var a="";if(this._agent){t.agent=this._agent}var l=e.request(t);l.on("response",function(e){e.on("data",function(e){a+=e});e.on("close",function(t){if(r){s(e,a)}});e.addListener("end",function(){s(e,a)})});l.on("error",function(e){o=true;i(e)});if((t.method=="POST"||t.method=="PUT")&&n){l.write(n)}l.end()};t.OAuth2.prototype.getAuthorizeUrl=function(e){var e=e||{};e["client_id"]=this._clientId;return this._baseSite+this._authorizeUrl+"?"+i.stringify(e)};t.OAuth2.prototype.getOAuthAccessToken=function(e,t,n){var t=t||{};t["client_id"]=this._clientId;t["client_secret"]=this._clientSecret;var r=t.grant_type==="refresh_token"?"refresh_token":"code";t[r]=e;var o=i.stringify(t);var s={"Content-Type":"application/x-www-form-urlencoded"};this._request("POST",this._getAccessTokenUrl(),s,o,null,function(e,t,r){if(e)n(e);else{var o;try{o=JSON.parse(t)}catch(e){o=i.parse(t)}var s=o["access_token"];var a=o["refresh_token"];delete o["refresh_token"];n(null,s,a,o)}})};t.OAuth2.prototype.getProtectedResource=function(e,t,n){this._request("GET",e,{},"",t,n)};t.OAuth2.prototype.get=function(e,t,n){if(this._useAuthorizationHeaderForGET){var i={"Authorization":this.buildAuthHeader(t)};t=null}else{i={}}this._request("GET",e,i,"",t,n)}},36736:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.flattenedDecrypt=void 0;const i=n(68327);const r=n(85634);const o=n(66318);const s=n(99938);const a=n(65597);const c=n(25110);const l=n(43343);const p=n(2594);const d=n(61689);const u=n(8535);const h=n(93069);async function f(e,t,n){var f;if(!(0,c.default)(e)){throw new s.JWEInvalid("Flattened JWE must be an object")}if(e.protected===undefined&&e.header===undefined&&e.unprotected===undefined){throw new s.JWEInvalid("JOSE Header missing")}if(typeof e.iv!=="string"){throw new s.JWEInvalid("JWE Initialization Vector missing or incorrect type")}if(typeof e.ciphertext!=="string"){throw new s.JWEInvalid("JWE Ciphertext missing or incorrect type")}if(typeof e.tag!=="string"){throw new s.JWEInvalid("JWE Authentication Tag missing or incorrect type")}if(e.protected!==undefined&&typeof e.protected!=="string"){throw new s.JWEInvalid("JWE Protected Header incorrect type")}if(e.encrypted_key!==undefined&&typeof e.encrypted_key!=="string"){throw new s.JWEInvalid("JWE Encrypted Key incorrect type")}if(e.aad!==undefined&&typeof e.aad!=="string"){throw new s.JWEInvalid("JWE AAD incorrect type")}if(e.header!==undefined&&!(0,c.default)(e.header)){throw new s.JWEInvalid("JWE Shared Unprotected Header incorrect type")}if(e.unprotected!==undefined&&!(0,c.default)(e.unprotected)){throw new s.JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type")}let m;if(e.protected){try{const t=(0,i.decode)(e.protected);m=JSON.parse(p.decoder.decode(t))}catch{throw new s.JWEInvalid("JWE Protected Header is invalid")}}if(!(0,a.default)(m,e.header,e.unprotected)){throw new s.JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint")}const g={...m,...e.header,...e.unprotected};(0,u.default)(s.JWEInvalid,new Map,n===null||n===void 0?void 0:n.crit,m,g);if(g.zip!==undefined){if(!m||!m.zip){throw new s.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}if(g.zip!=="DEF"){throw new s.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}}const{alg:v,enc:y}=g;if(typeof v!=="string"||!v){throw new s.JWEInvalid("missing JWE Algorithm (alg) in JWE Header")}if(typeof y!=="string"||!y){throw new s.JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header")}const _=n&&(0,h.default)("keyManagementAlgorithms",n.keyManagementAlgorithms);const w=n&&(0,h.default)("contentEncryptionAlgorithms",n.contentEncryptionAlgorithms);if(_&&!_.has(v)){throw new s.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed')}if(w&&!w.has(y)){throw new s.JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed')}let x;if(e.encrypted_key!==undefined){try{x=(0,i.decode)(e.encrypted_key)}catch{throw new s.JWEInvalid("Failed to base64url decode the encrypted_key")}}let b=false;if(typeof t==="function"){t=await t(m,e);b=true}let k;try{k=await (0,l.default)(v,t,x,g,n)}catch(e){if(e instanceof TypeError||e instanceof s.JWEInvalid||e instanceof s.JOSENotSupported){throw e}k=(0,d.default)(y)}let E;let S;try{E=(0,i.decode)(e.iv)}catch{throw new s.JWEInvalid("Failed to base64url decode the iv")}try{S=(0,i.decode)(e.tag)}catch{throw new s.JWEInvalid("Failed to base64url decode the tag")}const A=p.encoder.encode((f=e.protected)!==null&&f!==void 0?f:"");let T;if(e.aad!==undefined){T=(0,p.concat)(A,p.encoder.encode("."),p.encoder.encode(e.aad))}else{T=A}let O;try{O=(0,i.decode)(e.ciphertext)}catch{throw new s.JWEInvalid("Failed to base64url decode the ciphertext")}let C=await (0,r.default)(y,k,O,E,S,T);if(g.zip==="DEF"){C=await ((n===null||n===void 0?void 0:n.inflateRaw)||o.inflate)(C)}const P={plaintext:C};if(e.protected!==undefined){P.protectedHeader=m}if(e.aad!==undefined){try{P.additionalAuthenticatedData=(0,i.decode)(e.aad)}catch{throw new s.JWEInvalid("Failed to base64url decode the aad")}}if(e.unprotected!==undefined){P.sharedUnprotectedHeader=e.unprotected}if(e.header!==undefined){P.unprotectedHeader=e.header}if(b){return{...P,key:t}}return P}t.flattenedDecrypt=f},37265:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.types=void 0;const i=n(17996);const r=n(90061);t["default"]=e=>(0,r.default)(e)||(0,i.isCryptoKey)(e);const o=["KeyObject"];t.types=o;if(globalThis.CryptoKey||(i.default===null||i.default===void 0?void 0:i.default.CryptoKey)){o.push("CryptoKey")}},37366:e=>{"use strict";e.exports=require("dns")},37375:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(55511);const r=(e,t)=>(0,i.createHash)(e).update(t).digest();t["default"]=r},37544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.cryptoRuntime=t.base64url=t.generateSecret=t.generateKeyPair=t.errors=t.decodeJwt=t.decodeProtectedHeader=t.importJWK=t.importX509=t.importPKCS8=t.importSPKI=t.exportJWK=t.exportSPKI=t.exportPKCS8=t.UnsecuredJWT=t.createRemoteJWKSet=t.createLocalJWKSet=t.EmbeddedJWK=t.calculateJwkThumbprintUri=t.calculateJwkThumbprint=t.EncryptJWT=t.SignJWT=t.GeneralSign=t.FlattenedSign=t.CompactSign=t.FlattenedEncrypt=t.CompactEncrypt=t.jwtDecrypt=t.jwtVerify=t.generalVerify=t.flattenedVerify=t.compactVerify=t.GeneralEncrypt=t.generalDecrypt=t.flattenedDecrypt=t.compactDecrypt=void 0;var i=n(81454);Object.defineProperty(t,"compactDecrypt",{enumerable:true,get:function(){return i.compactDecrypt}});var r=n(36736);Object.defineProperty(t,"flattenedDecrypt",{enumerable:true,get:function(){return r.flattenedDecrypt}});var o=n(68907);Object.defineProperty(t,"generalDecrypt",{enumerable:true,get:function(){return o.generalDecrypt}});var s=n(64127);Object.defineProperty(t,"GeneralEncrypt",{enumerable:true,get:function(){return s.GeneralEncrypt}});var a=n(29132);Object.defineProperty(t,"compactVerify",{enumerable:true,get:function(){return a.compactVerify}});var c=n(71746);Object.defineProperty(t,"flattenedVerify",{enumerable:true,get:function(){return c.flattenedVerify}});var l=n(24575);Object.defineProperty(t,"generalVerify",{enumerable:true,get:function(){return l.generalVerify}});var p=n(98905);Object.defineProperty(t,"jwtVerify",{enumerable:true,get:function(){return p.jwtVerify}});var d=n(28247);Object.defineProperty(t,"jwtDecrypt",{enumerable:true,get:function(){return d.jwtDecrypt}});var u=n(52118);Object.defineProperty(t,"CompactEncrypt",{enumerable:true,get:function(){return u.CompactEncrypt}});var h=n(14988);Object.defineProperty(t,"FlattenedEncrypt",{enumerable:true,get:function(){return h.FlattenedEncrypt}});var f=n(99312);Object.defineProperty(t,"CompactSign",{enumerable:true,get:function(){return f.CompactSign}});var m=n(59310);Object.defineProperty(t,"FlattenedSign",{enumerable:true,get:function(){return m.FlattenedSign}});var g=n(45495);Object.defineProperty(t,"GeneralSign",{enumerable:true,get:function(){return g.GeneralSign}});var v=n(48513);Object.defineProperty(t,"SignJWT",{enumerable:true,get:function(){return v.SignJWT}});var y=n(45787);Object.defineProperty(t,"EncryptJWT",{enumerable:true,get:function(){return y.EncryptJWT}});var _=n(18652);Object.defineProperty(t,"calculateJwkThumbprint",{enumerable:true,get:function(){return _.calculateJwkThumbprint}});Object.defineProperty(t,"calculateJwkThumbprintUri",{enumerable:true,get:function(){return _.calculateJwkThumbprintUri}});var w=n(1149);Object.defineProperty(t,"EmbeddedJWK",{enumerable:true,get:function(){return w.EmbeddedJWK}});var x=n(2055);Object.defineProperty(t,"createLocalJWKSet",{enumerable:true,get:function(){return x.createLocalJWKSet}});var b=n(91428);Object.defineProperty(t,"createRemoteJWKSet",{enumerable:true,get:function(){return b.createRemoteJWKSet}});var k=n(71872);Object.defineProperty(t,"UnsecuredJWT",{enumerable:true,get:function(){return k.UnsecuredJWT}});var E=n(65764);Object.defineProperty(t,"exportPKCS8",{enumerable:true,get:function(){return E.exportPKCS8}});Object.defineProperty(t,"exportSPKI",{enumerable:true,get:function(){return E.exportSPKI}});Object.defineProperty(t,"exportJWK",{enumerable:true,get:function(){return E.exportJWK}});var S=n(97920);Object.defineProperty(t,"importSPKI",{enumerable:true,get:function(){return S.importSPKI}});Object.defineProperty(t,"importPKCS8",{enumerable:true,get:function(){return S.importPKCS8}});Object.defineProperty(t,"importX509",{enumerable:true,get:function(){return S.importX509}});Object.defineProperty(t,"importJWK",{enumerable:true,get:function(){return S.importJWK}});var A=n(69184);Object.defineProperty(t,"decodeProtectedHeader",{enumerable:true,get:function(){return A.decodeProtectedHeader}});var T=n(52645);Object.defineProperty(t,"decodeJwt",{enumerable:true,get:function(){return T.decodeJwt}});t.errors=n(99938);var O=n(13668);Object.defineProperty(t,"generateKeyPair",{enumerable:true,get:function(){return O.generateKeyPair}});var C=n(33648);Object.defineProperty(t,"generateSecret",{enumerable:true,get:function(){return C.generateSecret}});t.base64url=n(67929);var P=n(8157);Object.defineProperty(t,"cryptoRuntime",{enumerable:true,get:function(){return P.default}})},38099:(e,t,n)=>{"use strict";const i=n(81630);const r=n(55591);const o=n(79551);const s=n(74075);const a=n(27910).PassThrough;const c=n(53752);const l=n(49074);const p=n(91645);const d=5;e.exports=function(e,t){return u(e,t)};e.exports.Cookies=c;function u(e,t){t=t||{};t.fetchRes=t.fetchRes||new a;t.cookies=t.cookies||new c;t.redirects=t.redirects||0;t.maxRedirects=isNaN(t.maxRedirects)?d:t.maxRedirects;if(t.cookie){[].concat(t.cookie||[]).forEach(n=>{t.cookies.set(n,e)});t.cookie=false}let n=t.fetchRes;let h=o.parse(e);let f=(t.method||"").toString().trim().toUpperCase()||"GET";let m=false;let g;let v;let y=h.protocol==="https:"?r:i;let _={"accept-encoding":"gzip,deflate","user-agent":"nodemailer/"+l.version};Object.keys(t.headers||{}).forEach(e=>{_[e.toLowerCase().trim()]=t.headers[e]});if(t.userAgent){_["user-agent"]=t.userAgent}if(h.auth){_.Authorization="Basic "+Buffer.from(h.auth).toString("base64")}if(g=t.cookies.get(e)){_.cookie=g}if(t.body){if(t.contentType!==false){_["Content-Type"]=t.contentType||"application/x-www-form-urlencoded"}if(typeof t.body.pipe==="function"){_["Transfer-Encoding"]="chunked";v=t.body;v.on("error",t=>{if(m){return}m=true;t.type="FETCH";t.sourceUrl=e;n.emit("error",t)})}else{if(t.body instanceof Buffer){v=t.body}else if(typeof t.body==="object"){try{v=Buffer.from(Object.keys(t.body).map(e=>{let n=t.body[e].toString().trim();return encodeURIComponent(e)+"="+encodeURIComponent(n)}).join("&"))}catch(t){if(m){return}m=true;t.type="FETCH";t.sourceUrl=e;n.emit("error",t);return}}else{v=Buffer.from(t.body.toString().trim())}_["Content-Type"]=t.contentType||"application/x-www-form-urlencoded";_["Content-Length"]=v.length}f=(t.method||"").toString().trim().toUpperCase()||"POST"}let w;let x={method:f,host:h.hostname,path:h.path,port:h.port?h.port:h.protocol==="https:"?443:80,headers:_,rejectUnauthorized:false,agent:false};if(t.tls){Object.keys(t.tls).forEach(e=>{x[e]=t.tls[e]})}if(h.protocol==="https:"&&h.hostname&&h.hostname!==x.host&&!p.isIP(h.hostname)&&!x.servername){x.servername=h.hostname}try{w=y.request(x)}catch(t){m=true;setImmediate(()=>{t.type="FETCH";t.sourceUrl=e;n.emit("error",t)});return n}if(t.timeout){w.setTimeout(t.timeout,()=>{if(m){return}m=true;w.abort();let t=new Error("Request Timeout");t.type="FETCH";t.sourceUrl=e;n.emit("error",t)})}w.on("error",t=>{if(m){return}m=true;t.type="FETCH";t.sourceUrl=e;n.emit("error",t)});w.on("response",i=>{let r;if(m){return}switch(i.headers["content-encoding"]){case"gzip":case"deflate":r=s.createUnzip();break}if(i.headers["set-cookie"]){[].concat(i.headers["set-cookie"]||[]).forEach(n=>{t.cookies.set(n,e)})}if([301,302,303,307,308].includes(i.statusCode)&&i.headers.location){t.redirects++;if(t.redirects>t.maxRedirects){m=true;let t=new Error("Maximum redirect count exceeded");t.type="FETCH";t.sourceUrl=e;n.emit("error",t);w.abort();return}t.method="GET";t.body=false;return u(o.resolve(e,i.headers.location),t)}n.statusCode=i.statusCode;n.headers=i.headers;if(i.statusCode>=300&&!t.allowErrorResponse){m=true;let t=new Error("Invalid status code "+i.statusCode);t.type="FETCH";t.sourceUrl=e;n.emit("error",t);w.abort();return}i.on("error",t=>{if(m){return}m=true;t.type="FETCH";t.sourceUrl=e;n.emit("error",t);w.abort()});if(r){i.pipe(r).pipe(n);r.on("error",t=>{if(m){return}m=true;t.type="FETCH";t.sourceUrl=e;n.emit("error",t);w.abort()})}else{i.pipe(n)}});setImmediate(()=>{if(v){try{if(typeof v.pipe==="function"){return v.pipe(w)}else{w.write(v)}}catch(t){m=true;t.type="FETCH";t.sourceUrl=e;n.emit("error",t);return}}w.end()});return n}},38700:e=>{const t=/(\w+)=("[^"]*")/g;e.exports=e=>{const n={};try{while(t.exec(e)!==null){if(RegExp.$1&&RegExp.$2){n[RegExp.$1]=RegExp.$2.slice(1,-1)}}}catch(e){}return n}},39449:(e,t,n)=>{"use strict";const i=n(27910);const r=i.Transform;class o extends r{constructor(e){super(e);this.options=e||{};this.lastByte=false}_transform(e,t,n){let i;let r=0;for(let t=0,n=e.length;t<n;t++){if(e[t]===10){if(t&&e[t-1]!==13||!t&&this.lastByte!==13){if(t>r){i=e.slice(r,t);this.push(i)}this.push(Buffer.from("\r\n"));r=t+1}}}if(r&&r<e.length){i=e.slice(r);this.push(i)}else if(!r){this.push(e)}this.lastByte=e[e.length-1];n()}}e.exports=o},41193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(55511);const r=n(68327);const o=n(72443);const s=n(99938);const a=n(62909);const c=n(17996);const l=n(90061);const p=n(78680);const d=n(37265);const u=n(80028);const h=e=>{let t;if((0,c.isCryptoKey)(e)){if(!e.extractable){throw new TypeError("CryptoKey is not extractable")}t=i.KeyObject.from(e)}else if((0,l.default)(e)){t=e}else if(e instanceof Uint8Array){return{kty:"oct",k:(0,r.encode)(e)}}else{throw new TypeError((0,p.default)(e,...d.types,"Uint8Array"))}if(u.jwkExport){if(t.type!=="secret"&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType)){throw new s.JOSENotSupported("Unsupported key asymmetricKeyType")}return t.export({format:"jwk"})}switch(t.type){case"secret":return{kty:"oct",k:(0,r.encode)(t.export())};case"private":case"public":{switch(t.asymmetricKeyType){case"rsa":{const e=t.export({format:"der",type:"pkcs1"});const n=new o.default(e);if(t.type==="private"){n.unsignedInteger()}const i=(0,r.encode)(n.unsignedInteger());const s=(0,r.encode)(n.unsignedInteger());let a;if(t.type==="private"){a={d:(0,r.encode)(n.unsignedInteger()),p:(0,r.encode)(n.unsignedInteger()),q:(0,r.encode)(n.unsignedInteger()),dp:(0,r.encode)(n.unsignedInteger()),dq:(0,r.encode)(n.unsignedInteger()),qi:(0,r.encode)(n.unsignedInteger())}}n.end();return{kty:"RSA",n:i,e:s,...a}}case"ec":{const e=(0,a.default)(t);let n;let o;let c;switch(e){case"secp256k1":n=64;o=31+2;c=-1;break;case"P-256":n=64;o=34+2;c=-1;break;case"P-384":n=96;o=33+2;c=-3;break;case"P-521":n=132;o=33+2;c=-3;break;default:throw new s.JOSENotSupported("Unsupported curve")}if(t.type==="public"){const i=t.export({type:"spki",format:"der"});return{kty:"EC",crv:e,x:(0,r.encode)(i.subarray(-n,-n/2)),y:(0,r.encode)(i.subarray(-n/2))}}const l=t.export({type:"pkcs8",format:"der"});if(l.length<100){o+=c}return{...h((0,i.createPublicKey)(t)),d:(0,r.encode)(l.subarray(o,o+n/2))}}case"ed25519":case"x25519":{const e=(0,a.default)(t);if(t.type==="public"){const n=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,r.encode)(n.subarray(-32))}}const n=t.export({type:"pkcs8",format:"der"});return{...h((0,i.createPublicKey)(t)),d:(0,r.encode)(n.subarray(-32))}}case"ed448":case"x448":{const e=(0,a.default)(t);if(t.type==="public"){const n=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,r.encode)(n.subarray(e==="Ed448"?-57:-56))}}const n=t.export({type:"pkcs8",format:"der"});return{...h((0,i.createPublicKey)(t)),d:(0,r.encode)(n.subarray(e==="Ed448"?-57:-56))}}default:throw new s.JOSENotSupported("Unsupported key asymmetricKeyType")}}default:throw new s.JOSENotSupported("Unsupported key type")}};t["default"]=h},41748:(e,t,n)=>{"use strict";const i=n(27910);const r=i.Transform;class o extends r{constructor(e){super(e);this.options=e||{}}_transform(e,t,n){let i;let r=0;for(let t=0,n=e.length;t<n;t++){if(e[t]===13){i=e.slice(r,t);r=t+1;this.push(i)}}if(r&&r<e.length){i=e.slice(r);this.push(i)}else if(!r){this.push(e)}n()}}e.exports=o},42142:(e,t,n)=>{"use strict";const i=n(12584);const r=Symbol("max");const o=Symbol("length");const s=Symbol("lengthCalculator");const a=Symbol("allowStale");const c=Symbol("maxAge");const l=Symbol("dispose");const p=Symbol("noDisposeOnSet");const d=Symbol("lruList");const u=Symbol("cache");const h=Symbol("updateAgeOnGet");const f=()=>1;class m{constructor(e){if(typeof e==="number")e={max:e};if(!e)e={};if(e.max&&(typeof e.max!=="number"||e.max<0))throw new TypeError("max must be a non-negative number");const t=this[r]=e.max||Infinity;const n=e.length||f;this[s]=typeof n!=="function"?f:n;this[a]=e.stale||false;if(e.maxAge&&typeof e.maxAge!=="number")throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0;this[l]=e.dispose;this[p]=e.noDisposeOnSet||false;this[h]=e.updateAgeOnGet||false;this.reset()}set max(e){if(typeof e!=="number"||e<0)throw new TypeError("max must be a non-negative number");this[r]=e||Infinity;y(this)}get max(){return this[r]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if(typeof e!=="number")throw new TypeError("maxAge must be a non-negative number");this[c]=e;y(this)}get maxAge(){return this[c]}set lengthCalculator(e){if(typeof e!=="function")e=f;if(e!==this[s]){this[s]=e;this[o]=0;this[d].forEach(e=>{e.length=this[s](e.value,e.key);this[o]+=e.length})}y(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;n!==null;){const i=n.prev;x(this,e,n,t);n=i}}forEach(e,t){t=t||this;for(let n=this[d].head;n!==null;){const i=n.next;x(this,e,n,t);n=i}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){if(this[l]&&this[d]&&this[d].length){this[d].forEach(e=>this[l](e.key,e.value))}this[u]=new Map;this[d]=new i;this[o]=0}dump(){return this[d].map(e=>v(this,e)?false:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,n){n=n||this[c];if(n&&typeof n!=="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0;const a=this[s](t,e);if(this[u].has(e)){if(a>this[r]){_(this,this[u].get(e));return false}const s=this[u].get(e);const c=s.value;if(this[l]){if(!this[p])this[l](e,c.value)}c.now=i;c.maxAge=n;c.value=t;this[o]+=a-c.length;c.length=a;this.get(e);y(this);return true}const h=new w(e,t,a,i,n);if(h.length>this[r]){if(this[l])this[l](e,t);return false}this[o]+=h.length;this[d].unshift(h);this[u].set(e,this[d].head);y(this);return true}has(e){if(!this[u].has(e))return false;const t=this[u].get(e).value;return!v(this,t)}get(e){return g(this,e,true)}peek(e){return g(this,e,false)}pop(){const e=this[d].tail;if(!e)return null;_(this,e);return e.value}del(e){_(this,this[u].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n];const r=i.e||0;if(r===0)this.set(i.k,i.v);else{const e=r-t;if(e>0){this.set(i.k,i.v,e)}}}}prune(){this[u].forEach((e,t)=>g(this,t,false))}}const g=(e,t,n)=>{const i=e[u].get(t);if(i){const t=i.value;if(v(e,t)){_(e,i);if(!e[a])return undefined}else{if(n){if(e[h])i.value.now=Date.now();e[d].unshiftNode(i)}}return t.value}};const v=(e,t)=>{if(!t||!t.maxAge&&!e[c])return false;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]};const y=e=>{if(e[o]>e[r]){for(let t=e[d].tail;e[o]>e[r]&&t!==null;){const n=t.prev;_(e,t);t=n}}};const _=(e,t)=>{if(t){const n=t.value;if(e[l])e[l](n.key,n.value);e[o]-=n.length;e[u].delete(n.key);e[d].removeNode(t)}};class w{constructor(e,t,n,i,r){this.key=e;this.value=t;this.length=n;this.now=i;this.maxAge=r||0}}const x=(e,t,n,i)=>{let r=n.value;if(v(e,r)){_(e,n);if(!e[a])r=undefined}if(r)t.call(i,r.value,r.key,e)};e.exports=m},42567:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(55511);const r=n(62909);const o=n(99938);const s=n(78328);const a=n(80028);const c={padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST};const l=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function p(e,t){switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(t.asymmetricKeyType)){throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448")}return t;case"RS256":case"RS384":case"RS512":if(t.asymmetricKeyType!=="rsa"){throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa")}(0,s.default)(t,e);return t;case a.rsaPssParams&&"PS256":case a.rsaPssParams&&"PS384":case a.rsaPssParams&&"PS512":if(t.asymmetricKeyType==="rsa-pss"){const{hashAlgorithm:n,mgf1HashAlgorithm:i,saltLength:r}=t.asymmetricKeyDetails;const o=parseInt(e.slice(-3),10);if(n!==undefined&&(n!==`sha${o}`||i!==n)){throw new TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`)}if(r!==undefined&&r>o>>3){throw new TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}}else if(t.asymmetricKeyType!=="rsa"){throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss")}(0,s.default)(t,e);return{key:t,...c};case!a.rsaPssParams&&"PS256":case!a.rsaPssParams&&"PS384":case!a.rsaPssParams&&"PS512":if(t.asymmetricKeyType!=="rsa"){throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa")}(0,s.default)(t,e);return{key:t,...c};case"ES256":case"ES256K":case"ES384":case"ES512":{if(t.asymmetricKeyType!=="ec"){throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ec")}const n=(0,r.default)(t);const i=l.get(e);if(n!==i){throw new TypeError(`Invalid key curve for the algorithm, its curve must be ${i}, got ${n}`)}return{dsaEncoding:"ieee-p1363",key:t}}default:throw new o.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}t["default"]=p},42856:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.detectOrigin=n;function n(e,t){var n;if((n=process.env.VERCEL)!==null&&n!==void 0?n:process.env.AUTH_TRUST_HOST)return`${t==="http"?"http":"https"}://${e}`;return process.env.NEXTAUTH_URL}},42891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(99938);const r=n(35749);const o=(e,t)=>{if(t.length<<3!==(0,r.bitLength)(e)){throw new i.JWEInvalid("Invalid Initialization Vector length")}};t["default"]=o},43325:e=>{const t=Symbol();const n=Symbol();e.exports={CLOCK_TOLERANCE:n,HTTP_OPTIONS:t}},43343:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(88062);const r=n(52131);const o=n(62197);const s=n(56913);const a=n(68327);const c=n(99938);const l=n(61689);const p=n(97920);const d=n(80335);const u=n(25110);const h=n(97528);async function f(e,t,n,f,m){(0,d.default)(e,t,"decrypt");switch(e){case"dir":{if(n!==undefined)throw new c.JWEInvalid("Encountered unexpected JWE Encrypted Key");return t}case"ECDH-ES":if(n!==undefined)throw new c.JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!(0,u.default)(f.epk))throw new c.JWEInvalid(`JOSE Header "epk" (Ephemeral Public Key) missing or invalid`);if(!r.ecdhAllowed(t))throw new c.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");const o=await (0,p.importJWK)(f.epk,e);let s;let d;if(f.apu!==undefined){if(typeof f.apu!=="string")throw new c.JWEInvalid(`JOSE Header "apu" (Agreement PartyUInfo) invalid`);try{s=(0,a.decode)(f.apu)}catch{throw new c.JWEInvalid("Failed to base64url decode the apu")}}if(f.apv!==undefined){if(typeof f.apv!=="string")throw new c.JWEInvalid(`JOSE Header "apv" (Agreement PartyVInfo) invalid`);try{d=(0,a.decode)(f.apv)}catch{throw new c.JWEInvalid("Failed to base64url decode the apv")}}const h=await r.deriveKey(o,t,e==="ECDH-ES"?f.enc:e,e==="ECDH-ES"?(0,l.bitLength)(f.enc):parseInt(e.slice(-5,-2),10),s,d);if(e==="ECDH-ES")return h;if(n===undefined)throw new c.JWEInvalid("JWE Encrypted Key missing");return(0,i.unwrap)(e.slice(-6),h,n)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(n===undefined)throw new c.JWEInvalid("JWE Encrypted Key missing");return(0,s.decrypt)(e,t,n)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(n===undefined)throw new c.JWEInvalid("JWE Encrypted Key missing");if(typeof f.p2c!=="number")throw new c.JWEInvalid(`JOSE Header "p2c" (PBES2 Count) missing or invalid`);const i=(m===null||m===void 0?void 0:m.maxPBES2Count)||1e4;if(f.p2c>i)throw new c.JWEInvalid(`JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds`);if(typeof f.p2s!=="string")throw new c.JWEInvalid(`JOSE Header "p2s" (PBES2 Salt) missing or invalid`);let r;try{r=(0,a.decode)(f.p2s)}catch{throw new c.JWEInvalid("Failed to base64url decode the p2s")}return(0,o.decrypt)(e,t,n,f.p2c,r)}case"A128KW":case"A192KW":case"A256KW":{if(n===undefined)throw new c.JWEInvalid("JWE Encrypted Key missing");return(0,i.unwrap)(e,t,n)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(n===undefined)throw new c.JWEInvalid("JWE Encrypted Key missing");if(typeof f.iv!=="string")throw new c.JWEInvalid(`JOSE Header "iv" (Initialization Vector) missing or invalid`);if(typeof f.tag!=="string")throw new c.JWEInvalid(`JOSE Header "tag" (Authentication Tag) missing or invalid`);let i;try{i=(0,a.decode)(f.iv)}catch{throw new c.JWEInvalid("Failed to base64url decode the iv")}let r;try{r=(0,a.decode)(f.tag)}catch{throw new c.JWEInvalid("Failed to base64url decode the tag")}return(0,h.unwrap)(e,t,n,i,r)}default:{throw new c.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}}}t["default"]=f},43519:(e,t,n)=>{"use strict";const i=n(27910);const r=i.Transform;class o extends r{constructor(e){super(e);this.options=e||{};this._curLine="";this.inByteCount=0;this.outByteCount=0;this.lastByte=false}_transform(e,t,n){let i=[];let r=0;let o,s,a=0;let c;if(!e||!e.length){return n()}if(typeof e==="string"){e=Buffer.from(e)}this.inByteCount+=e.length;for(o=0,s=e.length;o<s;o++){if(e[o]===46){if(o&&e[o-1]===10||!o&&(!this.lastByte||this.lastByte===10)){c=e.slice(a,o+1);i.push(c);i.push(Buffer.from("."));r+=c.length+1;a=o+1}}else if(e[o]===10){if(o&&e[o-1]!==13||!o&&this.lastByte!==13){if(o>a){c=e.slice(a,o);i.push(c);r+=c.length+2}else{r+=2}i.push(Buffer.from("\r\n"));a=o+1}}}if(r){if(a<e.length){c=e.slice(a);i.push(c);r+=c.length}this.outByteCount+=r;this.push(Buffer.concat(i,r))}else{this.outByteCount+=e.length;this.push(e)}this.lastByte=e[e.length-1];n()}_flush(e){let t;if(this.lastByte===10){t=Buffer.from(".\r\n")}else if(this.lastByte===13){t=Buffer.from("\n.\r\n")}else{t=Buffer.from("\r\n.\r\n")}this.outByteCount+=t.length;this.push(t);e()}}e.exports=o},44726:e=>{function t(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},44999:(e,t,n)=>{"use strict";n.r(t);n.d(t,{__esModule:()=>i.B,cookies:()=>i.U,draftMode:()=>o.r,headers:()=>r.b});var i=n(99933);var r=n(86280);var o=n(73913)},45495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GeneralSign=void 0;const i=n(59310);const r=n(99938);class o{constructor(e,t,n){this.parent=e;this.key=t;this.options=n}setProtectedHeader(e){if(this.protectedHeader){throw new TypeError("setProtectedHeader can only be called once")}this.protectedHeader=e;return this}setUnprotectedHeader(e){if(this.unprotectedHeader){throw new TypeError("setUnprotectedHeader can only be called once")}this.unprotectedHeader=e;return this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}class s{constructor(e){this._signatures=[];this._payload=e}addSignature(e,t){const n=new o(this,e,t);this._signatures.push(n);return n}async sign(){if(!this._signatures.length){throw new r.JWSInvalid("at least one signature must be added")}const e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){const n=this._signatures[t];const o=new i.FlattenedSign(this._payload);o.setProtectedHeader(n.protectedHeader);o.setUnprotectedHeader(n.unprotectedHeader);const{payload:s,...a}=await o.sign(n.key,n.options);if(t===0){e.payload=s}else if(e.payload!==s){throw new r.JWSInvalid("inconsistent use of JWS Unencoded Payload (RFC7797)")}e.signatures.push(a)}return e}}t.GeneralSign=s},45787:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EncryptJWT=void 0;const i=n(52118);const r=n(2594);const o=n(2754);class s extends o.ProduceJWT{setProtectedHeader(e){if(this._protectedHeader){throw new TypeError("setProtectedHeader can only be called once")}this._protectedHeader=e;return this}setKeyManagementParameters(e){if(this._keyManagementParameters){throw new TypeError("setKeyManagementParameters can only be called once")}this._keyManagementParameters=e;return this}setContentEncryptionKey(e){if(this._cek){throw new TypeError("setContentEncryptionKey can only be called once")}this._cek=e;return this}setInitializationVector(e){if(this._iv){throw new TypeError("setInitializationVector can only be called once")}this._iv=e;return this}replicateIssuerAsHeader(){this._replicateIssuerAsHeader=true;return this}replicateSubjectAsHeader(){this._replicateSubjectAsHeader=true;return this}replicateAudienceAsHeader(){this._replicateAudienceAsHeader=true;return this}async encrypt(e,t){const n=new i.CompactEncrypt(r.encoder.encode(JSON.stringify(this._payload)));if(this._replicateIssuerAsHeader){this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}}if(this._replicateSubjectAsHeader){this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}}if(this._replicateAudienceAsHeader){this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}}n.setProtectedHeader(this._protectedHeader);if(this._iv){n.setInitializationVector(this._iv)}if(this._cek){n.setContentEncryptionKey(this._cek)}if(this._keyManagementParameters){n.setKeyManagementParameters(this._keyManagementParameters)}return n.encrypt(e,t)}}t.EncryptJWT=s},46821:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(55511);const r=n(71800);let o;if(typeof i.hkdf==="function"&&!process.versions.electron){o=async(...e)=>new Promise((t,n)=>{i.hkdf(...e,(e,i)=>{if(e)n(e);else t(new Uint8Array(i))})})}t["default"]=async(e,t,n,i,s)=>(o||r.default)(e,t,n,i,s)},46945:(e,t,n)=>{"use strict";const i=n(94735);const r=n(91292);const o=n(50143);const s=n(48359);const a=n(91570);const c=n(7575);const l=n(28354);const p=n(79551);const d=n(49074);const u=n(17704);const h=n(91645);const f=n(37366);const m=n(55511);class g extends i{constructor(e,t,n){super();this.options=t||{};this._defaults=n||{};this._defaultPlugins={compile:[(...e)=>this._convertDataImages(...e)],stream:[]};this._userPlugins={compile:[],stream:[]};this.meta=new Map;this.dkim=this.options.dkim?new a(this.options.dkim):false;this.transporter=e;this.transporter.mailer=this;this.logger=r.getLogger(this.options,{component:this.options.component||"mail"});this.logger.debug({tnx:"create"},"Creating transport: %s",this.getVersionString());if(typeof this.transporter.on==="function"){this.transporter.on("log",e=>{this.logger.debug({tnx:"transport"},"%s: %s",e.type,e.message)});this.transporter.on("error",e=>{this.logger.error({err:e,tnx:"transport"},"Transport Error: %s",e.message);this.emit("error",e)});this.transporter.on("idle",(...e)=>{this.emit("idle",...e)})}["close","isIdle","verify"].forEach(e=>{this[e]=(...t)=>{if(typeof this.transporter[e]==="function"){if(e==="verify"&&typeof this.getSocket==="function"){this.transporter.getSocket=this.getSocket;this.getSocket=false}return this.transporter[e](...t)}else{this.logger.warn({tnx:"transport",methodName:e},"Non existing method %s called for transport",e);return false}}});if(this.options.proxy&&typeof this.options.proxy==="string"){this.setupProxy(this.options.proxy)}}use(e,t){e=(e||"").toString();if(!this._userPlugins.hasOwnProperty(e)){this._userPlugins[e]=[t]}else{this._userPlugins[e].push(t)}return this}sendMail(e,t=null){let n;if(!t){n=new Promise((e,n)=>{t=r.callbackPromise(e,n)})}if(typeof this.getSocket==="function"){this.transporter.getSocket=this.getSocket;this.getSocket=false}let i=new u(this,e);this.logger.debug({tnx:"transport",name:this.transporter.name,version:this.transporter.version,action:"send"},"Sending mail using %s/%s",this.transporter.name,this.transporter.version);this._processPlugins("compile",i,e=>{if(e){this.logger.error({err:e,tnx:"plugin",action:"compile"},"PluginCompile Error: %s",e.message);return t(e)}i.message=new s(i.data).compile();i.setMailerHeader();i.setPriorityHeaders();i.setListHeaders();this._processPlugins("stream",i,e=>{if(e){this.logger.error({err:e,tnx:"plugin",action:"stream"},"PluginStream Error: %s",e.message);return t(e)}if(i.data.dkim||this.dkim){i.message.processFunc(e=>{let t=i.data.dkim?new a(i.data.dkim):this.dkim;this.logger.debug({tnx:"DKIM",messageId:i.message.messageId(),dkimDomains:t.keys.map(e=>e.keySelector+"."+e.domainName).join(", ")},"Signing outgoing message with %s keys",t.keys.length);return t.sign(e,i.data._dkim)})}this.transporter.send(i,(...e)=>{if(e[0]){this.logger.error({err:e[0],tnx:"transport",action:"send"},"Send Error: %s",e[0].message)}t(...e)})})});return n}getVersionString(){return l.format("%s (%s; +%s; %s/%s)",d.name,d.version,d.homepage,this.transporter.name,this.transporter.version)}_processPlugins(e,t,n){e=(e||"").toString();if(!this._userPlugins.hasOwnProperty(e)){return n()}let i=this._userPlugins[e]||[];let r=this._defaultPlugins[e]||[];if(i.length){this.logger.debug({tnx:"transaction",pluginCount:i.length,step:e},"Using %s plugins for %s",i.length,e)}if(i.length+r.length===0){return n()}let o=0;let s="default";let a=()=>{let e=s==="default"?r:i;if(o>=e.length){if(s==="default"&&i.length){s="user";o=0;e=i}else{return n()}}let c=e[o++];c(t,e=>{if(e){return n(e)}a()})};a()}setupProxy(e){let t=p.parse(e);this.getSocket=(e,n)=>{let i=t.protocol.replace(/:$/,"").toLowerCase();if(this.meta.has("proxy_handler_"+i)){return this.meta.get("proxy_handler_"+i)(t,e,n)}switch(i){case"http":case"https":c(t.href,e.port,e.host,(e,t)=>{if(e){return n(e)}return n(null,{connection:t})});return;case"socks":case"socks5":case"socks4":case"socks4a":{if(!this.meta.has("proxy_socks_module")){return n(new Error("Socks module not loaded"))}let i=i=>{let r=!!this.meta.get("proxy_socks_module").SocksClient;let o=r?this.meta.get("proxy_socks_module").SocksClient:this.meta.get("proxy_socks_module");let s=Number(t.protocol.replace(/\D/g,""))||5;let a={proxy:{ipaddress:i,port:Number(t.port),type:s},[r?"destination":"target"]:{host:e.host,port:e.port},command:"connect"};if(t.auth){let e=decodeURIComponent(t.auth.split(":").shift());let n=decodeURIComponent(t.auth.split(":").pop());if(r){a.proxy.userId=e;a.proxy.password=n}else if(s===4){a.userid=e}else{a.authentication={username:e,password:n}}}o.createConnection(a,(e,t)=>{if(e){return n(e)}return n(null,{connection:t.socket||t})})};if(h.isIP(t.hostname)){return i(t.hostname)}return f.resolve(t.hostname,(e,t)=>{if(e){return n(e)}i(Array.isArray(t)?t[0]:t)})}}n(new Error("Unknown proxy configuration"))}}_convertDataImages(e,t){if(!this.options.attachDataUrls&&!e.data.attachDataUrls||!e.data.html){return t()}e.resolveContent(e.data,"html",(n,i)=>{if(n){return t(n)}let r=0;i=(i||"").toString().replace(/(<img\b[^<>]{0,1024} src\s{0,20}=[\s"']{0,20})(data:([^;]+);[^"'>\s]+)/gi,(t,n,i,s)=>{let a=m.randomBytes(10).toString("hex")+"@localhost";if(!e.data.attachments){e.data.attachments=[]}if(!Array.isArray(e.data.attachments)){e.data.attachments=[].concat(e.data.attachments||[])}e.data.attachments.push({path:i,cid:a,filename:"image-"+ ++r+"."+o.detectExtension(s)});return n+"cid:"+a});e.data.html=i;t()})}set(e,t){return this.meta.set(e,t)}get(e){return this.meta.get(e)}}e.exports=g},47024:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;var i=n(1441);function r(e){const{url:t,csrfToken:n,theme:r}=e;return(0,i.h)("div",{className:"signout"},r.brandColor&&(0,i.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),r.buttonText&&(0,i.h)("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${r.buttonText}
        }
      `}}),(0,i.h)("div",{className:"card"},r.logo&&(0,i.h)("img",{src:r.logo,alt:"Logo",className:"logo"}),(0,i.h)("h1",null,"Signout"),(0,i.h)("p",null,"Are you sure you want to sign out?"),(0,i.h)("form",{action:`${t}/signout`,method:"POST"},(0,i.h)("input",{type:"hidden",name:"csrfToken",value:n}),(0,i.h)("button",{id:"submitButton",type:"submit"},"Sign out"))))}},48160:(e,t,n)=>{const{STATUS_CODES:i}=n(81630);const{format:r}=n(28354);const{OPError:o}=n(61408);const s=n(38700);const a=e=>{const t=s(e.headers["www-authenticate"]);if(t.error){throw new o(t,e)}};const c=e=>{let t=false;try{let n;if(typeof e.body!=="object"||Buffer.isBuffer(e.body)){n=JSON.parse(e.body)}else{n=e.body}t=typeof n.error==="string"&&n.error.length;if(t)Object.defineProperty(e,"body",{value:n,configurable:true})}catch(e){}return t};function l(e,{statusCode:t=200,body:n=true,bearer:s=false}={}){if(e.statusCode!==t){if(s){a(e)}if(c(e)){throw new o(e.body,e)}throw new o({error:r("expected %i %s, got: %i %s",t,i[t],e.statusCode,i[e.statusCode])},e)}if(n&&!e.body){throw new o({error:r("expected %i %s with body but no body was returned",t,i[t])},e)}return e.body}e.exports=l},48178:e=>{"use strict";const t=0x7fffffff;const n=36;const i=1;const r=26;const o=38;const s=700;const a=72;const c=128;const l="-";const p=/^xn--/;const d=/[^\0-\x7F]/;const u=/[\x2E\u3002\uFF0E\uFF61]/g;const h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"};const f=n-i;const m=Math.floor;const g=String.fromCharCode;function v(e){throw new RangeError(h[e])}function y(e,t){const n=[];let i=e.length;while(i--){n[i]=t(e[i])}return n}function _(e,t){const n=e.split("@");let i="";if(n.length>1){i=n[0]+"@";e=n[1]}e=e.replace(u,".");const r=e.split(".");const o=y(r,t).join(".");return i+o}function w(e){const t=[];let n=0;const i=e.length;while(n<i){const r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){const i=e.charCodeAt(n++);if((i&64512)==56320){t.push(((r&1023)<<10)+(i&1023)+65536)}else{t.push(r);n--}}else{t.push(r)}}return t}const x=e=>String.fromCodePoint(...e);const b=function(e){if(e>=48&&e<58){return 26+(e-48)}if(e>=65&&e<91){return e-65}if(e>=97&&e<123){return e-97}return n};const k=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)};const E=function(e,t,i){let a=0;e=i?m(e/s):e>>1;e+=m(e/t);for(;e>f*r>>1;a+=n){e=m(e/f)}return m(a+(f+1)*e/(e+o))};const S=function(e){const o=[];const s=e.length;let p=0;let d=c;let u=a;let h=e.lastIndexOf(l);if(h<0){h=0}for(let t=0;t<h;++t){if(e.charCodeAt(t)>=128){v("not-basic")}o.push(e.charCodeAt(t))}for(let a=h>0?h+1:0;a<s;){const c=p;for(let o=1,c=n;;c+=n){if(a>=s){v("invalid-input")}const l=b(e.charCodeAt(a++));if(l>=n){v("invalid-input")}if(l>m((t-p)/o)){v("overflow")}p+=l*o;const d=c<=u?i:c>=u+r?r:c-u;if(l<d){break}const h=n-d;if(o>m(t/h)){v("overflow")}o*=h}const l=o.length+1;u=E(p-c,l,c==0);if(m(p/l)>t-d){v("overflow")}d+=m(p/l);p%=l;o.splice(p++,0,d)}return String.fromCodePoint(...o)};const A=function(e){const o=[];e=w(e);const s=e.length;let p=c;let d=0;let u=a;for(const t of e){if(t<128){o.push(g(t))}}const h=o.length;let f=h;if(h){o.push(l)}while(f<s){let s=t;for(const t of e){if(t>=p&&t<s){s=t}}const a=f+1;if(s-p>m((t-d)/a)){v("overflow")}d+=(s-p)*a;p=s;for(const s of e){if(s<p&&++d>t){v("overflow")}if(s===p){let e=d;for(let t=n;;t+=n){const s=t<=u?i:t>=u+r?r:t-u;if(e<s){break}const a=e-s;const c=n-s;o.push(g(k(s+a%c,0)));e=m(a/c)}o.push(g(k(e,0)));u=E(d,a,f===h);d=0;++f}}++d;++p}return o.join("")};const T=function(e){return _(e,function(e){return p.test(e)?S(e.slice(4).toLowerCase()):e})};const O=function(e){return _(e,function(e){return d.test(e)?"xn--"+A(e):e})};const C={version:"2.3.1",ucs2:{decode:w,encode:x},decode:S,encode:A,toASCII:O,toUnicode:T};e.exports=C},48359:(e,t,n)=>{"use strict";const i=n(7180);const r=n(18199);const o=n(91292).parseDataURI;class s{constructor(e){this.mail=e||{};this.message=false}compile(){this._alternatives=this.getAlternatives();this._htmlNode=this._alternatives.filter(e=>/^text\/html\b/i.test(e.contentType)).pop();this._attachments=this.getAttachments(!!this._htmlNode);this._useRelated=!!(this._htmlNode&&this._attachments.related.length);this._useAlternative=this._alternatives.length>1;this._useMixed=this._attachments.attached.length>1||this._alternatives.length&&this._attachments.attached.length===1;if(this.mail.raw){this.message=new i("message/rfc822",{newline:this.mail.newline}).setRaw(this.mail.raw)}else if(this._useMixed){this.message=this._createMixed()}else if(this._useAlternative){this.message=this._createAlternative()}else if(this._useRelated){this.message=this._createRelated()}else{this.message=this._createContentNode(false,[].concat(this._alternatives||[]).concat(this._attachments.attached||[]).shift()||{contentType:"text/plain",content:""})}if(this.mail.headers){this.message.addHeader(this.mail.headers)}["from","sender","to","cc","bcc","reply-to","in-reply-to","references","subject","message-id","date"].forEach(e=>{let t=e.replace(/-(\w)/g,(e,t)=>t.toUpperCase());if(this.mail[t]){this.message.setHeader(e,this.mail[t])}});if(this.mail.envelope){this.message.setEnvelope(this.mail.envelope)}this.message.messageId();return this.message}getAttachments(e){let t,n;let i=[].concat(this.mail.attachments||[]).map((e,t)=>{let n;let i=/^message\//i.test(e.contentType);if(/^data:/i.test(e.path||e.href)){e=this._processDataUrl(e)}let o=e.contentType||r.detectMimeType(e.filename||e.path||e.href||"bin");let s=/^image\//i.test(o);let a=e.contentDisposition||(i||s&&e.cid?"inline":"attachment");n={contentType:o,contentDisposition:a,contentTransferEncoding:"contentTransferEncoding"in e?e.contentTransferEncoding:"base64"};if(e.filename){n.filename=e.filename}else if(!i&&e.filename!==false){n.filename=(e.path||e.href||"").split("/").pop().split("?").shift()||"attachment-"+(t+1);if(n.filename.indexOf(".")<0){n.filename+="."+r.detectExtension(n.contentType)}}if(/^https?:\/\//i.test(e.path)){e.href=e.path;e.path=undefined}if(e.cid){n.cid=e.cid}if(e.raw){n.raw=e.raw}else if(e.path){n.content={path:e.path}}else if(e.href){n.content={href:e.href,httpHeaders:e.httpHeaders}}else{n.content=e.content||""}if(e.encoding){n.encoding=e.encoding}if(e.headers){n.headers=e.headers}return n});if(this.mail.icalEvent){if(typeof this.mail.icalEvent==="object"&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)){t=this.mail.icalEvent}else{t={content:this.mail.icalEvent}}n={};Object.keys(t).forEach(e=>{n[e]=t[e]});n.contentType="application/ics";if(!n.headers){n.headers={}}n.filename=n.filename||"invite.ics";n.headers["Content-Disposition"]="attachment";n.headers["Content-Transfer-Encoding"]="base64"}if(!e){return{attached:i.concat(n||[]),related:[]}}else{return{attached:i.filter(e=>!e.cid).concat(n||[]),related:i.filter(e=>!!e.cid)}}}getAlternatives(){let e=[],t,n,i,o,s,a;if(this.mail.text){if(typeof this.mail.text==="object"&&(this.mail.text.content||this.mail.text.path||this.mail.text.href||this.mail.text.raw)){t=this.mail.text}else{t={content:this.mail.text}}t.contentType="text/plain; charset=utf-8"}if(this.mail.watchHtml){if(typeof this.mail.watchHtml==="object"&&(this.mail.watchHtml.content||this.mail.watchHtml.path||this.mail.watchHtml.href||this.mail.watchHtml.raw)){i=this.mail.watchHtml}else{i={content:this.mail.watchHtml}}i.contentType="text/watch-html; charset=utf-8"}if(this.mail.amp){if(typeof this.mail.amp==="object"&&(this.mail.amp.content||this.mail.amp.path||this.mail.amp.href||this.mail.amp.raw)){o=this.mail.amp}else{o={content:this.mail.amp}}o.contentType="text/x-amp-html; charset=utf-8"}if(this.mail.icalEvent){if(typeof this.mail.icalEvent==="object"&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)){s=this.mail.icalEvent}else{s={content:this.mail.icalEvent}}a={};Object.keys(s).forEach(e=>{a[e]=s[e]});if(a.content&&typeof a.content==="object"){a.content._resolve=true}a.filename=false;a.contentType="text/calendar; charset=utf-8; method="+(a.method||"PUBLISH").toString().trim().toUpperCase();if(!a.headers){a.headers={}}}if(this.mail.html){if(typeof this.mail.html==="object"&&(this.mail.html.content||this.mail.html.path||this.mail.html.href||this.mail.html.raw)){n=this.mail.html}else{n={content:this.mail.html}}n.contentType="text/html; charset=utf-8"}[].concat(t||[]).concat(i||[]).concat(o||[]).concat(n||[]).concat(a||[]).concat(this.mail.alternatives||[]).forEach(t=>{let n;if(/^data:/i.test(t.path||t.href)){t=this._processDataUrl(t)}n={contentType:t.contentType||r.detectMimeType(t.filename||t.path||t.href||"txt"),contentTransferEncoding:t.contentTransferEncoding};if(t.filename){n.filename=t.filename}if(/^https?:\/\//i.test(t.path)){t.href=t.path;t.path=undefined}if(t.raw){n.raw=t.raw}else if(t.path){n.content={path:t.path}}else if(t.href){n.content={href:t.href}}else{n.content=t.content||""}if(t.encoding){n.encoding=t.encoding}if(t.headers){n.headers=t.headers}e.push(n)});return e}_createMixed(e){let t;if(!e){t=new i("multipart/mixed",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline})}else{t=e.createChild("multipart/mixed",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline})}if(this._useAlternative){this._createAlternative(t)}else if(this._useRelated){this._createRelated(t)}[].concat(!this._useAlternative&&this._alternatives||[]).concat(this._attachments.attached||[]).forEach(e=>{if(!this._useRelated||e!==this._htmlNode){this._createContentNode(t,e)}});return t}_createAlternative(e){let t;if(!e){t=new i("multipart/alternative",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline})}else{t=e.createChild("multipart/alternative",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline})}this._alternatives.forEach(e=>{if(this._useRelated&&this._htmlNode===e){this._createRelated(t)}else{this._createContentNode(t,e)}});return t}_createRelated(e){let t;if(!e){t=new i('multipart/related; type="text/html"',{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline})}else{t=e.createChild('multipart/related; type="text/html"',{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline})}this._createContentNode(t,this._htmlNode);this._attachments.related.forEach(e=>this._createContentNode(t,e));return t}_createContentNode(e,t){t=t||{};t.content=t.content||"";let n;let r=(t.encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");if(!e){n=new i(t.contentType,{filename:t.filename,baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline})}else{n=e.createChild(t.contentType,{filename:t.filename,textEncoding:this.mail.textEncoding,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline})}if(t.headers){n.addHeader(t.headers)}if(t.cid){n.setHeader("Content-Id","<"+t.cid.replace(/[<>]/g,"")+">")}if(t.contentTransferEncoding){n.setHeader("Content-Transfer-Encoding",t.contentTransferEncoding)}else if(this.mail.encoding&&/^text\//i.test(t.contentType)){n.setHeader("Content-Transfer-Encoding",this.mail.encoding)}if(!/^text\//i.test(t.contentType)||t.contentDisposition){n.setHeader("Content-Disposition",t.contentDisposition||(t.cid&&/^image\//i.test(t.contentType)?"inline":"attachment"))}if(typeof t.content==="string"&&!["utf8","usascii","ascii"].includes(r)){t.content=Buffer.from(t.content,r)}if(t.raw){n.setRaw(t.raw)}else{n.setContent(t.content)}return n}_processDataUrl(e){let t;if((e.path||e.href).match(/^data:/)){t=o(e.path||e.href)}if(!t){return e}e.content=t.data;e.contentType=e.contentType||t.contentType;if("path"in e){e.path=false}if("href"in e){e.href=false}return e}}e.exports=s},48513:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SignJWT=void 0;const i=n(99312);const r=n(99938);const o=n(2594);const s=n(2754);class a extends s.ProduceJWT{setProtectedHeader(e){this._protectedHeader=e;return this}async sign(e,t){var n;const s=new i.CompactSign(o.encoder.encode(JSON.stringify(this._payload)));s.setProtectedHeader(this._protectedHeader);if(Array.isArray((n=this._protectedHeader)===null||n===void 0?void 0:n.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===false){throw new r.JWTInvalid("JWTs MUST NOT use unencoded payload")}return s.sign(e,t)}}t.SignJWT=a},48807:e=>{function t(e,t,n,i,r,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,r)}function n(e){return function(){var n=this,i=arguments;return new Promise(function(r,o){var s=e.apply(n,i);function a(e){t(s,r,o,a,c,"next",e)}function c(e){t(s,r,o,a,c,"throw",e)}a(void 0)})}}e.exports=n,e.exports.__esModule=true,e.exports["default"]=e.exports},49074:e=>{"use strict";e.exports=JSON.parse('{"name":"nodemailer","version":"6.10.1","description":"Easy as cake e-mail sending from your Node.js applications","main":"lib/nodemailer.js","scripts":{"test":"node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","test:coverage":"c8 node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","lint":"eslint .","update":"rm -rf node_modules/ package-lock.json && ncu -u && npm install"},"repository":{"type":"git","url":"https://github.com/nodemailer/nodemailer.git"},"keywords":["Nodemailer"],"author":"Andris Reinman","license":"MIT-0","bugs":{"url":"https://github.com/nodemailer/nodemailer/issues"},"homepage":"https://nodemailer.com/","devDependencies":{"@aws-sdk/client-ses":"3.731.1","bunyan":"1.8.15","c8":"10.1.3","eslint":"8.57.0","eslint-config-nodemailer":"1.2.0","eslint-config-prettier":"9.1.0","libbase64":"1.3.0","libmime":"5.3.6","libqp":"2.1.1","nodemailer-ntlm-auth":"1.0.4","proxy":"1.0.2","proxy-test-server":"1.0.0","smtp-server":"3.13.6"},"engines":{"node":">=6.0.0"}}')},49305:(e,t,n)=>{var i=n(24956)["default"];function r(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function t(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(i(e)+" is not iterable")}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},49450:(e,t,n)=>{const i=n(37544);const{RPError:r}=n(61408);const{assertIssuerConfiguration:o}=n(2279);const{random:s}=n(35571);const a=n(16156);const c=n(9552);const{keystores:l}=n(55132);const p=n(86505);const d=e=>encodeURIComponent(e).replace(/%20/g,"+");async function u(e,t){let n=this[`${e}_endpoint_auth_signing_alg`];if(!n){o(this.issuer,`${e}_endpoint_auth_signing_alg_values_supported`)}if(this[`${e}_endpoint_auth_method`]==="client_secret_jwt"){if(!n){const t=this.issuer[`${e}_endpoint_auth_signing_alg_values_supported`];n=Array.isArray(t)&&t.find(e=>/^HS(?:256|384|512)/.test(e))}if(!n){throw new r(`failed to determine a JWS Algorithm to use for ${this[`${e}_endpoint_auth_method`]} Client Assertion`)}return new i.CompactSign(Buffer.from(JSON.stringify(t))).setProtectedHeader({alg:n}).sign(this.secretForAlg(n))}const s=await l.get(this);if(!s){throw new TypeError("no client jwks provided for signing a client assertion with")}if(!n){const t=this.issuer[`${e}_endpoint_auth_signing_alg_values_supported`];n=Array.isArray(t)&&t.find(e=>s.get({alg:e,use:"sig"}))}if(!n){throw new r(`failed to determine a JWS Algorithm to use for ${this[`${e}_endpoint_auth_method`]} Client Assertion`)}const a=s.get({alg:n,use:"sig"});if(!a){throw new r(`no key found in client jwks to sign a client assertion with using alg ${n}`)}return new i.CompactSign(Buffer.from(JSON.stringify(t))).setProtectedHeader({alg:n,kid:a.jwk&&a.jwk.kid}).sign(await a.keyObject(n))}async function h(e,{clientAssertionPayload:t}={}){const n=this[`${e}_endpoint_auth_method`];switch(n){case"self_signed_tls_client_auth":case"tls_client_auth":case"none":return{form:{client_id:this.client_id}};case"client_secret_post":if(typeof this.client_secret!=="string"){throw new TypeError("client_secret_post client authentication method requires a client_secret")}return{form:{client_id:this.client_id,client_secret:this.client_secret}};case"private_key_jwt":case"client_secret_jwt":{const n=a();const i=await u.call(this,e,{iat:n,exp:n+60,jti:s(),iss:this.client_id,sub:this.client_id,aud:this.issuer.issuer,...t});return{form:{client_id:this.client_id,client_assertion:i,client_assertion_type:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer"}}}case"client_secret_basic":{if(typeof this.client_secret!=="string"){throw new TypeError("client_secret_basic client authentication method requires a client_secret")}const e=`${d(this.client_id)}:${d(this.client_secret)}`;const t=Buffer.from(e).toString("base64");return{headers:{Authorization:`Basic ${t}`}}}default:{throw new TypeError(`missing, or unsupported, ${e}_endpoint_auth_method`)}}}function f(){const{length:e,0:t}=this.response_types;if(e===1){return t}return undefined}function m(){const{length:e,0:t}=this.redirect_uris||[];if(e===1){return t}return undefined}async function g(e,t,{clientAssertionPayload:n,endpointAuthMethod:i=e,DPoP:r}={}){const o=await h.call(this,i,{clientAssertionPayload:n});const s=p(t,o);const a=this[`${i}_endpoint_auth_method`].includes("tls_client_auth")||e==="token"&&this.tls_client_certificate_bound_access_tokens;let l;if(a&&this.issuer.mtls_endpoint_aliases){l=this.issuer.mtls_endpoint_aliases[`${e}_endpoint`]}l=l||this.issuer[`${e}_endpoint`];if("form"in s){for(const[e,t]of Object.entries(s.form)){if(typeof t==="undefined"){delete s.form[e]}}}return c.call(this,{...s,method:"POST",url:l,headers:{...e!=="revocation"?{Accept:"application/json"}:undefined,...s.headers}},{mTLS:a,DPoP:r})}e.exports={resolveResponseType:f,resolveRedirectUri:m,authFor:h,authenticatedPost:g}},49526:(e,t,n)=>{"use strict";const i=n(46945);const r=n(91292);const o=n(8346);const s=n(84681);const a=n(79524);const c=n(77821);const l=n(89767);const p=n(97002);const d=n(38099);const u=n(49074);const h=(process.env.ETHEREAL_API||"https://api.nodemailer.com").replace(/\/+$/,"");const f=(process.env.ETHEREAL_WEB||"https://ethereal.email").replace(/\/+$/,"");const m=(process.env.ETHEREAL_API_KEY||"").replace(/\s*/g,"")||null;const g=["true","yes","y","1"].includes((process.env.ETHEREAL_CACHE||"yes").toString().trim().toLowerCase());let v=false;e.exports.createTransport=function(e,t){let n;let d;let u;if(typeof e==="object"&&typeof e.send!=="function"||typeof e==="string"&&/^(smtps?|direct):/i.test(e)){if(n=typeof e==="string"?e:e.url){d=r.parseConnectionUrl(n)}else{d=e}if(d.pool){e=new o(d)}else if(d.sendmail){e=new a(d)}else if(d.streamTransport){e=new c(d)}else if(d.jsonTransport){e=new l(d)}else if(d.SES){e=new p(d)}else{e=new s(d)}}u=new i(e,d,t);return u};e.exports.createTestAccount=function(e,t){let n;if(!t&&typeof e==="function"){t=e;e=false}if(!t){n=new Promise((e,n)=>{t=r.callbackPromise(e,n)})}if(g&&v){setImmediate(()=>t(null,v));return n}e=e||h;let i=[];let o=0;let s={};let a={requestor:u.name,version:u.version};if(m){s.Authorization="Bearer "+m}let c=d(e+"/user",{contentType:"application/json",method:"POST",headers:s,body:Buffer.from(JSON.stringify(a))});c.on("readable",()=>{let e;while((e=c.read())!==null){i.push(e);o+=e.length}});c.once("error",e=>t(e));c.once("end",()=>{let e=Buffer.concat(i,o);let n;let r;try{n=JSON.parse(e.toString())}catch(e){r=e}if(r){return t(r)}if(n.status!=="success"||n.error){return t(new Error(n.error||"Request failed"))}delete n.status;v=n;t(null,v)});return n};e.exports.getTestMessageUrl=function(e){if(!e||!e.response){return false}let t=new Map;e.response.replace(/\[([^\]]+)\]$/,(e,n)=>{n.replace(/\b([A-Z0-9]+)=([^\s]+)/g,(e,n,i)=>{t.set(n,i)})});if(t.has("STATUS")&&t.has("MSGID")){return(v.web||f)+"/message/"+t.get("MSGID")}return false}},49701:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=n;function n(e){return{headers:[{key:"Content-Type",value:"application/json"}],body:e.reduce((e,{id:t,name:n,type:i,signinUrl:r,callbackUrl:o})=>{e[t]={id:t,name:n,type:i,signinUrl:r,callbackUrl:o};return e},{})}}},50003:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.checkEncCryptoKey=t.checkSigCryptoKey=void 0;function n(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function i(e,t){return e.name===t}function r(e){return parseInt(e.name.slice(4),10)}function o(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function s(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const n=t.pop();e+=`one of ${t.join(", ")}, or ${n}.`}else if(t.length===2){e+=`one of ${t[0]} or ${t[1]}.`}else{e+=`${t[0]}.`}throw new TypeError(e)}}function a(e,t,...c){switch(t){case"HS256":case"HS384":case"HS512":{if(!i(e.algorithm,"HMAC"))throw n("HMAC");const o=parseInt(t.slice(2),10);const s=r(e.algorithm.hash);if(s!==o)throw n(`SHA-${o}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!i(e.algorithm,"RSASSA-PKCS1-v1_5"))throw n("RSASSA-PKCS1-v1_5");const o=parseInt(t.slice(2),10);const s=r(e.algorithm.hash);if(s!==o)throw n(`SHA-${o}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!i(e.algorithm,"RSA-PSS"))throw n("RSA-PSS");const o=parseInt(t.slice(2),10);const s=r(e.algorithm.hash);if(s!==o)throw n(`SHA-${o}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448"){throw n("Ed25519 or Ed448")}break}case"ES256":case"ES384":case"ES512":{if(!i(e.algorithm,"ECDSA"))throw n("ECDSA");const r=o(t);const s=e.algorithm.namedCurve;if(s!==r)throw n(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}s(e,c)}t.checkSigCryptoKey=a;function c(e,t,...o){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!i(e.algorithm,"AES-GCM"))throw n("AES-GCM");const r=parseInt(t.slice(1,4),10);const o=e.algorithm.length;if(o!==r)throw n(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!i(e.algorithm,"AES-KW"))throw n("AES-KW");const r=parseInt(t.slice(1,4),10);const o=e.algorithm.length;if(o!==r)throw n(r,"algorithm.length");break}case"ECDH":{switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw n("ECDH, X25519, or X448")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!i(e.algorithm,"PBKDF2"))throw n("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!i(e.algorithm,"RSA-OAEP"))throw n("RSA-OAEP");const o=parseInt(t.slice(9),10)||1;const s=r(e.algorithm.hash);if(s!==o)throw n(`SHA-${o}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}s(e,o)}t.checkEncCryptoKey=c},50143:(e,t,n)=>{"use strict";const i=n(33873);const r="application/octet-stream";const o="bin";const s=new Map([["application/acad","dwg"],["application/applixware","aw"],["application/arj","arj"],["application/atom+xml","xml"],["application/atomcat+xml","atomcat"],["application/atomsvc+xml","atomsvc"],["application/base64",["mm","mme"]],["application/binhex","hqx"],["application/binhex4","hqx"],["application/book",["book","boo"]],["application/ccxml+xml,","ccxml"],["application/cdf","cdf"],["application/cdmi-capability","cdmia"],["application/cdmi-container","cdmic"],["application/cdmi-domain","cdmid"],["application/cdmi-object","cdmio"],["application/cdmi-queue","cdmiq"],["application/clariscad","ccad"],["application/commonground","dp"],["application/cu-seeme","cu"],["application/davmount+xml","davmount"],["application/drafting","drw"],["application/dsptype","tsp"],["application/dssc+der","dssc"],["application/dssc+xml","xdssc"],["application/dxf","dxf"],["application/ecmascript",["js","es"]],["application/emma+xml","emma"],["application/envoy","evy"],["application/epub+zip","epub"],["application/excel",["xls","xl","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/exi","exi"],["application/font-tdpfr","pfr"],["application/fractals","fif"],["application/freeloader","frl"],["application/futuresplash","spl"],["application/geo+json","geojson"],["application/gnutar","tgz"],["application/groupwise","vew"],["application/hlp","hlp"],["application/hta","hta"],["application/hyperstudio","stk"],["application/i-deas","unv"],["application/iges",["iges","igs"]],["application/inf","inf"],["application/internet-property-stream","acx"],["application/ipfix","ipfix"],["application/java","class"],["application/java-archive","jar"],["application/java-byte-code","class"],["application/java-serialized-object","ser"],["application/java-vm","class"],["application/javascript","js"],["application/json","json"],["application/lha","lha"],["application/lzx","lzx"],["application/mac-binary","bin"],["application/mac-binhex","hqx"],["application/mac-binhex40","hqx"],["application/mac-compactpro","cpt"],["application/macbinary","bin"],["application/mads+xml","mads"],["application/marc","mrc"],["application/marcxml+xml","mrcx"],["application/mathematica","ma"],["application/mathml+xml","mathml"],["application/mbedlet","mbd"],["application/mbox","mbox"],["application/mcad","mcd"],["application/mediaservercontrol+xml","mscml"],["application/metalink4+xml","meta4"],["application/mets+xml","mets"],["application/mime","aps"],["application/mods+xml","mods"],["application/mp21","m21"],["application/mp4","mp4"],["application/mspowerpoint",["ppt","pot","pps","ppz"]],["application/msword",["doc","dot","w6w","wiz","word"]],["application/mswrite","wri"],["application/mxf","mxf"],["application/netmc","mcp"],["application/octet-stream",["*"]],["application/oda","oda"],["application/oebps-package+xml","opf"],["application/ogg","ogx"],["application/olescript","axs"],["application/onenote","onetoc"],["application/patch-ops-error+xml","xer"],["application/pdf","pdf"],["application/pgp-encrypted","asc"],["application/pgp-signature","pgp"],["application/pics-rules","prf"],["application/pkcs-12","p12"],["application/pkcs-crl","crl"],["application/pkcs10","p10"],["application/pkcs7-mime",["p7c","p7m"]],["application/pkcs7-signature","p7s"],["application/pkcs8","p8"],["application/pkix-attr-cert","ac"],["application/pkix-cert",["cer","crt"]],["application/pkix-crl","crl"],["application/pkix-pkipath","pkipath"],["application/pkixcmp","pki"],["application/plain","text"],["application/pls+xml","pls"],["application/postscript",["ps","ai","eps"]],["application/powerpoint","ppt"],["application/pro_eng",["part","prt"]],["application/prs.cww","cww"],["application/pskc+xml","pskcxml"],["application/rdf+xml","rdf"],["application/reginfo+xml","rif"],["application/relax-ng-compact-syntax","rnc"],["application/resource-lists+xml","rl"],["application/resource-lists-diff+xml","rld"],["application/ringing-tones","rng"],["application/rls-services+xml","rs"],["application/rsd+xml","rsd"],["application/rss+xml","xml"],["application/rtf",["rtf","rtx"]],["application/sbml+xml","sbml"],["application/scvp-cv-request","scq"],["application/scvp-cv-response","scs"],["application/scvp-vp-request","spq"],["application/scvp-vp-response","spp"],["application/sdp","sdp"],["application/sea","sea"],["application/set","set"],["application/set-payment-initiation","setpay"],["application/set-registration-initiation","setreg"],["application/shf+xml","shf"],["application/sla","stl"],["application/smil",["smi","smil"]],["application/smil+xml","smi"],["application/solids","sol"],["application/sounder","sdr"],["application/sparql-query","rq"],["application/sparql-results+xml","srx"],["application/srgs","gram"],["application/srgs+xml","grxml"],["application/sru+xml","sru"],["application/ssml+xml","ssml"],["application/step",["step","stp"]],["application/streamingmedia","ssm"],["application/tei+xml","tei"],["application/thraud+xml","tfi"],["application/timestamped-data","tsd"],["application/toolbook","tbk"],["application/vda","vda"],["application/vnd.3gpp.pic-bw-large","plb"],["application/vnd.3gpp.pic-bw-small","psb"],["application/vnd.3gpp.pic-bw-var","pvb"],["application/vnd.3gpp2.tcap","tcap"],["application/vnd.3m.post-it-notes","pwn"],["application/vnd.accpac.simply.aso","aso"],["application/vnd.accpac.simply.imp","imp"],["application/vnd.acucobol","acu"],["application/vnd.acucorp","atc"],["application/vnd.adobe.air-application-installer-package+zip","air"],["application/vnd.adobe.fxp","fxp"],["application/vnd.adobe.xdp+xml","xdp"],["application/vnd.adobe.xfdf","xfdf"],["application/vnd.ahead.space","ahead"],["application/vnd.airzip.filesecure.azf","azf"],["application/vnd.airzip.filesecure.azs","azs"],["application/vnd.amazon.ebook","azw"],["application/vnd.americandynamics.acc","acc"],["application/vnd.amiga.ami","ami"],["application/vnd.android.package-archive","apk"],["application/vnd.anser-web-certificate-issue-initiation","cii"],["application/vnd.anser-web-funds-transfer-initiation","fti"],["application/vnd.antix.game-component","atx"],["application/vnd.apple.installer+xml","mpkg"],["application/vnd.apple.mpegurl","m3u8"],["application/vnd.aristanetworks.swi","swi"],["application/vnd.audiograph","aep"],["application/vnd.blueice.multipass","mpm"],["application/vnd.bmi","bmi"],["application/vnd.businessobjects","rep"],["application/vnd.chemdraw+xml","cdxml"],["application/vnd.chipnuts.karaoke-mmd","mmd"],["application/vnd.cinderella","cdy"],["application/vnd.claymore","cla"],["application/vnd.cloanto.rp9","rp9"],["application/vnd.clonk.c4group","c4g"],["application/vnd.cluetrust.cartomobile-config","c11amc"],["application/vnd.cluetrust.cartomobile-config-pkg","c11amz"],["application/vnd.commonspace","csp"],["application/vnd.contact.cmsg","cdbcmsg"],["application/vnd.cosmocaller","cmc"],["application/vnd.crick.clicker","clkx"],["application/vnd.crick.clicker.keyboard","clkk"],["application/vnd.crick.clicker.palette","clkp"],["application/vnd.crick.clicker.template","clkt"],["application/vnd.crick.clicker.wordbank","clkw"],["application/vnd.criticaltools.wbs+xml","wbs"],["application/vnd.ctc-posml","pml"],["application/vnd.cups-ppd","ppd"],["application/vnd.curl.car","car"],["application/vnd.curl.pcurl","pcurl"],["application/vnd.data-vision.rdz","rdz"],["application/vnd.denovo.fcselayout-link","fe_launch"],["application/vnd.dna","dna"],["application/vnd.dolby.mlp","mlp"],["application/vnd.dpgraph","dpg"],["application/vnd.dreamfactory","dfac"],["application/vnd.dvb.ait","ait"],["application/vnd.dvb.service","svc"],["application/vnd.dynageo","geo"],["application/vnd.ecowin.chart","mag"],["application/vnd.enliven","nml"],["application/vnd.epson.esf","esf"],["application/vnd.epson.msf","msf"],["application/vnd.epson.quickanime","qam"],["application/vnd.epson.salt","slt"],["application/vnd.epson.ssf","ssf"],["application/vnd.eszigno3+xml","es3"],["application/vnd.ezpix-album","ez2"],["application/vnd.ezpix-package","ez3"],["application/vnd.fdf","fdf"],["application/vnd.fdsn.seed","seed"],["application/vnd.flographit","gph"],["application/vnd.fluxtime.clip","ftc"],["application/vnd.framemaker","fm"],["application/vnd.frogans.fnc","fnc"],["application/vnd.frogans.ltf","ltf"],["application/vnd.fsc.weblaunch","fsc"],["application/vnd.fujitsu.oasys","oas"],["application/vnd.fujitsu.oasys2","oa2"],["application/vnd.fujitsu.oasys3","oa3"],["application/vnd.fujitsu.oasysgp","fg5"],["application/vnd.fujitsu.oasysprs","bh2"],["application/vnd.fujixerox.ddd","ddd"],["application/vnd.fujixerox.docuworks","xdw"],["application/vnd.fujixerox.docuworks.binder","xbd"],["application/vnd.fuzzysheet","fzs"],["application/vnd.genomatix.tuxedo","txd"],["application/vnd.geogebra.file","ggb"],["application/vnd.geogebra.tool","ggt"],["application/vnd.geometry-explorer","gex"],["application/vnd.geonext","gxt"],["application/vnd.geoplan","g2w"],["application/vnd.geospace","g3w"],["application/vnd.gmx","gmx"],["application/vnd.google-earth.kml+xml","kml"],["application/vnd.google-earth.kmz","kmz"],["application/vnd.grafeq","gqf"],["application/vnd.groove-account","gac"],["application/vnd.groove-help","ghf"],["application/vnd.groove-identity-message","gim"],["application/vnd.groove-injector","grv"],["application/vnd.groove-tool-message","gtm"],["application/vnd.groove-tool-template","tpl"],["application/vnd.groove-vcard","vcg"],["application/vnd.hal+xml","hal"],["application/vnd.handheld-entertainment+xml","zmm"],["application/vnd.hbci","hbci"],["application/vnd.hhe.lesson-player","les"],["application/vnd.hp-hpgl",["hgl","hpg","hpgl"]],["application/vnd.hp-hpid","hpid"],["application/vnd.hp-hps","hps"],["application/vnd.hp-jlyt","jlt"],["application/vnd.hp-pcl","pcl"],["application/vnd.hp-pclxl","pclxl"],["application/vnd.hydrostatix.sof-data","sfd-hdstx"],["application/vnd.hzn-3d-crossword","x3d"],["application/vnd.ibm.minipay","mpy"],["application/vnd.ibm.modcap","afp"],["application/vnd.ibm.rights-management","irm"],["application/vnd.ibm.secure-container","sc"],["application/vnd.iccprofile","icc"],["application/vnd.igloader","igl"],["application/vnd.immervision-ivp","ivp"],["application/vnd.immervision-ivu","ivu"],["application/vnd.insors.igm","igm"],["application/vnd.intercon.formnet","xpw"],["application/vnd.intergeo","i2g"],["application/vnd.intu.qbo","qbo"],["application/vnd.intu.qfx","qfx"],["application/vnd.ipunplugged.rcprofile","rcprofile"],["application/vnd.irepository.package+xml","irp"],["application/vnd.is-xpr","xpr"],["application/vnd.isac.fcs","fcs"],["application/vnd.jam","jam"],["application/vnd.jcp.javame.midlet-rms","rms"],["application/vnd.jisp","jisp"],["application/vnd.joost.joda-archive","joda"],["application/vnd.kahootz","ktz"],["application/vnd.kde.karbon","karbon"],["application/vnd.kde.kchart","chrt"],["application/vnd.kde.kformula","kfo"],["application/vnd.kde.kivio","flw"],["application/vnd.kde.kontour","kon"],["application/vnd.kde.kpresenter","kpr"],["application/vnd.kde.kspread","ksp"],["application/vnd.kde.kword","kwd"],["application/vnd.kenameaapp","htke"],["application/vnd.kidspiration","kia"],["application/vnd.kinar","kne"],["application/vnd.koan","skp"],["application/vnd.kodak-descriptor","sse"],["application/vnd.las.las+xml","lasxml"],["application/vnd.llamagraphics.life-balance.desktop","lbd"],["application/vnd.llamagraphics.life-balance.exchange+xml","lbe"],["application/vnd.lotus-1-2-3","123"],["application/vnd.lotus-approach","apr"],["application/vnd.lotus-freelance","pre"],["application/vnd.lotus-notes","nsf"],["application/vnd.lotus-organizer","org"],["application/vnd.lotus-screencam","scm"],["application/vnd.lotus-wordpro","lwp"],["application/vnd.macports.portpkg","portpkg"],["application/vnd.mcd","mcd"],["application/vnd.medcalcdata","mc1"],["application/vnd.mediastation.cdkey","cdkey"],["application/vnd.mfer","mwf"],["application/vnd.mfmp","mfm"],["application/vnd.micrografx.flo","flo"],["application/vnd.micrografx.igx","igx"],["application/vnd.mif","mif"],["application/vnd.mobius.daf","daf"],["application/vnd.mobius.dis","dis"],["application/vnd.mobius.mbk","mbk"],["application/vnd.mobius.mqy","mqy"],["application/vnd.mobius.msl","msl"],["application/vnd.mobius.plc","plc"],["application/vnd.mobius.txf","txf"],["application/vnd.mophun.application","mpn"],["application/vnd.mophun.certificate","mpc"],["application/vnd.mozilla.xul+xml","xul"],["application/vnd.ms-artgalry","cil"],["application/vnd.ms-cab-compressed","cab"],["application/vnd.ms-excel",["xls","xla","xlc","xlm","xlt","xlw","xlb","xll"]],["application/vnd.ms-excel.addin.macroenabled.12","xlam"],["application/vnd.ms-excel.sheet.binary.macroenabled.12","xlsb"],["application/vnd.ms-excel.sheet.macroenabled.12","xlsm"],["application/vnd.ms-excel.template.macroenabled.12","xltm"],["application/vnd.ms-fontobject","eot"],["application/vnd.ms-htmlhelp","chm"],["application/vnd.ms-ims","ims"],["application/vnd.ms-lrm","lrm"],["application/vnd.ms-officetheme","thmx"],["application/vnd.ms-outlook","msg"],["application/vnd.ms-pki.certstore","sst"],["application/vnd.ms-pki.pko","pko"],["application/vnd.ms-pki.seccat","cat"],["application/vnd.ms-pki.stl","stl"],["application/vnd.ms-pkicertstore","sst"],["application/vnd.ms-pkiseccat","cat"],["application/vnd.ms-pkistl","stl"],["application/vnd.ms-powerpoint",["ppt","pot","pps","ppa","pwz"]],["application/vnd.ms-powerpoint.addin.macroenabled.12","ppam"],["application/vnd.ms-powerpoint.presentation.macroenabled.12","pptm"],["application/vnd.ms-powerpoint.slide.macroenabled.12","sldm"],["application/vnd.ms-powerpoint.slideshow.macroenabled.12","ppsm"],["application/vnd.ms-powerpoint.template.macroenabled.12","potm"],["application/vnd.ms-project","mpp"],["application/vnd.ms-word.document.macroenabled.12","docm"],["application/vnd.ms-word.template.macroenabled.12","dotm"],["application/vnd.ms-works",["wks","wcm","wdb","wps"]],["application/vnd.ms-wpl","wpl"],["application/vnd.ms-xpsdocument","xps"],["application/vnd.mseq","mseq"],["application/vnd.musician","mus"],["application/vnd.muvee.style","msty"],["application/vnd.neurolanguage.nlu","nlu"],["application/vnd.noblenet-directory","nnd"],["application/vnd.noblenet-sealer","nns"],["application/vnd.noblenet-web","nnw"],["application/vnd.nokia.configuration-message","ncm"],["application/vnd.nokia.n-gage.data","ngdat"],["application/vnd.nokia.n-gage.symbian.install","n-gage"],["application/vnd.nokia.radio-preset","rpst"],["application/vnd.nokia.radio-presets","rpss"],["application/vnd.nokia.ringing-tone","rng"],["application/vnd.novadigm.edm","edm"],["application/vnd.novadigm.edx","edx"],["application/vnd.novadigm.ext","ext"],["application/vnd.oasis.opendocument.chart","odc"],["application/vnd.oasis.opendocument.chart-template","otc"],["application/vnd.oasis.opendocument.database","odb"],["application/vnd.oasis.opendocument.formula","odf"],["application/vnd.oasis.opendocument.formula-template","odft"],["application/vnd.oasis.opendocument.graphics","odg"],["application/vnd.oasis.opendocument.graphics-template","otg"],["application/vnd.oasis.opendocument.image","odi"],["application/vnd.oasis.opendocument.image-template","oti"],["application/vnd.oasis.opendocument.presentation","odp"],["application/vnd.oasis.opendocument.presentation-template","otp"],["application/vnd.oasis.opendocument.spreadsheet","ods"],["application/vnd.oasis.opendocument.spreadsheet-template","ots"],["application/vnd.oasis.opendocument.text","odt"],["application/vnd.oasis.opendocument.text-master","odm"],["application/vnd.oasis.opendocument.text-template","ott"],["application/vnd.oasis.opendocument.text-web","oth"],["application/vnd.olpc-sugar","xo"],["application/vnd.oma.dd2+xml","dd2"],["application/vnd.openofficeorg.extension","oxt"],["application/vnd.openxmlformats-officedocument.presentationml.presentation","pptx"],["application/vnd.openxmlformats-officedocument.presentationml.slide","sldx"],["application/vnd.openxmlformats-officedocument.presentationml.slideshow","ppsx"],["application/vnd.openxmlformats-officedocument.presentationml.template","potx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","xlsx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.template","xltx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.document","docx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.template","dotx"],["application/vnd.osgeo.mapguide.package","mgp"],["application/vnd.osgi.dp","dp"],["application/vnd.palm","pdb"],["application/vnd.pawaafile","paw"],["application/vnd.pg.format","str"],["application/vnd.pg.osasli","ei6"],["application/vnd.picsel","efif"],["application/vnd.pmi.widget","wg"],["application/vnd.pocketlearn","plf"],["application/vnd.powerbuilder6","pbd"],["application/vnd.previewsystems.box","box"],["application/vnd.proteus.magazine","mgz"],["application/vnd.publishare-delta-tree","qps"],["application/vnd.pvi.ptid1","ptid"],["application/vnd.quark.quarkxpress","qxd"],["application/vnd.realvnc.bed","bed"],["application/vnd.recordare.musicxml","mxl"],["application/vnd.recordare.musicxml+xml","musicxml"],["application/vnd.rig.cryptonote","cryptonote"],["application/vnd.rim.cod","cod"],["application/vnd.rn-realmedia","rm"],["application/vnd.rn-realplayer","rnx"],["application/vnd.route66.link66+xml","link66"],["application/vnd.sailingtracker.track","st"],["application/vnd.seemail","see"],["application/vnd.sema","sema"],["application/vnd.semd","semd"],["application/vnd.semf","semf"],["application/vnd.shana.informed.formdata","ifm"],["application/vnd.shana.informed.formtemplate","itp"],["application/vnd.shana.informed.interchange","iif"],["application/vnd.shana.informed.package","ipk"],["application/vnd.simtech-mindmapper","twd"],["application/vnd.smaf","mmf"],["application/vnd.smart.teacher","teacher"],["application/vnd.solent.sdkm+xml","sdkm"],["application/vnd.spotfire.dxp","dxp"],["application/vnd.spotfire.sfs","sfs"],["application/vnd.stardivision.calc","sdc"],["application/vnd.stardivision.draw","sda"],["application/vnd.stardivision.impress","sdd"],["application/vnd.stardivision.math","smf"],["application/vnd.stardivision.writer","sdw"],["application/vnd.stardivision.writer-global","sgl"],["application/vnd.stepmania.stepchart","sm"],["application/vnd.sun.xml.calc","sxc"],["application/vnd.sun.xml.calc.template","stc"],["application/vnd.sun.xml.draw","sxd"],["application/vnd.sun.xml.draw.template","std"],["application/vnd.sun.xml.impress","sxi"],["application/vnd.sun.xml.impress.template","sti"],["application/vnd.sun.xml.math","sxm"],["application/vnd.sun.xml.writer","sxw"],["application/vnd.sun.xml.writer.global","sxg"],["application/vnd.sun.xml.writer.template","stw"],["application/vnd.sus-calendar","sus"],["application/vnd.svd","svd"],["application/vnd.symbian.install","sis"],["application/vnd.syncml+xml","xsm"],["application/vnd.syncml.dm+wbxml","bdm"],["application/vnd.syncml.dm+xml","xdm"],["application/vnd.tao.intent-module-archive","tao"],["application/vnd.tmobile-livetv","tmo"],["application/vnd.trid.tpt","tpt"],["application/vnd.triscape.mxs","mxs"],["application/vnd.trueapp","tra"],["application/vnd.ufdl","ufd"],["application/vnd.uiq.theme","utz"],["application/vnd.umajin","umj"],["application/vnd.unity","unityweb"],["application/vnd.uoml+xml","uoml"],["application/vnd.vcx","vcx"],["application/vnd.visio","vsd"],["application/vnd.visionary","vis"],["application/vnd.vsf","vsf"],["application/vnd.wap.wbxml","wbxml"],["application/vnd.wap.wmlc","wmlc"],["application/vnd.wap.wmlscriptc","wmlsc"],["application/vnd.webturbo","wtb"],["application/vnd.wolfram.player","nbp"],["application/vnd.wordperfect","wpd"],["application/vnd.wqd","wqd"],["application/vnd.wt.stf","stf"],["application/vnd.xara",["web","xar"]],["application/vnd.xfdl","xfdl"],["application/vnd.yamaha.hv-dic","hvd"],["application/vnd.yamaha.hv-script","hvs"],["application/vnd.yamaha.hv-voice","hvp"],["application/vnd.yamaha.openscoreformat","osf"],["application/vnd.yamaha.openscoreformat.osfpvg+xml","osfpvg"],["application/vnd.yamaha.smaf-audio","saf"],["application/vnd.yamaha.smaf-phrase","spf"],["application/vnd.yellowriver-custom-menu","cmp"],["application/vnd.zul","zir"],["application/vnd.zzazz.deck+xml","zaz"],["application/vocaltec-media-desc","vmd"],["application/vocaltec-media-file","vmf"],["application/voicexml+xml","vxml"],["application/widget","wgt"],["application/winhlp","hlp"],["application/wordperfect",["wp","wp5","wp6","wpd"]],["application/wordperfect6.0",["w60","wp5"]],["application/wordperfect6.1","w61"],["application/wsdl+xml","wsdl"],["application/wspolicy+xml","wspolicy"],["application/x-123","wk1"],["application/x-7z-compressed","7z"],["application/x-abiword","abw"],["application/x-ace-compressed","ace"],["application/x-aim","aim"],["application/x-authorware-bin","aab"],["application/x-authorware-map","aam"],["application/x-authorware-seg","aas"],["application/x-bcpio","bcpio"],["application/x-binary","bin"],["application/x-binhex40","hqx"],["application/x-bittorrent","torrent"],["application/x-bsh",["bsh","sh","shar"]],["application/x-bytecode.elisp","elc"],["application/x-bytecode.python","pyc"],["application/x-bzip","bz"],["application/x-bzip2",["boz","bz2"]],["application/x-cdf","cdf"],["application/x-cdlink","vcd"],["application/x-chat",["cha","chat"]],["application/x-chess-pgn","pgn"],["application/x-cmu-raster","ras"],["application/x-cocoa","cco"],["application/x-compactpro","cpt"],["application/x-compress","z"],["application/x-compressed",["tgz","gz","z","zip"]],["application/x-conference","nsc"],["application/x-cpio","cpio"],["application/x-cpt","cpt"],["application/x-csh","csh"],["application/x-debian-package","deb"],["application/x-deepv","deepv"],["application/x-director",["dir","dcr","dxr"]],["application/x-doom","wad"],["application/x-dtbncx+xml","ncx"],["application/x-dtbook+xml","dtb"],["application/x-dtbresource+xml","res"],["application/x-dvi","dvi"],["application/x-elc","elc"],["application/x-envoy",["env","evy"]],["application/x-esrehber","es"],["application/x-excel",["xls","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/x-font-bdf","bdf"],["application/x-font-ghostscript","gsf"],["application/x-font-linux-psf","psf"],["application/x-font-otf","otf"],["application/x-font-pcf","pcf"],["application/x-font-snf","snf"],["application/x-font-ttf","ttf"],["application/x-font-type1","pfa"],["application/x-font-woff","woff"],["application/x-frame","mif"],["application/x-freelance","pre"],["application/x-futuresplash","spl"],["application/x-gnumeric","gnumeric"],["application/x-gsp","gsp"],["application/x-gss","gss"],["application/x-gtar","gtar"],["application/x-gzip",["gz","gzip"]],["application/x-hdf","hdf"],["application/x-helpfile",["help","hlp"]],["application/x-httpd-imap","imap"],["application/x-ima","ima"],["application/x-internet-signup",["ins","isp"]],["application/x-internett-signup","ins"],["application/x-inventor","iv"],["application/x-ip2","ip"],["application/x-iphone","iii"],["application/x-java-class","class"],["application/x-java-commerce","jcm"],["application/x-java-jnlp-file","jnlp"],["application/x-javascript","js"],["application/x-koan",["skd","skm","skp","skt"]],["application/x-ksh","ksh"],["application/x-latex",["latex","ltx"]],["application/x-lha","lha"],["application/x-lisp","lsp"],["application/x-livescreen","ivy"],["application/x-lotus","wq1"],["application/x-lotusscreencam","scm"],["application/x-lzh","lzh"],["application/x-lzx","lzx"],["application/x-mac-binhex40","hqx"],["application/x-macbinary","bin"],["application/x-magic-cap-package-1.0","mc$"],["application/x-mathcad","mcd"],["application/x-meme","mm"],["application/x-midi",["mid","midi"]],["application/x-mif","mif"],["application/x-mix-transfer","nix"],["application/x-mobipocket-ebook","prc"],["application/x-mplayer2","asx"],["application/x-ms-application","application"],["application/x-ms-wmd","wmd"],["application/x-ms-wmz","wmz"],["application/x-ms-xbap","xbap"],["application/x-msaccess","mdb"],["application/x-msbinder","obd"],["application/x-mscardfile","crd"],["application/x-msclip","clp"],["application/x-msdownload",["exe","dll"]],["application/x-msexcel",["xls","xla","xlw"]],["application/x-msmediaview",["mvb","m13","m14"]],["application/x-msmetafile","wmf"],["application/x-msmoney","mny"],["application/x-mspowerpoint","ppt"],["application/x-mspublisher","pub"],["application/x-msschedule","scd"],["application/x-msterminal","trm"],["application/x-mswrite","wri"],["application/x-navi-animation","ani"],["application/x-navidoc","nvd"],["application/x-navimap","map"],["application/x-navistyle","stl"],["application/x-netcdf",["cdf","nc"]],["application/x-newton-compatible-pkg","pkg"],["application/x-nokia-9000-communicator-add-on-software","aos"],["application/x-omc","omc"],["application/x-omcdatamaker","omcd"],["application/x-omcregerator","omcr"],["application/x-pagemaker",["pm4","pm5"]],["application/x-pcl","pcl"],["application/x-perfmon",["pma","pmc","pml","pmr","pmw"]],["application/x-pixclscript","plx"],["application/x-pkcs10","p10"],["application/x-pkcs12",["p12","pfx"]],["application/x-pkcs7-certificates",["p7b","spc"]],["application/x-pkcs7-certreqresp","p7r"],["application/x-pkcs7-mime",["p7m","p7c"]],["application/x-pkcs7-signature",["p7s","p7a"]],["application/x-pointplus","css"],["application/x-portable-anymap","pnm"],["application/x-project",["mpc","mpt","mpv","mpx"]],["application/x-qpro","wb1"],["application/x-rar-compressed","rar"],["application/x-rtf","rtf"],["application/x-sdp","sdp"],["application/x-sea","sea"],["application/x-seelogo","sl"],["application/x-sh","sh"],["application/x-shar",["shar","sh"]],["application/x-shockwave-flash","swf"],["application/x-silverlight-app","xap"],["application/x-sit","sit"],["application/x-sprite",["spr","sprite"]],["application/x-stuffit","sit"],["application/x-stuffitx","sitx"],["application/x-sv4cpio","sv4cpio"],["application/x-sv4crc","sv4crc"],["application/x-tar","tar"],["application/x-tbook",["sbk","tbk"]],["application/x-tcl","tcl"],["application/x-tex","tex"],["application/x-tex-tfm","tfm"],["application/x-texinfo",["texi","texinfo"]],["application/x-troff",["roff","t","tr"]],["application/x-troff-man","man"],["application/x-troff-me","me"],["application/x-troff-ms","ms"],["application/x-troff-msvideo","avi"],["application/x-ustar","ustar"],["application/x-visio",["vsd","vst","vsw"]],["application/x-vnd.audioexplosion.mzz","mzz"],["application/x-vnd.ls-xpix","xpix"],["application/x-vrml","vrml"],["application/x-wais-source",["src","wsrc"]],["application/x-winhelp","hlp"],["application/x-wintalk","wtk"],["application/x-world",["wrl","svr"]],["application/x-wpwin","wpd"],["application/x-wri","wri"],["application/x-x509-ca-cert",["cer","crt","der"]],["application/x-x509-user-cert","crt"],["application/x-xfig","fig"],["application/x-xpinstall","xpi"],["application/x-zip-compressed","zip"],["application/xcap-diff+xml","xdf"],["application/xenc+xml","xenc"],["application/xhtml+xml","xhtml"],["application/xml","xml"],["application/xml-dtd","dtd"],["application/xop+xml","xop"],["application/xslt+xml","xslt"],["application/xspf+xml","xspf"],["application/xv+xml","mxml"],["application/yang","yang"],["application/yin+xml","yin"],["application/ynd.ms-pkipko","pko"],["application/zip","zip"],["audio/adpcm","adp"],["audio/aiff",["aiff","aif","aifc"]],["audio/basic",["snd","au"]],["audio/it","it"],["audio/make",["funk","my","pfunk"]],["audio/make.my.funk","pfunk"],["audio/mid",["mid","rmi"]],["audio/midi",["midi","kar","mid"]],["audio/mod","mod"],["audio/mp4","mp4a"],["audio/mpeg",["mpga","mp3","m2a","mp2","mpa","mpg"]],["audio/mpeg3","mp3"],["audio/nspaudio",["la","lma"]],["audio/ogg","oga"],["audio/s3m","s3m"],["audio/tsp-audio","tsi"],["audio/tsplayer","tsp"],["audio/vnd.dece.audio","uva"],["audio/vnd.digital-winds","eol"],["audio/vnd.dra","dra"],["audio/vnd.dts","dts"],["audio/vnd.dts.hd","dtshd"],["audio/vnd.lucent.voice","lvp"],["audio/vnd.ms-playready.media.pya","pya"],["audio/vnd.nuera.ecelp4800","ecelp4800"],["audio/vnd.nuera.ecelp7470","ecelp7470"],["audio/vnd.nuera.ecelp9600","ecelp9600"],["audio/vnd.qcelp","qcp"],["audio/vnd.rip","rip"],["audio/voc","voc"],["audio/voxware","vox"],["audio/wav","wav"],["audio/webm","weba"],["audio/x-aac","aac"],["audio/x-adpcm","snd"],["audio/x-aiff",["aiff","aif","aifc"]],["audio/x-au","au"],["audio/x-gsm",["gsd","gsm"]],["audio/x-jam","jam"],["audio/x-liveaudio","lam"],["audio/x-mid",["mid","midi"]],["audio/x-midi",["midi","mid"]],["audio/x-mod","mod"],["audio/x-mpeg","mp2"],["audio/x-mpeg-3","mp3"],["audio/x-mpegurl","m3u"],["audio/x-mpequrl","m3u"],["audio/x-ms-wax","wax"],["audio/x-ms-wma","wma"],["audio/x-nspaudio",["la","lma"]],["audio/x-pn-realaudio",["ra","ram","rm","rmm","rmp"]],["audio/x-pn-realaudio-plugin",["ra","rmp","rpm"]],["audio/x-psid","sid"],["audio/x-realaudio","ra"],["audio/x-twinvq","vqf"],["audio/x-twinvq-plugin",["vqe","vql"]],["audio/x-vnd.audioexplosion.mjuicemediafile","mjf"],["audio/x-voc","voc"],["audio/x-wav","wav"],["audio/xm","xm"],["chemical/x-cdx","cdx"],["chemical/x-cif","cif"],["chemical/x-cmdf","cmdf"],["chemical/x-cml","cml"],["chemical/x-csml","csml"],["chemical/x-pdb",["pdb","xyz"]],["chemical/x-xyz","xyz"],["drawing/x-dwf","dwf"],["i-world/i-vrml","ivr"],["image/bmp",["bmp","bm"]],["image/cgm","cgm"],["image/cis-cod","cod"],["image/cmu-raster",["ras","rast"]],["image/fif","fif"],["image/florian",["flo","turbot"]],["image/g3fax","g3"],["image/gif","gif"],["image/ief",["ief","iefs"]],["image/jpeg",["jpeg","jpe","jpg","jfif","jfif-tbnl"]],["image/jutvision","jut"],["image/ktx","ktx"],["image/naplps",["nap","naplps"]],["image/pict",["pic","pict"]],["image/pipeg","jfif"],["image/pjpeg",["jfif","jpe","jpeg","jpg"]],["image/png",["png","x-png"]],["image/prs.btif","btif"],["image/svg+xml","svg"],["image/tiff",["tif","tiff"]],["image/vasa","mcf"],["image/vnd.adobe.photoshop","psd"],["image/vnd.dece.graphic","uvi"],["image/vnd.djvu","djvu"],["image/vnd.dvb.subtitle","sub"],["image/vnd.dwg",["dwg","dxf","svf"]],["image/vnd.dxf","dxf"],["image/vnd.fastbidsheet","fbs"],["image/vnd.fpx","fpx"],["image/vnd.fst","fst"],["image/vnd.fujixerox.edmics-mmr","mmr"],["image/vnd.fujixerox.edmics-rlc","rlc"],["image/vnd.ms-modi","mdi"],["image/vnd.net-fpx",["fpx","npx"]],["image/vnd.rn-realflash","rf"],["image/vnd.rn-realpix","rp"],["image/vnd.wap.wbmp","wbmp"],["image/vnd.xiff","xif"],["image/webp","webp"],["image/x-cmu-raster","ras"],["image/x-cmx","cmx"],["image/x-dwg",["dwg","dxf","svf"]],["image/x-freehand","fh"],["image/x-icon","ico"],["image/x-jg","art"],["image/x-jps","jps"],["image/x-niff",["niff","nif"]],["image/x-pcx","pcx"],["image/x-pict",["pct","pic"]],["image/x-portable-anymap","pnm"],["image/x-portable-bitmap","pbm"],["image/x-portable-graymap","pgm"],["image/x-portable-greymap","pgm"],["image/x-portable-pixmap","ppm"],["image/x-quicktime",["qif","qti","qtif"]],["image/x-rgb","rgb"],["image/x-tiff",["tif","tiff"]],["image/x-windows-bmp","bmp"],["image/x-xbitmap","xbm"],["image/x-xbm","xbm"],["image/x-xpixmap",["xpm","pm"]],["image/x-xwd","xwd"],["image/x-xwindowdump","xwd"],["image/xbm","xbm"],["image/xpm","xpm"],["message/rfc822",["eml","mht","mhtml","nws","mime"]],["model/iges",["iges","igs"]],["model/mesh","msh"],["model/vnd.collada+xml","dae"],["model/vnd.dwf","dwf"],["model/vnd.gdl","gdl"],["model/vnd.gtw","gtw"],["model/vnd.mts","mts"],["model/vnd.vtu","vtu"],["model/vrml",["vrml","wrl","wrz"]],["model/x-pov","pov"],["multipart/x-gzip","gzip"],["multipart/x-ustar","ustar"],["multipart/x-zip","zip"],["music/crescendo",["mid","midi"]],["music/x-karaoke","kar"],["paleovu/x-pv","pvu"],["text/asp","asp"],["text/calendar","ics"],["text/css","css"],["text/csv","csv"],["text/ecmascript","js"],["text/h323","323"],["text/html",["html","htm","stm","acgi","htmls","htx","shtml"]],["text/iuls","uls"],["text/javascript","js"],["text/mcf","mcf"],["text/n3","n3"],["text/pascal","pas"],["text/plain",["txt","bas","c","h","c++","cc","com","conf","cxx","def","f","f90","for","g","hh","idc","jav","java","list","log","lst","m","mar","pl","sdml","text"]],["text/plain-bas","par"],["text/prs.lines.tag","dsc"],["text/richtext",["rtx","rt","rtf"]],["text/scriplet","wsc"],["text/scriptlet","sct"],["text/sgml",["sgm","sgml"]],["text/tab-separated-values","tsv"],["text/troff","t"],["text/turtle","ttl"],["text/uri-list",["uni","unis","uri","uris"]],["text/vnd.abc","abc"],["text/vnd.curl","curl"],["text/vnd.curl.dcurl","dcurl"],["text/vnd.curl.mcurl","mcurl"],["text/vnd.curl.scurl","scurl"],["text/vnd.fly","fly"],["text/vnd.fmi.flexstor","flx"],["text/vnd.graphviz","gv"],["text/vnd.in3d.3dml","3dml"],["text/vnd.in3d.spot","spot"],["text/vnd.rn-realtext","rt"],["text/vnd.sun.j2me.app-descriptor","jad"],["text/vnd.wap.wml","wml"],["text/vnd.wap.wmlscript","wmls"],["text/webviewhtml","htt"],["text/x-asm",["asm","s"]],["text/x-audiosoft-intra","aip"],["text/x-c",["c","cc","cpp"]],["text/x-component","htc"],["text/x-fortran",["for","f","f77","f90"]],["text/x-h",["h","hh"]],["text/x-java-source",["java","jav"]],["text/x-java-source,java","java"],["text/x-la-asf","lsx"],["text/x-m","m"],["text/x-pascal","p"],["text/x-script","hlb"],["text/x-script.csh","csh"],["text/x-script.elisp","el"],["text/x-script.guile","scm"],["text/x-script.ksh","ksh"],["text/x-script.lisp","lsp"],["text/x-script.perl","pl"],["text/x-script.perl-module","pm"],["text/x-script.phyton","py"],["text/x-script.rexx","rexx"],["text/x-script.scheme","scm"],["text/x-script.sh","sh"],["text/x-script.tcl","tcl"],["text/x-script.tcsh","tcsh"],["text/x-script.zsh","zsh"],["text/x-server-parsed-html",["shtml","ssi"]],["text/x-setext","etx"],["text/x-sgml",["sgm","sgml"]],["text/x-speech",["spc","talk"]],["text/x-uil","uil"],["text/x-uuencode",["uu","uue"]],["text/x-vcalendar","vcs"],["text/x-vcard","vcf"],["text/xml","xml"],["video/3gpp","3gp"],["video/3gpp2","3g2"],["video/animaflex","afl"],["video/avi","avi"],["video/avs-video","avs"],["video/dl","dl"],["video/fli","fli"],["video/gl","gl"],["video/h261","h261"],["video/h263","h263"],["video/h264","h264"],["video/jpeg","jpgv"],["video/jpm","jpm"],["video/mj2","mj2"],["video/mp4","mp4"],["video/mpeg",["mpeg","mp2","mpa","mpe","mpg","mpv2","m1v","m2v","mp3"]],["video/msvideo","avi"],["video/ogg","ogv"],["video/quicktime",["mov","qt","moov"]],["video/vdo","vdo"],["video/vivo",["viv","vivo"]],["video/vnd.dece.hd","uvh"],["video/vnd.dece.mobile","uvm"],["video/vnd.dece.pd","uvp"],["video/vnd.dece.sd","uvs"],["video/vnd.dece.video","uvv"],["video/vnd.fvt","fvt"],["video/vnd.mpegurl","mxu"],["video/vnd.ms-playready.media.pyv","pyv"],["video/vnd.rn-realvideo","rv"],["video/vnd.uvvu.mp4","uvu"],["video/vnd.vivo",["viv","vivo"]],["video/vosaic","vos"],["video/webm","webm"],["video/x-amt-demorun","xdr"],["video/x-amt-showrun","xsr"],["video/x-atomic3d-feature","fmf"],["video/x-dl","dl"],["video/x-dv",["dif","dv"]],["video/x-f4v","f4v"],["video/x-fli","fli"],["video/x-flv","flv"],["video/x-gl","gl"],["video/x-isvideo","isu"],["video/x-la-asf",["lsf","lsx"]],["video/x-m4v","m4v"],["video/x-motion-jpeg","mjpg"],["video/x-mpeg",["mp3","mp2"]],["video/x-mpeq2a","mp2"],["video/x-ms-asf",["asf","asr","asx"]],["video/x-ms-asf-plugin","asx"],["video/x-ms-wm","wm"],["video/x-ms-wmv","wmv"],["video/x-ms-wmx","wmx"],["video/x-ms-wvx","wvx"],["video/x-msvideo","avi"],["video/x-qtc","qtc"],["video/x-scm","scm"],["video/x-sgi-movie",["movie","mv"]],["windows/metafile","wmf"],["www/mime","mime"],["x-conference/x-cooltalk","ice"],["x-music/x-midi",["mid","midi"]],["x-world/x-3dmf",["3dm","3dmf","qd3","qd3d"]],["x-world/x-svr","svr"],["x-world/x-vrml",["flr","vrml","wrl","wrz","xaf","xof"]],["x-world/x-vrt","vrt"],["xgl/drawing","xgz"],["xgl/movie","xmz"]]);const a=new Map([["123","application/vnd.lotus-1-2-3"],["323","text/h323"],["*","application/octet-stream"],["3dm","x-world/x-3dmf"],["3dmf","x-world/x-3dmf"],["3dml","text/vnd.in3d.3dml"],["3g2","video/3gpp2"],["3gp","video/3gpp"],["7z","application/x-7z-compressed"],["a","application/octet-stream"],["aab","application/x-authorware-bin"],["aac","audio/x-aac"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abc","text/vnd.abc"],["abw","application/x-abiword"],["ac","application/pkix-attr-cert"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acgi","text/html"],["acu","application/vnd.acucobol"],["acx","application/internet-property-stream"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afl","video/animaflex"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/postscript"],["aif",["audio/aiff","audio/x-aiff"]],["aifc",["audio/aiff","audio/x-aiff"]],["aiff",["audio/aiff","audio/x-aiff"]],["aim","application/x-aim"],["aip","text/x-audiosoft-intra"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["ani","application/x-navi-animation"],["aos","application/x-nokia-9000-communicator-add-on-software"],["apk","application/vnd.android.package-archive"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["aps","application/mime"],["arc","application/octet-stream"],["arj",["application/arj","application/octet-stream"]],["art","image/x-jg"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asp","text/asp"],["asr","video/x-ms-asf"],["asx",["video/x-ms-asf","application/x-mplayer2","video/x-ms-asf-plugin"]],["atc","application/vnd.acucorp"],["atomcat","application/atomcat+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au",["audio/basic","audio/x-au"]],["avi",["video/avi","video/msvideo","application/x-troff-msvideo","video/x-msvideo"]],["avs","video/avs-video"],["aw","application/applixware"],["axs","application/olescript"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azw","application/vnd.amazon.ebook"],["bas","text/plain"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin",["application/octet-stream","application/mac-binary","application/macbinary","application/x-macbinary","application/x-binary"]],["bm","image/bmp"],["bmi","application/vnd.bmi"],["bmp",["image/bmp","image/x-windows-bmp"]],["boo","application/book"],["book","application/book"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bsh","application/x-bsh"],["btif","image/prs.btif"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c",["text/plain","text/x-c"]],["c++","text/plain"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["c4g","application/vnd.clonk.c4group"],["cab","application/vnd.ms-cab-compressed"],["car","application/vnd.curl.car"],["cat",["application/vnd.ms-pkiseccat","application/vnd.ms-pki.seccat"]],["cc",["text/plain","text/x-c"]],["ccad","application/clariscad"],["cco","application/x-cocoa"],["ccxml","application/ccxml+xml,"],["cdbcmsg","application/vnd.contact.cmsg"],["cdf",["application/cdf","application/x-cdf","application/x-netcdf"]],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer",["application/pkix-cert","application/x-x509-ca-cert"]],["cgm","image/cgm"],["cha","application/x-chat"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cla","application/vnd.claymore"],["class",["application/octet-stream","application/java","application/java-byte-code","application/java-vm","application/x-java-class"]],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod",["image/cis-cod","application/vnd.rim.cod"]],["com",["application/octet-stream","text/plain"]],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt",["application/mac-compactpro","application/x-compactpro","application/x-cpt"]],["crd","application/x-mscardfile"],["crl",["application/pkix-crl","application/pkcs-crl"]],["crt",["application/pkix-cert","application/x-x509-user-cert","application/x-x509-ca-cert"]],["cryptonote","application/vnd.rig.cryptonote"],["csh",["text/x-script.csh","application/x-csh"]],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["css",["text/css","application/x-pointplus"]],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxx","text/plain"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["davmount","application/davmount+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["deb","application/x-debian-package"],["deepv","application/x-deepv"],["def","text/plain"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dif","video/x-dv"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["djvu","image/vnd.djvu"],["dl",["video/dl","video/x-dl"]],["dll","application/x-msdownload"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.document.macroenabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroenabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp",["application/commonground","application/vnd.osgi.dp"]],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drw","application/drafting"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dv","video/x-dv"],["dvi","application/x-dvi"],["dwf",["model/vnd.dwf","drawing/x-dwf"]],["dwg",["application/acad","image/vnd.dwg","image/x-dwg"]],["dxf",["application/dxf","image/vnd.dwg","image/vnd.dxf","image/x-dwg"]],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["el","text/x-script.elisp"],["elc",["application/x-elc","application/x-bytecode.elisp"]],["eml","message/rfc822"],["emma","application/emma+xml"],["env","application/x-envoy"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es",["application/ecmascript","application/x-esrehber"]],["es3","application/vnd.eszigno3+xml"],["esf","application/vnd.epson.esf"],["etx","text/x-setext"],["evy",["application/envoy","application/x-envoy"]],["exe",["application/octet-stream","application/x-msdownload"]],["exi","application/exi"],["ext","application/vnd.novadigm.ext"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f",["text/plain","text/x-fortran"]],["f4v","video/x-f4v"],["f77","text/x-fortran"],["f90",["text/plain","text/x-fortran"]],["fbs","image/vnd.fastbidsheet"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fh","image/x-freehand"],["fif",["application/fractals","image/fif"]],["fig","application/x-xfig"],["fli",["video/fli","video/x-fli"]],["flo",["image/florian","application/vnd.micrografx.flo"]],["flr","x-world/x-vrml"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fmf","video/x-atomic3d-feature"],["fnc","application/vnd.frogans.fnc"],["for",["text/plain","text/x-fortran"]],["fpx",["image/vnd.fpx","image/vnd.net-fpx"]],["frl","application/freeloader"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["funk","audio/make"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g","text/plain"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gdl","model/vnd.gdl"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["gl",["video/gl","video/x-gl"]],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gph","application/vnd.flographit"],["gqf","application/vnd.grafeq"],["gram","application/srgs"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsd","audio/x-gsm"],["gsf","application/x-font-ghostscript"],["gsm","audio/x-gsm"],["gsp","application/x-gsp"],["gss","application/x-gss"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxt","application/vnd.geonext"],["gz",["application/x-gzip","application/x-compressed"]],["gzip",["multipart/x-gzip","application/x-gzip"]],["h",["text/plain","text/x-h"]],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hdf","application/x-hdf"],["help","application/x-helpfile"],["hgl","application/vnd.hp-hpgl"],["hh",["text/plain","text/x-h"]],["hlb","text/x-script"],["hlp",["application/winhlp","application/hlp","application/x-helpfile","application/x-winhelp"]],["hpg","application/vnd.hp-hpgl"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx",["application/mac-binhex40","application/binhex","application/binhex4","application/mac-binhex","application/x-binhex40","application/x-mac-binhex40"]],["hta","application/hta"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["htmls","text/html"],["htt","text/webviewhtml"],["htx","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["ico","image/x-icon"],["ics","text/calendar"],["idc","text/plain"],["ief","image/ief"],["iefs","image/ief"],["ifm","application/vnd.shana.informed.formdata"],["iges",["application/iges","model/iges"]],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs",["application/iges","model/iges"]],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["iii","application/x-iphone"],["ima","application/x-ima"],["imap","application/x-httpd-imap"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["inf","application/inf"],["ins",["application/x-internet-signup","application/x-internett-signup"]],["ip","application/x-ip2"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["isp","application/x-internet-signup"],["isu","video/x-isvideo"],["it","audio/it"],["itp","application/vnd.shana.informed.formtemplate"],["iv","application/x-inventor"],["ivp","application/vnd.immervision-ivp"],["ivr","i-world/i-vrml"],["ivu","application/vnd.immervision-ivu"],["ivy","application/x-livescreen"],["jad","text/vnd.sun.j2me.app-descriptor"],["jam",["application/vnd.jam","audio/x-jam"]],["jar","application/java-archive"],["jav",["text/plain","text/x-java-source"]],["java",["text/plain","text/x-java-source,java","text/x-java-source"]],["jcm","application/x-java-commerce"],["jfif",["image/pipeg","image/jpeg","image/pjpeg"]],["jfif-tbnl","image/jpeg"],["jisp","application/vnd.jisp"],["jlt","application/vnd.hp-jlyt"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jpe",["image/jpeg","image/pjpeg"]],["jpeg",["image/jpeg","image/pjpeg"]],["jpg",["image/jpeg","image/pjpeg"]],["jpgv","video/jpeg"],["jpm","video/jpm"],["jps","image/x-jps"],["js",["application/javascript","application/ecmascript","text/javascript","text/ecmascript","application/x-javascript"]],["json","application/json"],["jut","image/jutvision"],["kar",["audio/midi","music/x-karaoke"]],["karbon","application/vnd.kde.karbon"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["ksh",["application/x-ksh","text/x-script.ksh"]],["ksp","application/vnd.kde.kspread"],["ktx","image/ktx"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["la",["audio/nspaudio","audio/x-nspaudio"]],["lam","audio/x-liveaudio"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["lha",["application/octet-stream","application/lha","application/x-lha"]],["lhx","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["lma",["audio/nspaudio","audio/x-nspaudio"]],["log","text/plain"],["lrm","application/vnd.ms-lrm"],["lsf","video/x-la-asf"],["lsp",["application/x-lisp","text/x-script.lisp"]],["lst","text/plain"],["lsx",["video/x-la-asf","text/x-la-asf"]],["ltf","application/vnd.frogans.ltf"],["ltx","application/x-latex"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh",["application/octet-stream","application/x-lzh"]],["lzx",["application/lzx","application/octet-stream","application/x-lzx"]],["m",["text/plain","text/x-m"]],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m1v","video/mpeg"],["m21","application/mp21"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3u",["audio/x-mpegurl","audio/x-mpequrl"]],["m3u8","application/vnd.apple.mpegurl"],["m4v","video/x-m4v"],["ma","application/mathematica"],["mads","application/mads+xml"],["mag","application/vnd.ecowin.chart"],["man","application/x-troff-man"],["map","application/x-navimap"],["mar","text/plain"],["mathml","application/mathml+xml"],["mbd","application/mbedlet"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc$","application/x-magic-cap-package-1.0"],["mc1","application/vnd.medcalcdata"],["mcd",["application/mcad","application/vnd.mcd","application/x-mathcad"]],["mcf",["image/vasa","text/mcf"]],["mcp","application/netmc"],["mcurl","text/vnd.curl.mcurl"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["me","application/x-troff-me"],["meta4","application/metalink4+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mht","message/rfc822"],["mhtml","message/rfc822"],["mid",["audio/mid","audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["midi",["audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["mif",["application/vnd.mif","application/x-mif","application/x-frame"]],["mime",["message/rfc822","www/mime"]],["mj2","video/mj2"],["mjf","audio/x-vnd.audioexplosion.mjuicemediafile"],["mjpg","video/x-motion-jpeg"],["mlp","application/vnd.dolby.mlp"],["mm",["application/base64","application/x-meme"]],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mme","application/base64"],["mmf","application/vnd.smaf"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mny","application/x-msmoney"],["mod",["audio/mod","audio/x-mod"]],["mods","application/mods+xml"],["moov","video/quicktime"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2",["video/mpeg","audio/mpeg","video/x-mpeg","audio/x-mpeg","video/x-mpeq2a"]],["mp3",["audio/mpeg","audio/mpeg3","video/mpeg","audio/x-mpeg-3","video/x-mpeg"]],["mp4",["video/mp4","application/mp4"]],["mp4a","audio/mp4"],["mpa",["video/mpeg","audio/mpeg"]],["mpc",["application/vnd.mophun.certificate","application/x-project"]],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg",["video/mpeg","audio/mpeg"]],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/x-project"],["mpv","application/x-project"],["mpv2","video/mpeg"],["mpx","application/x-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","application/x-troff-ms"],["mscml","application/mediaservercontrol+xml"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msl","application/vnd.mobius.msl"],["msty","application/vnd.muvee.style"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musicxml","application/vnd.recordare.musicxml+xml"],["mv","video/x-sgi-movie"],["mvb","application/x-msmediaview"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["my","audio/make"],["mzz","application/x-vnd.audioexplosion.mzz"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nap","image/naplps"],["naplps","image/naplps"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncm","application/vnd.nokia.configuration-message"],["ncx","application/x-dtbncx+xml"],["ngdat","application/vnd.nokia.n-gage.data"],["nif","image/x-niff"],["niff","image/x-niff"],["nix","application/x-mix-transfer"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nvd","application/x-navidoc"],["nws","message/rfc822"],["o","application/octet-stream"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omc","application/x-omc"],["omcd","application/x-omcdatamaker"],["omcr","application/x-omcregerator"],["onetoc","application/onenote"],["opf","application/oebps-package+xml"],["org","application/vnd.lotus-organizer"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","application/x-font-otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p10",["application/pkcs10","application/x-pkcs10"]],["p12",["application/pkcs-12","application/x-pkcs12"]],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7m",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7r","application/x-pkcs7-certreqresp"],["p7s",["application/pkcs7-signature","application/x-pkcs7-signature"]],["p8","application/pkcs8"],["par","text/plain-bas"],["part","application/pro_eng"],["pas","text/pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcf","application/x-font-pcf"],["pcl",["application/vnd.hp-pcl","application/x-pcl"]],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb",["application/vnd.palm","chemical/x-pdb"]],["pdf","application/pdf"],["pfa","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfunk",["audio/make","audio/make.my.funk"]],["pfx","application/x-pkcs12"],["pgm",["image/x-portable-graymap","image/x-portable-greymap"]],["pgn","application/x-chess-pgn"],["pgp","application/pgp-signature"],["pic",["image/pict","image/x-pict"]],["pict","image/pict"],["pkg","application/x-newton-compatible-pkg"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pko",["application/ynd.ms-pkipko","application/vnd.ms-pki.pko"]],["pl",["text/plain","text/x-script.perl"]],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["plx","application/x-pixclscript"],["pm",["text/x-script.perl-module","image/x-xpixmap"]],["pm4","application/x-pagemaker"],["pm5","application/x-pagemaker"],["pma","application/x-perfmon"],["pmc","application/x-perfmon"],["pml",["application/vnd.ctc-posml","application/x-perfmon"]],["pmr","application/x-perfmon"],["pmw","application/x-perfmon"],["png","image/png"],["pnm",["application/x-portable-anymap","image/x-portable-anymap"]],["portpkg","application/vnd.macports.portpkg"],["pot",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["potm","application/vnd.ms-powerpoint.template.macroenabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["pov","model/x-pov"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt",["application/vnd.ms-powerpoint","application/mspowerpoint","application/powerpoint","application/x-mspowerpoint"]],["pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["ppz","application/mspowerpoint"],["prc","application/x-mobipocket-ebook"],["pre",["application/vnd.lotus-freelance","application/x-freelance"]],["prf","application/pics-rules"],["prt","application/pro_eng"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd",["application/octet-stream","image/vnd.adobe.photoshop"]],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pvu","paleovu/x-pv"],["pwn","application/vnd.3m.post-it-notes"],["pwz","application/vnd.ms-powerpoint"],["py","text/x-script.phyton"],["pya","audio/vnd.ms-playready.media.pya"],["pyc","application/x-bytecode.python"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qcp","audio/vnd.qcelp"],["qd3","x-world/x-3dmf"],["qd3d","x-world/x-3dmf"],["qfx","application/vnd.intu.qfx"],["qif","image/x-quicktime"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qtc","video/x-qtc"],["qti","image/x-quicktime"],["qtif","image/x-quicktime"],["qxd","application/vnd.quark.quarkxpress"],["ra",["audio/x-realaudio","audio/x-pn-realaudio","audio/x-pn-realaudio-plugin"]],["ram","audio/x-pn-realaudio"],["rar","application/x-rar-compressed"],["ras",["image/cmu-raster","application/x-cmu-raster","image/x-cmu-raster"]],["rast","image/cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rexx","text/x-script.rexx"],["rf","image/vnd.rn-realflash"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm",["application/vnd.rn-realmedia","audio/x-pn-realaudio"]],["rmi","audio/mid"],["rmm","audio/x-pn-realaudio"],["rmp",["audio/x-pn-realaudio-plugin","audio/x-pn-realaudio"]],["rms","application/vnd.jcp.javame.midlet-rms"],["rnc","application/relax-ng-compact-syntax"],["rng",["application/ringing-tones","application/vnd.nokia.ringing-tone"]],["rnx","application/vnd.rn-realplayer"],["roff","application/x-troff"],["rp","image/vnd.rn-realpix"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsd","application/rsd+xml"],["rt",["text/richtext","text/vnd.rn-realtext"]],["rtf",["application/rtf","text/richtext","application/x-rtf"]],["rtx",["text/richtext","application/rtf"]],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["saveme","application/octet-stream"],["sbk","application/x-tbook"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm",["application/vnd.lotus-screencam","video/x-scm","text/x-script.guile","application/x-lotusscreencam","text/x-script.scheme"]],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["sct","text/scriptlet"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkm","application/vnd.solent.sdkm+xml"],["sdml","text/plain"],["sdp",["application/sdp","application/x-sdp"]],["sdr","application/sounder"],["sdw","application/vnd.stardivision.writer"],["sea",["application/sea","application/x-sea"]],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["ser","application/java-serialized-object"],["set","application/set"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sgl","application/vnd.stardivision.writer-global"],["sgm",["text/sgml","text/x-sgml"]],["sgml",["text/sgml","text/x-sgml"]],["sh",["application/x-shar","application/x-bsh","application/x-sh","text/x-script.sh"]],["shar",["application/x-bsh","application/x-shar"]],["shf","application/shf+xml"],["shtml",["text/html","text/x-server-parsed-html"]],["sid","audio/x-psid"],["sis","application/vnd.symbian.install"],["sit",["application/x-stuffit","application/x-sit"]],["sitx","application/x-stuffitx"],["skd","application/x-koan"],["skm","application/x-koan"],["skp",["application/vnd.koan","application/x-koan"]],["skt","application/x-koan"],["sl","application/x-seelogo"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi",["application/smil","application/smil+xml"]],["smil","application/smil"],["snd",["audio/basic","audio/x-adpcm"]],["snf","application/x-font-snf"],["sol","application/solids"],["spc",["text/x-speech","application/x-pkcs7-certificates"]],["spf","application/vnd.yamaha.smaf-phrase"],["spl",["application/futuresplash","application/x-futuresplash"]],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spr","application/x-sprite"],["sprite","application/x-sprite"],["src","application/x-wais-source"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssi","text/x-server-parsed-html"],["ssm","application/streamingmedia"],["ssml","application/ssml+xml"],["sst",["application/vnd.ms-pkicertstore","application/vnd.ms-pki.certstore"]],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["step","application/step"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl",["application/vnd.ms-pkistl","application/sla","application/vnd.ms-pki.stl","application/x-navistyle"]],["stm","text/html"],["stp","application/step"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["sub","image/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svf",["image/vnd.dwg","image/x-dwg"]],["svg","image/svg+xml"],["svr",["x-world/x-svr","application/x-world"]],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t",["text/troff","application/x-troff"]],["talk","text/x-speech"],["tao","application/vnd.tao.intent-module-archive"],["tar","application/x-tar"],["tbk",["application/toolbook","application/x-tbook"]],["tcap","application/vnd.3gpp2.tcap"],["tcl",["text/x-script.tcl","application/x-tcl"]],["tcsh","text/x-script.tcsh"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text",["application/plain","text/plain"]],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tgz",["application/gnutar","application/x-compressed"]],["thmx","application/vnd.ms-officetheme"],["tif",["image/tiff","image/x-tiff"]],["tiff",["image/tiff","image/x-tiff"]],["tmo","application/vnd.tmobile-livetv"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","application/x-troff"],["tra","application/vnd.trueapp"],["trm","application/x-msterminal"],["tsd","application/timestamped-data"],["tsi","audio/tsp-audio"],["tsp",["application/dsptype","audio/tsplayer"]],["tsv","text/tab-separated-values"],["ttf","application/x-font-ttf"],["ttl","text/turtle"],["turbot","image/florian"],["twd","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["ufd","application/vnd.ufdl"],["uil","text/x-uil"],["uls","text/iuls"],["umj","application/vnd.umajin"],["uni","text/uri-list"],["unis","text/uri-list"],["unityweb","application/vnd.unity"],["unv","application/i-deas"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["ustar",["application/x-ustar","multipart/x-ustar"]],["utz","application/vnd.uiq.theme"],["uu",["application/octet-stream","text/x-uuencode"]],["uue","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vda","application/vda"],["vdo","video/vdo"],["vew","application/groupwise"],["vis","application/vnd.visionary"],["viv",["video/vivo","video/vnd.vivo"]],["vivo",["video/vivo","video/vnd.vivo"]],["vmd","application/vocaltec-media-desc"],["vmf","application/vocaltec-media-file"],["voc",["audio/voc","audio/x-voc"]],["vos","video/vosaic"],["vox","audio/voxware"],["vqe","audio/x-twinvq-plugin"],["vqf","audio/x-twinvq"],["vql","audio/x-twinvq-plugin"],["vrml",["model/vrml","x-world/x-vrml","application/x-vrml"]],["vrt","x-world/x-vrt"],["vsd",["application/vnd.visio","application/x-visio"]],["vsf","application/vnd.vsf"],["vst","application/x-visio"],["vsw","application/x-visio"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w60","application/wordperfect6.0"],["w61","application/wordperfect6.1"],["w6w","application/msword"],["wad","application/x-doom"],["wav",["audio/wav","audio/x-wav"]],["wax","audio/x-ms-wax"],["wb1","application/x-qpro"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/vnd.wap.wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["web","application/vnd.xara"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wiz","application/msword"],["wk1","application/x-123"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf",["windows/metafile","application/x-msmetafile"]],["wml","text/vnd.wap.wml"],["wmlc","application/vnd.wap.wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-ms-wmz"],["woff","application/x-font-woff"],["word","application/msword"],["wp","application/wordperfect"],["wp5",["application/wordperfect","application/wordperfect6.0"]],["wp6","application/wordperfect"],["wpd",["application/wordperfect","application/vnd.wordperfect","application/x-wpwin"]],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wq1","application/x-lotus"],["wqd","application/vnd.wqd"],["wri",["application/mswrite","application/x-wri","application/x-mswrite"]],["wrl",["model/vrml","x-world/x-vrml","application/x-world"]],["wrz",["model/vrml","x-world/x-vrml"]],["wsc","text/scriplet"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wsrc","application/x-wais-source"],["wtb","application/vnd.webturbo"],["wtk","application/x-wintalk"],["wvx","video/x-ms-wvx"],["x-png","image/png"],["x3d","application/vnd.hzn-3d-crossword"],["xaf","x-world/x-vrml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm",["image/xbm","image/x-xbm","image/x-xbitmap"]],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdr","video/x-amt-demorun"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xgz","xgl/drawing"],["xhtml","application/xhtml+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlam","application/vnd.ms-excel.addin.macroenabled.12"],["xlb",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlc",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xld",["application/excel","application/x-excel"]],["xlk",["application/excel","application/x-excel"]],["xll",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlm",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xls",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroenabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xltm","application/vnd.ms-excel.template.macroenabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlv",["application/excel","application/x-excel"]],["xlw",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xm","audio/xm"],["xml",["application/xml","text/xml","application/atom+xml","application/rss+xml"]],["xmz","xgl/movie"],["xo","application/vnd.olpc-sugar"],["xof","x-world/x-vrml"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpix","application/x-vnd.ls-xpix"],["xpm",["image/xpm","image/x-xpixmap"]],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xsr","video/x-amt-showrun"],["xul","application/vnd.mozilla.xul+xml"],["xwd",["image/x-xwd","image/x-xwindowdump"]],["xyz",["chemical/x-xyz","chemical/x-pdb"]],["yang","application/yang"],["yin","application/yin+xml"],["z",["application/x-compressed","application/x-compress"]],["zaz","application/vnd.zzazz.deck+xml"],["zip",["application/zip","multipart/x-zip","application/x-zip-compressed","application/x-compressed"]],["zir","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zoo","application/octet-stream"],["zsh","text/x-script.zsh"]]);e.exports={detectMimeType(e){if(!e){return r}let t=i.parse(e);let n=(t.ext.substr(1)||t.name||"").split("?").shift().trim().toLowerCase();let o=r;if(a.has(n)){o=a.get(n)}if(Array.isArray(o)){return o[0]}return o},detectExtension(e){if(!e){return o}let t=(e||"").toLowerCase().trim().split("/");let n=t.shift().trim();let i=t.join("/").trim();if(s.has(n+"/"+i)){let e=s.get(n+"/"+i);if(Array.isArray(e)){return e[0]}return e}switch(n){case"text":return"txt";default:return"bin"}}}},50671:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.pkce=t.nonce=t.PKCE_CODE_CHALLENGE_METHOD=void 0;t.signCookie=a;t.state=void 0;var i=n(12107);var r=s(n(15912));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&({}).hasOwnProperty.call(e,s)){var a=r?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}async function a(e,t,n,i){const{cookies:o,logger:s}=i;s.debug(`CREATE_${e.toUpperCase()}`,{value:t,maxAge:n});const{name:a}=o[e];const c=new Date;c.setTime(c.getTime()+n*1e3);return{name:a,value:await r.encode({...i.jwt,maxAge:n,token:{value:t},salt:a}),options:{...o[e].options,expires:c}}}const c=60*15;const l=t.PKCE_CODE_CHALLENGE_METHOD="S256";const p=t.pkce={async create(e,t,n){var r,o;if(!((r=e.provider)!==null&&r!==void 0&&(r=r.checks)!==null&&r!==void 0&&r.includes("pkce")))return;const s=i.generators.codeVerifier();const p=i.generators.codeChallenge(s);n.code_challenge=p;n.code_challenge_method=l;const d=(o=e.cookies.pkceCodeVerifier.options.maxAge)!==null&&o!==void 0?o:c;t.push(await a("pkceCodeVerifier",s,d,e))},async use(e,t,n,i){var o;if(!((o=n.provider)!==null&&o!==void 0&&(o=o.checks)!==null&&o!==void 0&&o.includes("pkce")))return;const s=e===null||e===void 0?void 0:e[n.cookies.pkceCodeVerifier.name];if(!s)throw new TypeError("PKCE code_verifier cookie was missing.");const{name:a}=n.cookies.pkceCodeVerifier;const c=await r.decode({...n.jwt,token:s,salt:a});if(!(c!==null&&c!==void 0&&c.value))throw new TypeError("PKCE code_verifier value could not be parsed.");t.push({name:a,value:"",options:{...n.cookies.pkceCodeVerifier.options,maxAge:0}});i.code_verifier=c.value}};const d=60*15;const u=t.state={async create(e,t,n){var r,o;if(!((r=e.provider.checks)!==null&&r!==void 0&&r.includes("state")))return;const s=i.generators.state();n.state=s;const c=(o=e.cookies.state.options.maxAge)!==null&&o!==void 0?o:d;t.push(await a("state",s,c,e))},async use(e,t,n,i){var o;if(!((o=n.provider.checks)!==null&&o!==void 0&&o.includes("state")))return;const s=e===null||e===void 0?void 0:e[n.cookies.state.name];if(!s)throw new TypeError("State cookie was missing.");const{name:a}=n.cookies.state;const c=await r.decode({...n.jwt,token:s,salt:a});if(!(c!==null&&c!==void 0&&c.value))throw new TypeError("State value could not be parsed.");t.push({name:a,value:"",options:{...n.cookies.state.options,maxAge:0}});i.state=c.value}};const h=60*15;const f=t.nonce={async create(e,t,n){var r,o;if(!((r=e.provider.checks)!==null&&r!==void 0&&r.includes("nonce")))return;const s=i.generators.nonce();n.nonce=s;const c=(o=e.cookies.nonce.options.maxAge)!==null&&o!==void 0?o:h;t.push(await a("nonce",s,c,e))},async use(e,t,n,i){var o;if(!((o=n.provider)!==null&&o!==void 0&&(o=o.checks)!==null&&o!==void 0&&o.includes("nonce")))return;const s=e===null||e===void 0?void 0:e[n.cookies.nonce.name];if(!s)throw new TypeError("Nonce cookie was missing.");const{name:a}=n.cookies.nonce;const c=await r.decode({...n.jwt,token:s,salt:a});if(!(c!==null&&c!==void 0&&c.value))throw new TypeError("Nonce value could not be parsed.");t.push({name:a,value:"",options:{...n.cookies.nonce.options,maxAge:0}});i.nonce=c.value}}},51688:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.generateKeyPair=t.generateSecret=void 0;const i=n(55511);const r=n(28354);const o=n(7552);const s=n(78328);const a=n(99938);const c=(0,r.promisify)(i.generateKeyPair);async function l(e,t){let n;switch(e){case"HS256":case"HS384":case"HS512":case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":n=parseInt(e.slice(-3),10);break;case"A128KW":case"A192KW":case"A256KW":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":n=parseInt(e.slice(1,4),10);break;default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return(0,i.createSecretKey)((0,o.default)(new Uint8Array(n>>3)))}t.generateSecret=l;async function p(e,t){var n,i;switch(e){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":case"RSA1_5":{const e=(n=t===null||t===void 0?void 0:t.modulusLength)!==null&&n!==void 0?n:2048;if(typeof e!=="number"||e<2048){throw new a.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used")}const i=await c("rsa",{modulusLength:e,publicExponent:65537});(0,s.setModulusLength)(i.privateKey,e);(0,s.setModulusLength)(i.publicKey,e);return i}case"ES256":return c("ec",{namedCurve:"P-256"});case"ES256K":return c("ec",{namedCurve:"secp256k1"});case"ES384":return c("ec",{namedCurve:"P-384"});case"ES512":return c("ec",{namedCurve:"P-521"});case"EdDSA":{switch(t===null||t===void 0?void 0:t.crv){case undefined:case"Ed25519":return c("ed25519");case"Ed448":return c("ed448");default:throw new a.JOSENotSupported("Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448")}}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":const r=(i=t===null||t===void 0?void 0:t.crv)!==null&&i!==void 0?i:"P-256";switch(r){case undefined:case"P-256":case"P-384":case"P-521":return c("ec",{namedCurve:r});case"X25519":return c("x25519");case"X448":return c("x448");default:throw new a.JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}default:throw new a.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}}t.generateKeyPair=p},51800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(99938);const r=n(90061);const o=(e,t)=>{let n;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":n=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":n=parseInt(e.slice(1,4),10);break;default:throw new i.JOSENotSupported(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){const e=t.byteLength<<3;if(e!==n){throw new i.JWEInvalid(`Invalid Content Encryption Key length. Expected ${n} bits, got ${e} bits`)}return}if((0,r.default)(t)&&t.type==="secret"){const e=t.symmetricKeySize<<3;if(e!==n){throw new i.JWEInvalid(`Invalid Content Encryption Key length. Expected ${n} bits, got ${e} bits`)}return}throw new TypeError("Invalid Content Encryption Key type")};t["default"]=o},52118:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CompactEncrypt=void 0;const i=n(14988);class r{constructor(e){this._flattened=new i.FlattenedEncrypt(e)}setContentEncryptionKey(e){this._flattened.setContentEncryptionKey(e);return this}setInitializationVector(e){this._flattened.setInitializationVector(e);return this}setProtectedHeader(e){this._flattened.setProtectedHeader(e);return this}setKeyManagementParameters(e){this._flattened.setKeyManagementParameters(e);return this}async encrypt(e,t){const n=await this._flattened.encrypt(e,t);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}}t.CompactEncrypt=r},52131:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ecdhAllowed=t.generateEpk=t.deriveKey=void 0;const i=n(55511);const r=n(28354);const o=n(62909);const s=n(2594);const a=n(99938);const c=n(17996);const l=n(50003);const p=n(90061);const d=n(78680);const u=n(37265);const h=(0,r.promisify)(i.generateKeyPair);async function f(e,t,n,r,o=new Uint8Array(0),a=new Uint8Array(0)){let h;if((0,c.isCryptoKey)(e)){(0,l.checkEncCryptoKey)(e,"ECDH");h=i.KeyObject.from(e)}else if((0,p.default)(e)){h=e}else{throw new TypeError((0,d.default)(e,...u.types))}let m;if((0,c.isCryptoKey)(t)){(0,l.checkEncCryptoKey)(t,"ECDH","deriveBits");m=i.KeyObject.from(t)}else if((0,p.default)(t)){m=t}else{throw new TypeError((0,d.default)(t,...u.types))}const g=(0,s.concat)((0,s.lengthAndInput)(s.encoder.encode(n)),(0,s.lengthAndInput)(o),(0,s.lengthAndInput)(a),(0,s.uint32be)(r));const v=(0,i.diffieHellman)({privateKey:m,publicKey:h});return(0,s.concatKdf)(v,r,g)}t.deriveKey=f;async function m(e){let t;if((0,c.isCryptoKey)(e)){t=i.KeyObject.from(e)}else if((0,p.default)(e)){t=e}else{throw new TypeError((0,d.default)(e,...u.types))}switch(t.asymmetricKeyType){case"x25519":return h("x25519");case"x448":{return h("x448")}case"ec":{const e=(0,o.default)(t);return h("ec",{namedCurve:e})}default:throw new a.JOSENotSupported("Invalid or unsupported EPK")}}t.generateEpk=m;const g=e=>["P-256","P-384","P-521","X25519","X448"].includes((0,o.default)(e));t.ecdhAllowed=g},52645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.decodeJwt=void 0;const i=n(67929);const r=n(2594);const o=n(25110);const s=n(99938);function a(e){if(typeof e!=="string")throw new s.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:n}=e.split(".");if(n===5)throw new s.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new s.JWTInvalid("Invalid JWT");if(!t)throw new s.JWTInvalid("JWTs must contain a payload");let a;try{a=(0,i.decode)(t)}catch{throw new s.JWTInvalid("Failed to base64url decode the payload")}let c;try{c=JSON.parse(r.decoder.decode(a))}catch{throw new s.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,o.default)(c))throw new s.JWTInvalid("Invalid JWT Claims Set");return c}t.decodeJwt=a},53687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(79428);const r=n(55511);const o=n(68327);const s=n(99938);const a=n(62909);const c=n(78328);const l=n(4275);const p=n(80028);const d=e=>{if(p.jwkImport&&e.kty!=="oct"){return e.d?(0,r.createPrivateKey)({format:"jwk",key:e}):(0,r.createPublicKey)({format:"jwk",key:e})}switch(e.kty){case"oct":{return(0,r.createSecretKey)((0,o.decode)(e.k))}case"RSA":{const t=new l.default;const n=e.d!==undefined;const o=i.Buffer.from(e.n,"base64");const s=i.Buffer.from(e.e,"base64");if(n){t.zero();t.unsignedInteger(o);t.unsignedInteger(s);t.unsignedInteger(i.Buffer.from(e.d,"base64"));t.unsignedInteger(i.Buffer.from(e.p,"base64"));t.unsignedInteger(i.Buffer.from(e.q,"base64"));t.unsignedInteger(i.Buffer.from(e.dp,"base64"));t.unsignedInteger(i.Buffer.from(e.dq,"base64"));t.unsignedInteger(i.Buffer.from(e.qi,"base64"))}else{t.unsignedInteger(o);t.unsignedInteger(s)}const a=t.end();const p={key:a,format:"der",type:"pkcs1"};const d=n?(0,r.createPrivateKey)(p):(0,r.createPublicKey)(p);(0,c.setModulusLength)(d,o.length<<3);return d}case"EC":{const t=new l.default;const n=e.d!==undefined;const o=i.Buffer.concat([i.Buffer.alloc(1,4),i.Buffer.from(e.x,"base64"),i.Buffer.from(e.y,"base64")]);if(n){t.zero();const n=new l.default;n.oidFor("ecPublicKey");n.oidFor(e.crv);t.add(n.end());const s=new l.default;s.one();s.octStr(i.Buffer.from(e.d,"base64"));const c=new l.default;c.bitStr(o);const p=c.end(i.Buffer.from([161]));s.add(p);const d=s.end();const u=new l.default;u.add(d);const h=u.end(i.Buffer.from([4]));t.add(h);const f=t.end();const m=(0,r.createPrivateKey)({key:f,format:"der",type:"pkcs8"});(0,a.setCurve)(m,e.crv);return m}const s=new l.default;s.oidFor("ecPublicKey");s.oidFor(e.crv);t.add(s.end());t.bitStr(o);const c=t.end();const p=(0,r.createPublicKey)({key:c,format:"der",type:"spki"});(0,a.setCurve)(p,e.crv);return p}case"OKP":{const t=new l.default;const n=e.d!==undefined;if(n){t.zero();const n=new l.default;n.oidFor(e.crv);t.add(n.end());const o=new l.default;o.octStr(i.Buffer.from(e.d,"base64"));const s=o.end(i.Buffer.from([4]));t.add(s);const a=t.end();return(0,r.createPrivateKey)({key:a,format:"der",type:"pkcs8"})}const o=new l.default;o.oidFor(e.crv);t.add(o.end());t.bitStr(i.Buffer.from(e.x,"base64"));const s=t.end();return(0,r.createPublicKey)({key:s,format:"der",type:"spki"})}default:throw new s.JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}};t["default"]=d},53752:(e,t,n)=>{"use strict";const i=n(79551);const r=1800;class o{constructor(e){this.options=e||{};this.cookies=[]}set(e,t){let n=i.parse(t||"");let o=this.parse(e);let s;if(o.domain){s=o.domain.replace(/^\./,"");if(n.hostname.length<s.length||("."+n.hostname).substr(-s.length+1)!=="."+s){o.domain=n.hostname}}else{o.domain=n.hostname}if(!o.path){o.path=this.getPath(n.pathname)}if(!o.expires){o.expires=new Date(Date.now()+(Number(this.options.sessionTimeout||r)||r)*1e3)}return this.add(o)}get(e){return this.list(e).map(e=>e.name+"="+e.value).join("; ")}list(e){let t=[];let n;let i;for(n=this.cookies.length-1;n>=0;n--){i=this.cookies[n];if(this.isExpired(i)){this.cookies.splice(n,n);continue}if(this.match(i,e)){t.unshift(i)}}return t}parse(e){let t={};(e||"").toString().split(";").forEach(e=>{let n=e.split("=");let i=n.shift().trim().toLowerCase();let r=n.join("=").trim();let o;if(!i){return}switch(i){case"expires":r=new Date(r);if(r.toString()!=="Invalid Date"){t.expires=r}break;case"path":t.path=r;break;case"domain":o=r.toLowerCase();if(o.length&&o.charAt(0)!=="."){o="."+o}t.domain=o;break;case"max-age":t.expires=new Date(Date.now()+(Number(r)||0)*1e3);break;case"secure":t.secure=true;break;case"httponly":t.httponly=true;break;default:if(!t.name){t.name=i;t.value=r}}});return t}match(e,t){let n=i.parse(t||"");if(n.hostname!==e.domain&&(e.domain.charAt(0)!=="."||("."+n.hostname).substr(-e.domain.length)!==e.domain)){return false}let r=this.getPath(n.pathname);if(r.substr(0,e.path.length)!==e.path){return false}if(e.secure&&n.protocol!=="https:"){return false}return true}add(e){let t;let n;if(!e||!e.name){return false}for(t=0,n=this.cookies.length;t<n;t++){if(this.compare(this.cookies[t],e)){if(this.isExpired(e)){this.cookies.splice(t,1);return false}this.cookies[t]=e;return true}}if(!this.isExpired(e)){this.cookies.push(e)}return true}compare(e,t){return e.name===t.name&&e.path===t.path&&e.domain===t.domain&&e.secure===t.secure&&e.httponly===e.httponly}isExpired(e){return e.expires&&e.expires<new Date||!e.value}getPath(e){let t=(e||"/").split("/");t.pop();t=t.join("/").trim();if(t.charAt(0)!=="/"){t="/"+t}if(t.substr(-1)!=="/"){t+="/"}return t}}e.exports=o},53873:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=p;var i=n(12107);var r=n(9545);var o=n(8365);var s=l(n(50671));var a=n(20113);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}async function p(e){var t,n;const{options:c,query:l,body:p,method:u,cookies:h}=e;const{logger:f,provider:m}=c;const g=(t=p===null||p===void 0?void 0:p.error)!==null&&t!==void 0?t:l===null||l===void 0?void 0:l.error;if(g){const e=new Error(g);f.error("OAUTH_CALLBACK_HANDLER_ERROR",{error:e,error_description:l===null||l===void 0?void 0:l.error_description,providerId:m.id});f.debug("OAUTH_CALLBACK_HANDLER_ERROR",{body:p});throw e}if((n=m.version)!==null&&n!==void 0&&n.startsWith("1.")){try{const e=await (0,o.oAuth1Client)(c);const{oauth_token:t,oauth_verifier:n}=l!==null&&l!==void 0?l:{};const i=await e.getOAuthAccessToken(t,o.oAuth1TokenStore.get(t),n);let r=await e.get(m.profileUrl,i.oauth_token,i.oauth_token_secret);if(typeof r==="string"){r=JSON.parse(r)}const s=await d({profile:r,tokens:i,provider:m,logger:f});return{...s,cookies:[]}}catch(e){f.error("OAUTH_V1_GET_ACCESS_TOKEN_ERROR",e);throw e}}if(l!==null&&l!==void 0&&l.oauth_token)o.oAuth1TokenStore.delete(l.oauth_token);try{var v,y,_;const e=await (0,r.openidClient)(c);let t;const n={};const o=[];await s.state.use(h,o,c,n);await s.pkce.use(h,o,c,n);await s.nonce.use(h,o,c,n);const a={...e.callbackParams({url:`http://n?${new URLSearchParams(l)}`,body:p,method:u}),...(v=m.token)===null||v===void 0?void 0:v.params};if((y=m.token)!==null&&y!==void 0&&y.request){const r=await m.token.request({provider:m,params:a,checks:n,client:e});t=new i.TokenSet(r.tokens)}else if(m.idToken){t=await e.callback(m.callbackUrl,a,n)}else{t=await e.oauthCallback(m.callbackUrl,a,n)}if(Array.isArray(t.scope)){t.scope=t.scope.join(" ")}let g;if((_=m.userinfo)!==null&&_!==void 0&&_.request){g=await m.userinfo.request({provider:m,tokens:t,client:e})}else if(m.idToken){g=t.claims()}else{var w;g=await e.userinfo(t,{params:(w=m.userinfo)===null||w===void 0?void 0:w.params})}const x=await d({profile:g,provider:m,tokens:t,logger:f});return{...x,cookies:o}}catch(e){throw new a.OAuthCallbackError(e)}}async function d({profile:e,tokens:t,provider:n,logger:i}){try{var r;i.debug("PROFILE_DATA",{OAuthProfile:e});const o=await n.profile(e,t);o.email=(r=o.email)===null||r===void 0?void 0:r.toLowerCase();if(!o.id)throw new TypeError(`Profile id is missing in ${n.name} OAuth profile response`);return{profile:o,account:{provider:n.id,type:n.type,providerAccountId:o.id.toString(),...t},OAuthProfile:e}}catch(t){i.error("OAUTH_PARSE_PROFILE_ERROR",{error:t,OAuthProfile:e})}}},54688:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=n;async function n(e){const{options:t,sessionStore:n}=e;const{adapter:i,events:r,jwt:o,callbackUrl:s,logger:a,session:c}=t;const l=n===null||n===void 0?void 0:n.value;if(!l){return{redirect:s}}if(c.strategy==="jwt"){try{var p;const e=await o.decode({...o,token:l});await ((p=r.signOut)===null||p===void 0?void 0:p.call(r,{token:e}))}catch(e){a.error("SIGNOUT_ERROR",e)}}else{try{var d;const e=await i.deleteSession(l);await ((d=r.signOut)===null||d===void 0?void 0:d.call(r,{session:e}))}catch(e){a.error("SIGNOUT_ERROR",e)}}const u=n.clean();return{redirect:s,cookies:u}}},55132:e=>{e.exports.keystores=new WeakMap},55437:e=>{function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},55920:(e,t,n)=>{"use strict";var i=n(9168);Object.defineProperty(t,"__esModule",{value:true});t.init=v;var r=n(55511);var o=i(n(28510));var s=n(20113);var a=i(n(64470));var c=n(29837);var l=g(n(99632));var p=g(n(15912));var d=n(68588);var u=n(89412);var h=n(61665);var f=i(n(16851));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}async function v({authOptions:e,providerId:t,action:n,origin:i,cookies:m,callbackUrl:g,csrfToken:v,isPost:y}){var _,w;const x=(0,f.default)(i);const b=(0,c.createSecret)({authOptions:e,url:x});const{providers:k,provider:E}=(0,a.default)({providers:e.providers,url:x,providerId:t});const S=30*24*60*60;const A={debug:false,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:x,action:n,provider:E,cookies:{...l.defaultCookies((_=e.useSecureCookies)!==null&&_!==void 0?_:x.base.startsWith("https://")),...e.cookies},secret:b,providers:k,session:{strategy:e.adapter?"database":"jwt",maxAge:S,updateAge:24*60*60,generateSessionToken:()=>{var e;return(e=r.randomUUID===null||r.randomUUID===void 0?void 0:(0,r.randomUUID)())!==null&&e!==void 0?e:(0,r.randomBytes)(32).toString("hex")},...e.session},jwt:{secret:b,maxAge:S,encode:p.encode,decode:p.decode,...e.jwt},events:(0,s.eventsErrorHandler)((w=e.events)!==null&&w!==void 0?w:{},o.default),adapter:(0,s.adapterErrorHandler)(e.adapter,o.default),callbacks:{...d.defaultCallbacks,...e.callbacks},logger:o.default,callbackUrl:x.origin};const T=[];const{csrfToken:O,cookie:C,csrfTokenVerified:P}=(0,u.createCSRFToken)({options:A,cookieValue:m===null||m===void 0?void 0:m[A.cookies.csrfToken.name],isPost:y,bodyValue:v});A.csrfToken=O;A.csrfTokenVerified=P;if(C){T.push({name:A.cookies.csrfToken.name,value:C,options:A.cookies.csrfToken.options})}const{callbackUrl:j,callbackUrlCookie:I}=await (0,h.createCallbackUrl)({options:A,cookieValue:m===null||m===void 0?void 0:m[A.cookies.callbackUrl.name],paramValue:g});A.callbackUrl=j;if(I){T.push({name:A.cookies.callbackUrl.name,value:I,options:A.cookies.callbackUrl.options})}return{options:A,cookies:T}}},56913:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.decrypt=t.encrypt=void 0;const i=n(55511);const r=n(78328);const o=n(17996);const s=n(50003);const a=n(90061);const c=n(78680);const l=n(37265);const p=(e,t)=>{if(e.asymmetricKeyType!=="rsa"){throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa")}(0,r.default)(e,t)};const d=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return i.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return i.constants.RSA_PKCS1_PADDING;default:return undefined}};const u=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return undefined}};function h(e,t,...n){if((0,a.default)(e)){return e}if((0,o.isCryptoKey)(e)){(0,s.checkEncCryptoKey)(e,t,...n);return i.KeyObject.from(e)}throw new TypeError((0,c.default)(e,...l.types))}const f=(e,t,n)=>{const r=d(e);const o=u(e);const s=h(t,e,"wrapKey","encrypt");p(s,e);return(0,i.publicEncrypt)({key:s,oaepHash:o,padding:r},n)};t.encrypt=f;const m=(e,t,n)=>{const r=d(e);const o=u(e);const s=h(t,e,"unwrapKey","decrypt");p(s,e);return(0,i.privateDecrypt)({key:s,oaepHash:o,padding:r},n)};t.decrypt=m},57502:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=true,e.exports["default"]=e.exports,t(n)}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports},58417:e=>{"use strict";e.exports=JSON.parse('{"126":{"host":"smtp.126.com","port":465,"secure":true},"163":{"host":"smtp.163.com","port":465,"secure":true},"1und1":{"host":"smtp.1und1.de","port":465,"secure":true,"authMethod":"LOGIN"},"Aliyun":{"domains":["aliyun.com"],"host":"smtp.aliyun.com","port":465,"secure":true},"AOL":{"domains":["aol.com"],"host":"smtp.aol.com","port":587},"Bluewin":{"host":"smtpauths.bluewin.ch","domains":["bluewin.ch"],"port":465},"DebugMail":{"host":"debugmail.io","port":25},"DynectEmail":{"aliases":["Dynect"],"host":"smtp.dynect.net","port":25},"Ethereal":{"aliases":["ethereal.email"],"host":"smtp.ethereal.email","port":587},"FastMail":{"domains":["fastmail.fm"],"host":"smtp.fastmail.com","port":465,"secure":true},"Forward Email":{"aliases":["FE","ForwardEmail"],"domains":["forwardemail.net"],"host":"smtp.forwardemail.net","port":465,"secure":true},"Feishu Mail":{"aliases":["Feishu","FeishuMail"],"domains":["www.feishu.cn"],"host":"smtp.feishu.cn","port":465,"secure":true},"GandiMail":{"aliases":["Gandi","Gandi Mail"],"host":"mail.gandi.net","port":587},"Gmail":{"aliases":["Google Mail"],"domains":["gmail.com","googlemail.com"],"host":"smtp.gmail.com","port":465,"secure":true},"Godaddy":{"host":"smtpout.secureserver.net","port":25},"GodaddyAsia":{"host":"smtp.asia.secureserver.net","port":25},"GodaddyEurope":{"host":"smtp.europe.secureserver.net","port":25},"hot.ee":{"host":"mail.hot.ee"},"Hotmail":{"aliases":["Outlook","Outlook.com","Hotmail.com"],"domains":["hotmail.com","outlook.com"],"host":"smtp-mail.outlook.com","port":587},"iCloud":{"aliases":["Me","Mac"],"domains":["me.com","mac.com"],"host":"smtp.mail.me.com","port":587},"Infomaniak":{"host":"mail.infomaniak.com","domains":["ik.me","ikmail.com","etik.com"],"port":587},"Loopia":{"host":"mailcluster.loopia.se","port":465},"mail.ee":{"host":"smtp.mail.ee"},"Mail.ru":{"host":"smtp.mail.ru","port":465,"secure":true},"Mailcatch.app":{"host":"sandbox-smtp.mailcatch.app","port":2525},"Maildev":{"port":1025,"ignoreTLS":true},"Mailgun":{"host":"smtp.mailgun.org","port":465,"secure":true},"Mailjet":{"host":"in.mailjet.com","port":587},"Mailosaur":{"host":"mailosaur.io","port":25},"Mailtrap":{"host":"live.smtp.mailtrap.io","port":587},"Mandrill":{"host":"smtp.mandrillapp.com","port":587},"Naver":{"host":"smtp.naver.com","port":587},"One":{"host":"send.one.com","port":465,"secure":true},"OpenMailBox":{"aliases":["OMB","openmailbox.org"],"host":"smtp.openmailbox.org","port":465,"secure":true},"Outlook365":{"host":"smtp.office365.com","port":587,"secure":false},"OhMySMTP":{"host":"smtp.ohmysmtp.com","port":587,"secure":false},"Postmark":{"aliases":["PostmarkApp"],"host":"smtp.postmarkapp.com","port":2525},"Proton":{"aliases":["ProtonMail","Proton.me","Protonmail.com","Protonmail.ch"],"domains":["proton.me","protonmail.com","pm.me","protonmail.ch"],"host":"smtp.protonmail.ch","port":587,"requireTLS":true},"qiye.aliyun":{"host":"smtp.mxhichina.com","port":"465","secure":true},"QQ":{"domains":["qq.com"],"host":"smtp.qq.com","port":465,"secure":true},"QQex":{"aliases":["QQ Enterprise"],"domains":["exmail.qq.com"],"host":"smtp.exmail.qq.com","port":465,"secure":true},"SendCloud":{"host":"smtp.sendcloud.net","port":2525},"SendGrid":{"host":"smtp.sendgrid.net","port":587},"SendinBlue":{"aliases":["Brevo"],"host":"smtp-relay.brevo.com","port":587},"SendPulse":{"host":"smtp-pulse.com","port":465,"secure":true},"SES":{"host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-US-EAST-1":{"host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-US-WEST-2":{"host":"email-smtp.us-west-2.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-1":{"host":"email-smtp.eu-west-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTH-1":{"host":"email-smtp.ap-south-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-1":{"host":"email-smtp.ap-northeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-2":{"host":"email-smtp.ap-northeast-2.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-3":{"host":"email-smtp.ap-northeast-3.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-1":{"host":"email-smtp.ap-southeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-2":{"host":"email-smtp.ap-southeast-2.amazonaws.com","port":465,"secure":true},"Seznam":{"aliases":["Seznam Email"],"domains":["seznam.cz","email.cz","post.cz","spoluzaci.cz"],"host":"smtp.seznam.cz","port":465,"secure":true},"Sparkpost":{"aliases":["SparkPost","SparkPost Mail"],"domains":["sparkpost.com"],"host":"smtp.sparkpostmail.com","port":587,"secure":false},"Tipimail":{"host":"smtp.tipimail.com","port":587},"Yahoo":{"domains":["yahoo.com"],"host":"smtp.mail.yahoo.com","port":465,"secure":true},"Yandex":{"domains":["yandex.ru"],"host":"smtp.yandex.ru","port":465,"secure":true},"Zoho":{"host":"smtp.zoho.com","port":465,"secure":true,"authMethod":"LOGIN"}}')},58513:(e,t,n)=>{const i=n(79551);const{format:r}=n(28354);const o=n(93929);const{RPError:s,OPError:a}=n(61408);const{BaseClient:c}=n(83872);const{random:l,codeChallenge:p}=n(35571);const d=n(24740);const{resolveResponseType:u,resolveRedirectUri:h}=n(49450);function f(e,t,n={}){if(e){this.error(e)}else if(!t){this.fail(n)}else{this.success(t,n)}}function m({client:e,params:t={},passReqToCallback:n=false,sessionKey:r,usePKCE:s=true,extras:a={}}={},l){if(!(e instanceof c)){throw new TypeError("client must be an instance of openid-client Client")}if(typeof l!=="function"){throw new TypeError("verify callback must be a function")}if(!e.issuer||!e.issuer.issuer){throw new TypeError("client must have an issuer with an identifier")}this._client=e;this._issuer=e.issuer;this._verify=l;this._passReqToCallback=n;this._usePKCE=s;this._key=r||`oidc:${i.parse(this._issuer.issuer).hostname}`;this._params=o(t);delete this._params.state;delete this._params.nonce;this._extras=o(a);if(!this._params.response_type)this._params.response_type=u.call(e);if(!this._params.redirect_uri)this._params.redirect_uri=h.call(e);if(!this._params.scope)this._params.scope="openid";if(this._usePKCE===true){const e=Array.isArray(this._issuer.code_challenge_methods_supported)?this._issuer.code_challenge_methods_supported:false;if(e&&e.includes("S256")){this._usePKCE="S256"}else if(e&&e.includes("plain")){this._usePKCE="plain"}else if(e){throw new TypeError("neither code_challenge_method supported by the client is supported by the issuer")}else{this._usePKCE="S256"}}else if(typeof this._usePKCE==="string"&&!["plain","S256"].includes(this._usePKCE)){throw new TypeError(`${this._usePKCE} is not valid/implemented PKCE code_challenge_method`)}this.name=i.parse(e.issuer.issuer).hostname}m.prototype.authenticate=function e(e,t){(async()=>{const n=this._client;if(!e.session){throw new TypeError("authentication requires session support")}const i=n.callbackParams(e);const o=this._key;const{0:a,length:c}=Object.keys(i);if(c===0||c===1&&a==="iss"){const i={state:l(),...this._params,...t};if(!i.nonce&&i.response_type.includes("id_token")){i.nonce=l()}e.session[o]=d(i,"nonce","state","max_age","response_type");if(this._usePKCE&&i.response_type.includes("code")){const t=l();e.session[o].code_verifier=t;switch(this._usePKCE){case"S256":i.code_challenge=p(t);i.code_challenge_method="S256";break;case"plain":i.code_challenge=t;break}}this.redirect(n.authorizationUrl(i));return}const u=e.session[o];if(Object.keys(u||{}).length===0){throw new Error(r('did not find expected authorization request details in session, req.session["%s"] is %j',o,u))}const{state:h,nonce:m,max_age:g,code_verifier:v,response_type:y}=u;try{delete e.session[o]}catch(e){}const _={redirect_uri:this._params.redirect_uri,...t};const w={state:h,nonce:m,max_age:g,code_verifier:v,response_type:y};const x=await n.callback(_.redirect_uri,i,w,this._extras);const b=this._passReqToCallback;const k=this._verify.length>(b?3:2)&&n.issuer.userinfo_endpoint;const E=[x,f.bind(this)];if(k){if(!x.access_token){throw new s({message:"expected access_token to be returned when asking for userinfo in verify callback",tokenset:x})}const e=await n.userinfo(x);E.splice(1,0,e)}if(b){E.unshift(e)}this._verify(...E)})().catch(e=>{if(e instanceof a&&e.error!=="server_error"&&!e.error.startsWith("invalid")||e instanceof s){this.fail(e)}else{this.error(e)}})};e.exports=m},58985:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=o;var i=n(55511);var r=n(29837);async function o(e,t){var n,o,s,a;const{url:c,adapter:l,provider:p,callbackUrl:d,theme:u}=t;const h=(n=await ((o=p.generateVerificationToken)===null||o===void 0?void 0:o.call(p)))!==null&&n!==void 0?n:(0,i.randomBytes)(32).toString("hex");const f=86400;const m=new Date(Date.now()+((s=p.maxAge)!==null&&s!==void 0?s:f)*1e3);const g=new URLSearchParams({callbackUrl:d,token:h,email:e});const v=`${c}/callback/${p.id}?${g}`;await Promise.all([p.sendVerificationRequest({identifier:e,token:h,expires:m,url:v,provider:p,theme:u}),(a=l.createVerificationToken)===null||a===void 0?void 0:a.call(l,{identifier:e,token:(0,r.hashToken)(h,t),expires:m})]);return`${c}/verify-request?${new URLSearchParams({provider:p.id,type:p.type})}`}},59310:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.FlattenedSign=void 0;const i=n(68327);const r=n(92562);const o=n(65597);const s=n(99938);const a=n(2594);const c=n(80335);const l=n(8535);class p{constructor(e){if(!(e instanceof Uint8Array)){throw new TypeError("payload must be an instance of Uint8Array")}this._payload=e}setProtectedHeader(e){if(this._protectedHeader){throw new TypeError("setProtectedHeader can only be called once")}this._protectedHeader=e;return this}setUnprotectedHeader(e){if(this._unprotectedHeader){throw new TypeError("setUnprotectedHeader can only be called once")}this._unprotectedHeader=e;return this}async sign(e,t){if(!this._protectedHeader&&!this._unprotectedHeader){throw new s.JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()")}if(!(0,o.default)(this._protectedHeader,this._unprotectedHeader)){throw new s.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint")}const n={...this._protectedHeader,...this._unprotectedHeader};const p=(0,l.default)(s.JWSInvalid,new Map([["b64",true]]),t===null||t===void 0?void 0:t.crit,this._protectedHeader,n);let d=true;if(p.has("b64")){d=this._protectedHeader.b64;if(typeof d!=="boolean"){throw new s.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean')}}const{alg:u}=n;if(typeof u!=="string"||!u){throw new s.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid')}(0,c.default)(u,e,"sign");let h=this._payload;if(d){h=a.encoder.encode((0,i.encode)(h))}let f;if(this._protectedHeader){f=a.encoder.encode((0,i.encode)(JSON.stringify(this._protectedHeader)))}else{f=a.encoder.encode("")}const m=(0,a.concat)(f,a.encoder.encode("."),h);const g=await (0,r.default)(u,e,m);const v={signature:(0,i.encode)(g),payload:""};if(d){v.payload=a.decoder.decode(h)}if(this._unprotectedHeader){v.header=this._unprotectedHeader}if(this._protectedHeader){v.protected=a.decoder.decode(f)}return v}}t.FlattenedSign=p},59487:(e,t,n)=>{"use strict";var i=n(9168);Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"callback",{enumerable:true,get:function(){return r.default}});Object.defineProperty(t,"providers",{enumerable:true,get:function(){return c.default}});Object.defineProperty(t,"session",{enumerable:true,get:function(){return a.default}});Object.defineProperty(t,"signin",{enumerable:true,get:function(){return o.default}});Object.defineProperty(t,"signout",{enumerable:true,get:function(){return s.default}});var r=i(n(99296));var o=i(n(22429));var s=i(n(54688));var a=i(n(71871));var c=i(n(49701))},59496:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=o;var i=n(20113);var r=n(29837);async function o(e){const{sessionToken:t,profile:n,account:o,options:s}=e;if(!(o!==null&&o!==void 0&&o.providerAccountId)||!o.type)throw new Error("Missing or invalid provider account");if(!["email","oauth"].includes(o.type))throw new Error("Provider not supported");const{adapter:a,jwt:c,events:l,session:{strategy:p,generateSessionToken:d}}=s;if(!a){return{user:n,account:o}}const u=n;const{createUser:h,updateUser:f,getUser:m,getUserByAccount:g,getUserByEmail:v,linkAccount:y,createSession:_,getSessionAndUser:w,deleteSession:x}=a;let b=null;let k=null;let E=false;const S=p==="jwt";if(t){if(S){try{b=await c.decode({...c,token:t});if(b&&"sub"in b&&b.sub){k=await m(b.sub)}}catch(e){}}else{const e=await w(t);if(e){b=e.session;k=e.user}}}if(o.type==="email"){const e=await v(u.email);if(e){var A,T;if(((A=k)===null||A===void 0?void 0:A.id)!==e.id&&!S&&t){await x(t)}k=await f({id:e.id,emailVerified:new Date});await ((T=l.updateUser)===null||T===void 0?void 0:T.call(l,{user:k}))}else{var O;const{id:e,...t}={...u,emailVerified:new Date};k=await h(t);await ((O=l.createUser)===null||O===void 0?void 0:O.call(l,{user:k}));E=true}b=S?{}:await _({sessionToken:await d(),userId:k.id,expires:(0,r.fromDate)(s.session.maxAge)});return{session:b,user:k,isNewUser:E}}else if(o.type==="oauth"){const e=await g({providerAccountId:o.providerAccountId,provider:o.provider});if(e){if(k){if(e.id===k.id){return{session:b,user:k,isNewUser:E}}throw new i.AccountNotLinkedError("The account is already associated with another user")}b=S?{}:await _({sessionToken:await d(),userId:e.id,expires:(0,r.fromDate)(s.session.maxAge)});return{session:b,user:e,isNewUser:E}}else{var C,P;if(k){var j;await y({...o,userId:k.id});await ((j=l.linkAccount)===null||j===void 0?void 0:j.call(l,{user:k,account:o,profile:u}));return{session:b,user:k,isNewUser:E}}const e=u.email?await v(u.email):null;if(e){const t=s.provider;if(t!==null&&t!==void 0&&t.allowDangerousEmailAccountLinking){k=e}else{throw new i.AccountNotLinkedError("Another account already exists with the same e-mail address")}}else{const{id:e,...t}={...u,emailVerified:null};k=await h(t)}await ((C=l.createUser)===null||C===void 0?void 0:C.call(l,{user:k}));await y({...o,userId:k.id});await ((P=l.linkAccount)===null||P===void 0?void 0:P.call(l,{user:k,account:o,profile:u}));b=S?{}:await _({sessionToken:await d(),userId:k.id,expires:(0,r.fromDate)(s.session.maxAge)});return{session:b,user:k,isNewUser:true}}}throw new Error("Unsupported account type")}},60105:e=>{function t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports},61408:(e,t,n)=>{const{format:i}=n(28354);class r extends Error{constructor({error_description:e,error:t,error_uri:n,session_state:i,state:r,scope:o},s){super(!e?t:`${t} (${e})`);Object.assign(this,{error:t},e&&{error_description:e},n&&{error_uri:n},r&&{state:r},o&&{scope:o},i&&{session_state:i});if(s){Object.defineProperty(this,"response",{value:s})}this.name=this.constructor.name;Error.captureStackTrace(this,this.constructor)}}class o extends Error{constructor(...e){if(typeof e[0]==="string"){super(i(...e))}else{const{message:t,printf:n,response:r,...o}=e[0];if(n){super(i(...n))}else{super(t)}Object.assign(this,o);if(r){Object.defineProperty(this,"response",{value:r})}}this.name=this.constructor.name;Error.captureStackTrace(this,this.constructor)}}e.exports={OPError:r,RPError:o}},61665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createCallbackUrl=n;async function n({options:e,paramValue:t,cookieValue:n}){const{url:i,callbacks:r}=e;let o=i.origin;if(t){o=await r.redirect({url:t,baseUrl:i.origin})}else if(n){o=await r.redirect({url:n,baseUrl:i.origin})}return{callbackUrl:o,callbackUrlCookie:o!==n?o:undefined}}},61689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.bitLength=void 0;const i=n(99938);const r=n(7552);function o(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new i.JOSENotSupported(`Unsupported JWE Algorithm: ${e}`)}}t.bitLength=o;t["default"]=e=>(0,r.default)(new Uint8Array(o(e)>>3))},62197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.decrypt=t.encrypt=void 0;const i=n(28354);const r=n(55511);const o=n(7552);const s=n(2594);const a=n(68327);const c=n(88062);const l=n(92296);const p=n(17996);const d=n(50003);const u=n(90061);const h=n(78680);const f=n(37265);const m=(0,i.promisify)(r.pbkdf2);function g(e,t){if((0,u.default)(e)){return e.export()}if(e instanceof Uint8Array){return e}if((0,p.isCryptoKey)(e)){(0,d.checkEncCryptoKey)(e,t,"deriveBits","deriveKey");return r.KeyObject.from(e).export()}throw new TypeError((0,h.default)(e,...f.types,"Uint8Array"))}const v=async(e,t,n,i=2048,r=(0,o.default)(new Uint8Array(16)))=>{(0,l.default)(r);const p=(0,s.p2s)(e,r);const d=parseInt(e.slice(13,16),10)>>3;const u=g(t,e);const h=await m(u,p,i,d,`sha${e.slice(8,11)}`);const f=await (0,c.wrap)(e.slice(-6),h,n);return{encryptedKey:f,p2c:i,p2s:(0,a.encode)(r)}};t.encrypt=v;const y=async(e,t,n,i,r)=>{(0,l.default)(r);const o=(0,s.p2s)(e,r);const a=parseInt(e.slice(13,16),10)>>3;const p=g(t,e);const d=await m(p,o,i,a,`sha${e.slice(8,11)}`);return(0,c.unwrap)(e.slice(-6),d,n)};t.decrypt=y},62909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setCurve=t.weakMap=void 0;const i=n(79428);const r=n(55511);const o=n(99938);const s=n(17996);const a=n(90061);const c=n(78680);const l=n(37265);const p=i.Buffer.from([42,134,72,206,61,3,1,7]);const d=i.Buffer.from([43,129,4,0,34]);const u=i.Buffer.from([43,129,4,0,35]);const h=i.Buffer.from([43,129,4,0,10]);t.weakMap=new WeakMap;const f=e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new o.JOSENotSupported("Unsupported key curve for this operation")}};const m=(e,n)=>{var i;let g;if((0,s.isCryptoKey)(e)){g=r.KeyObject.from(e)}else if((0,a.default)(e)){g=e}else{throw new TypeError((0,c.default)(e,...l.types))}if(g.type==="secret"){throw new TypeError('only "private" or "public" type keys can be used for this operation')}switch(g.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${g.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${g.asymmetricKeyType.slice(1)}`;case"ec":{if(t.weakMap.has(g)){return t.weakMap.get(g)}let e=(i=g.asymmetricKeyDetails)===null||i===void 0?void 0:i.namedCurve;if(!e&&g.type==="private"){e=m((0,r.createPublicKey)(g),true)}else if(!e){const t=g.export({format:"der",type:"spki"});const n=t[1]<128?14:15;const i=t[n];const r=t.slice(n+1,n+1+i);if(r.equals(p)){e="prime256v1"}else if(r.equals(d)){e="secp384r1"}else if(r.equals(u)){e="secp521r1"}else if(r.equals(h)){e="secp256k1"}else{throw new o.JOSENotSupported("Unsupported key curve for this operation")}}if(n)return e;const s=f(e);t.weakMap.set(g,s);return s}default:throw new TypeError("Invalid asymmetric key type for this operation")}};function g(e,n){t.weakMap.set(e,n)}t.setCurve=g;t["default"]=m},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63356:(e,t,n)=>{"use strict";const i=n(27910).Transform;function r(e){if(typeof e==="string"){e=Buffer.from(e,"utf-8")}let t=[[9],[10],[13],[32,60],[62,126]];let n="";let i;for(let r=0,o=e.length;r<o;r++){i=e[r];if(s(i,t)&&!((i===32||i===9)&&(r===o-1||e[r+1]===10||e[r+1]===13))){n+=String.fromCharCode(i);continue}n+="="+(i<16?"0":"")+i.toString(16).toUpperCase()}return n}function o(e,t){e=(e||"").toString();t=t||76;if(e.length<=t){return e}let n=0;let i=e.length;let r,o,s;let a=Math.floor(t/3);let c="";while(n<i){s=e.substr(n,t);if(r=s.match(/\r\n/)){s=s.substr(0,r.index+r[0].length);c+=s;n+=s.length;continue}if(s.substr(-1)==="\n"){c+=s;n+=s.length;continue}else if(r=s.substr(-a).match(/\n.*?$/)){s=s.substr(0,s.length-(r[0].length-1));c+=s;n+=s.length;continue}else if(s.length>t-a&&(r=s.substr(-a).match(/[ \t.,!?][^ \t.,!?]*$/))){s=s.substr(0,s.length-(r[0].length-1))}else if(s.match(/[=][\da-f]{0,2}$/i)){if(r=s.match(/[=][\da-f]{0,1}$/i)){s=s.substr(0,s.length-r[0].length)}while(s.length>3&&s.length<i-n&&!s.match(/^(?:=[\da-f]{2}){1,4}$/i)&&(r=s.match(/[=][\da-f]{2}$/gi))){o=parseInt(r[0].substr(1,2),16);if(o<128){break}s=s.substr(0,s.length-3);if(o>=192){break}}}if(n+s.length<i&&s.substr(-1)!=="\n"){if(s.length===t&&s.match(/[=][\da-f]{2}$/i)){s=s.substr(0,s.length-3)}else if(s.length===t){s=s.substr(0,s.length-1)}n+=s.length;s+="=\r\n"}else{n+=s.length}c+=s}return c}function s(e,t){for(let n=t.length-1;n>=0;n--){if(!t[n].length){continue}if(t[n].length===1&&e===t[n][0]){return true}if(t[n].length===2&&e>=t[n][0]&&e<=t[n][1]){return true}}return false}class a extends i{constructor(e){super();this.options=e||{};if(this.options.lineLength!==false){this.options.lineLength=this.options.lineLength||76}this._curLine="";this.inputBytes=0;this.outputBytes=0}_transform(e,t,n){let i;if(t!=="buffer"){e=Buffer.from(e,t)}if(!e||!e.length){return n()}this.inputBytes+=e.length;if(this.options.lineLength){i=this._curLine+r(e);i=o(i,this.options.lineLength);i=i.replace(/(^|\n)([^\n]*)$/,(e,t,n)=>{this._curLine=n;return t});if(i){this.outputBytes+=i.length;this.push(i)}}else{i=r(e);this.outputBytes+=i.length;this.push(i,"ascii")}n()}_flush(e){if(this._curLine){this.outputBytes+=this._curLine.length;this.push(this._curLine,"ascii")}e()}}e.exports={encode:r,wrap:o,Encoder:a}},63667:e=>{"use strict";e.exports=JSON.parse('{"name":"openid-client","version":"5.7.1","description":"OpenID Connect Relying Party (RP, Client) implementation for Node.js runtime, supports passportjs","keywords":["auth","authentication","basic","certified","client","connect","dynamic","electron","hybrid","identity","implicit","oauth","oauth2","oidc","openid","passport","relying party","strategy"],"homepage":"https://github.com/panva/openid-client","repository":"panva/openid-client","funding":{"url":"https://github.com/sponsors/panva"},"license":"MIT","author":"Filip Skokan <panva.ip@gmail.com>","exports":{"types":"./types/index.d.ts","import":"./lib/index.mjs","require":"./lib/index.js"},"main":"./lib/index.js","types":"./types/index.d.ts","files":["lib","types/index.d.ts"],"scripts":{"format":"npx prettier --loglevel silent --write ./lib ./test ./certification ./types","test":"mocha test/**/*.test.js"},"dependencies":{"jose":"^4.15.9","lru-cache":"^6.0.0","object-hash":"^2.2.0","oidc-token-hash":"^5.0.3"},"devDependencies":{"@types/node":"^16.18.106","@types/passport":"^1.0.16","base64url":"^3.0.1","chai":"^4.5.0","mocha":"^10.7.3","nock":"^13.5.5","prettier":"^2.8.8","readable-mock-req":"^0.2.2","sinon":"^9.2.4","timekeeper":"^2.3.1"},"standard-version":{"scripts":{"postchangelog":"sed -i \'\' -e \'s/### \\\\[/## [/g\' CHANGELOG.md"},"types":[{"type":"feat","section":"Features"},{"type":"fix","section":"Fixes"},{"type":"chore","hidden":true},{"type":"docs","hidden":true},{"type":"style","hidden":true},{"type":"refactor","section":"Refactor","hidden":false},{"type":"perf","section":"Performance","hidden":false},{"type":"test","hidden":true}]}}')},63898:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(99938);function r(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return undefined;default:throw new i.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}t["default"]=r},64127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GeneralEncrypt=void 0;const i=n(14988);const r=n(99938);const o=n(61689);const s=n(65597);const a=n(22599);const c=n(68327);const l=n(8535);class p{constructor(e,t,n){this.parent=e;this.key=t;this.options=n}setUnprotectedHeader(e){if(this.unprotectedHeader){throw new TypeError("setUnprotectedHeader can only be called once")}this.unprotectedHeader=e;return this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}class d{constructor(e){this._recipients=[];this._plaintext=e}addRecipient(e,t){const n=new p(this,e,{crit:t===null||t===void 0?void 0:t.crit});this._recipients.push(n);return n}setProtectedHeader(e){if(this._protectedHeader){throw new TypeError("setProtectedHeader can only be called once")}this._protectedHeader=e;return this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader){throw new TypeError("setSharedUnprotectedHeader can only be called once")}this._unprotectedHeader=e;return this}setAdditionalAuthenticatedData(e){this._aad=e;return this}async encrypt(e){var t,n,p;if(!this._recipients.length){throw new r.JWEInvalid("at least one recipient must be added")}e={deflateRaw:e===null||e===void 0?void 0:e.deflateRaw};if(this._recipients.length===1){const[t]=this._recipients;const n=await new i.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(t.unprotectedHeader).encrypt(t.key,{...t.options,...e});let r={ciphertext:n.ciphertext,iv:n.iv,recipients:[{}],tag:n.tag};if(n.aad)r.aad=n.aad;if(n.protected)r.protected=n.protected;if(n.unprotected)r.unprotected=n.unprotected;if(n.encrypted_key)r.recipients[0].encrypted_key=n.encrypted_key;if(n.header)r.recipients[0].header=n.header;return r}let d;for(let e=0;e<this._recipients.length;e++){const t=this._recipients[e];if(!(0,s.default)(this._protectedHeader,this._unprotectedHeader,t.unprotectedHeader)){throw new r.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint")}const n={...this._protectedHeader,...this._unprotectedHeader,...t.unprotectedHeader};const{alg:i}=n;if(typeof i!=="string"||!i){throw new r.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid')}if(i==="dir"||i==="ECDH-ES"){throw new r.JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient')}if(typeof n.enc!=="string"||!n.enc){throw new r.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid')}if(!d){d=n.enc}else if(d!==n.enc){throw new r.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}(0,l.default)(r.JWEInvalid,new Map,t.options.crit,this._protectedHeader,n);if(n.zip!==undefined){if(!this._protectedHeader||!this._protectedHeader.zip){throw new r.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}}}const u=(0,o.default)(d);let h={ciphertext:"",iv:"",recipients:[],tag:""};for(let r=0;r<this._recipients.length;r++){const o=this._recipients[r];const s={};h.recipients.push(s);const l={...this._protectedHeader,...this._unprotectedHeader,...o.unprotectedHeader};const f=l.alg.startsWith("PBES2")?2048+r:undefined;if(r===0){const t=await new i.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(u).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(o.unprotectedHeader).setKeyManagementParameters({p2c:f}).encrypt(o.key,{...o.options,...e,[i.unprotected]:true});h.ciphertext=t.ciphertext;h.iv=t.iv;h.tag=t.tag;if(t.aad)h.aad=t.aad;if(t.protected)h.protected=t.protected;if(t.unprotected)h.unprotected=t.unprotected;s.encrypted_key=t.encrypted_key;if(t.header)s.header=t.header;continue}const{encryptedKey:m,parameters:g}=await (0,a.default)(((t=o.unprotectedHeader)===null||t===void 0?void 0:t.alg)||((n=this._protectedHeader)===null||n===void 0?void 0:n.alg)||((p=this._unprotectedHeader)===null||p===void 0?void 0:p.alg),d,o.key,u,{p2c:f});s.encrypted_key=(0,c.encode)(m);if(o.unprotectedHeader||g)s.header={...o.unprotectedHeader,...g}}return h}}t.GeneralEncrypt=d},64150:e=>{const t=/^\d+$/;function n(e){if(e.includes("://"))return true;const n=e.replace(/(\/|\?)/g,"#").split("#")[0];if(n.includes(":")){const e=n.indexOf(":");const i=n.slice(e+1);if(!t.test(i)){return true}}return false}function i(e){if(!e.includes("@"))return false;const t=e.split("@");const n=t[t.length-1];return!(n.includes(":")||n.includes("/")||n.includes("?"))}function r(e){if(typeof e!=="string"){throw new TypeError("input must be a string")}let t;if(n(e)){t=e}else if(i(e)){t=`acct:${e}`}else{t=`https://${e}`}return t.split("#")[0]}e.exports=r},64470:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;var i=n(6680);function r(e){const{url:t,providerId:n}=e;const r=e.providers.map(({options:e,...n})=>{var r;if(n.type==="oauth"){var s;const r=o(n);const a=o(e,true);const c=(s=a===null||a===void 0?void 0:a.id)!==null&&s!==void 0?s:n.id;return(0,i.merge)(r,{...a,signinUrl:`${t}/signin/${c}`,callbackUrl:`${t}/callback/${c}`})}const a=(r=e===null||e===void 0?void 0:e.id)!==null&&r!==void 0?r:n.id;return(0,i.merge)(n,{...e,signinUrl:`${t}/signin/${a}`,callbackUrl:`${t}/callback/${a}`})});return{providers:r,provider:r.find(({id:e})=>e===n)}}function o(e,t=false){var n;if(!e)return;const i=Object.entries(e).reduce((e,[t,n])=>{if(["authorization","token","userinfo"].includes(t)&&typeof n==="string"){var i;const r=new URL(n);e[t]={url:`${r.origin}${r.pathname}`,params:Object.fromEntries((i=r.searchParams)!==null&&i!==void 0?i:[])}}else{e[t]=n}return e},{});if(!t&&!((n=i.version)!==null&&n!==void 0&&n.startsWith("1."))){var r,s,a,c;i.idToken=Boolean((r=(s=i.idToken)!==null&&s!==void 0?s:(a=i.wellKnown)===null||a===void 0?void 0:a.includes("openid-configuration"))!==null&&r!==void 0?r:(c=i.authorization)===null||c===void 0||(c=c.params)===null||c===void 0||(c=c.scope)===null||c===void 0?void 0:c.includes("openid"));if(!i.checks)i.checks=["state"]}return i}},64872:(e,t,n)=>{"use strict";var i=n(9168);Object.defineProperty(t,"__esModule",{value:true});t.AuthHandler=g;var r=h(n(28510));var o=n(42856);var s=h(n(59487));var a=i(n(70959));var c=n(55920);var l=n(67804);var p=n(99632);var d=n(25538);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}async function f(e){try{return await e.json()}catch(e){}}async function m(e){var t;if(e instanceof Request){var n,i,r;const t=new URL(e.url);const s=t.pathname.split("/").slice(3);const a=Object.fromEntries(e.headers);const c=Object.fromEntries(t.searchParams);c.nextauth=s;return{action:s[0],method:e.method,headers:a,body:await f(e),cookies:(0,d.parse)((n=e.headers.get("cookie"))!==null&&n!==void 0?n:""),providerId:s[1],error:(i=t.searchParams.get("error"))!==null&&i!==void 0?i:s[1],origin:(0,o.detectOrigin)((r=a["x-forwarded-host"])!==null&&r!==void 0?r:a.host,a["x-forwarded-proto"]),query:c}}const{headers:s}=e;const a=(t=s===null||s===void 0?void 0:s["x-forwarded-host"])!==null&&t!==void 0?t:s===null||s===void 0?void 0:s.host;e.origin=(0,o.detectOrigin)(a,s===null||s===void 0?void 0:s["x-forwarded-proto"]);return e}async function g(e){var t,n,i,o;const{options:d,req:u}=e;const h=await m(u);(0,r.setLogger)(d.logger,d.debug);const f=(0,l.assertConfig)({options:d,req:h});if(Array.isArray(f)){f.forEach(r.default.warn)}else if(f instanceof Error){var g;r.default.error(f.code,f);const e=["signin","signout","error","verify-request"];if(!e.includes(h.action)||h.method!=="GET"){const e=`There is a problem with the server configuration. Check the server logs for more information.`;return{status:500,headers:[{key:"Content-Type",value:"application/json"}],body:{message:e}}}const{pages:t,theme:n}=d;const i=(t===null||t===void 0?void 0:t.error)&&((g=h.query)===null||g===void 0||(g=g.callbackUrl)===null||g===void 0?void 0:g.startsWith(t.error));if(!(t!==null&&t!==void 0&&t.error)||i){if(i){r.default.error("AUTH_ON_ERROR_PAGE_ERROR",new Error(`The error page ${t===null||t===void 0?void 0:t.error} should not require authentication`))}const e=(0,a.default)({theme:n});return e.error({error:"configuration"})}return{redirect:`${t.error}?error=Configuration`}}const{action:v,providerId:y,error:_,method:w="GET"}=h;const{options:x,cookies:b}=await (0,c.init)({authOptions:d,action:v,providerId:y,origin:h.origin,callbackUrl:(t=(n=h.body)===null||n===void 0?void 0:n.callbackUrl)!==null&&t!==void 0?t:(i=h.query)===null||i===void 0?void 0:i.callbackUrl,csrfToken:(o=h.body)===null||o===void 0?void 0:o.csrfToken,cookies:h.cookies,isPost:w==="POST"});const k=new p.SessionStore(x.cookies.sessionToken,h,x.logger);if(w==="GET"){const e=(0,a.default)({...x,query:h.query,cookies:b});const{pages:t}=x;switch(v){case"providers":return await s.providers(x.providers);case"session":{const e=await s.session({options:x,sessionStore:k});if(e.cookies)b.push(...e.cookies);return{...e,cookies:b}}case"csrf":return{headers:[{key:"Content-Type",value:"application/json"}],body:{csrfToken:x.csrfToken},cookies:b};case"signin":if(t.signIn){let e=`${t.signIn}${t.signIn.includes("?")?"&":"?"}callbackUrl=${encodeURIComponent(x.callbackUrl)}`;if(_)e=`${e}&error=${encodeURIComponent(_)}`;return{redirect:e,cookies:b}}return e.signin();case"signout":if(t.signOut)return{redirect:t.signOut,cookies:b};return e.signout();case"callback":if(x.provider){const e=await s.callback({body:h.body,query:h.query,headers:h.headers,cookies:h.cookies,method:w,options:x,sessionStore:k});if(e.cookies)b.push(...e.cookies);return{...e,cookies:b}}break;case"verify-request":if(t.verifyRequest){return{redirect:t.verifyRequest,cookies:b}}return e.verifyRequest();case"error":if(["Signin","OAuthSignin","OAuthCallback","OAuthCreateAccount","EmailCreateAccount","Callback","OAuthAccountNotLinked","EmailSignin","CredentialsSignin","SessionRequired"].includes(_)){return{redirect:`${x.url}/signin?error=${_}`,cookies:b}}if(t.error){return{redirect:`${t.error}${t.error.includes("?")?"&":"?"}error=${_}`,cookies:b}}return e.error({error:_});default:}}else if(w==="POST"){switch(v){case"signin":if(x.csrfTokenVerified&&x.provider){const e=await s.signin({query:h.query,body:h.body,options:x});if(e.cookies)b.push(...e.cookies);return{...e,cookies:b}}return{redirect:`${x.url}/signin?csrf=true`,cookies:b};case"signout":if(x.csrfTokenVerified){const e=await s.signout({options:x,sessionStore:k});if(e.cookies)b.push(...e.cookies);return{...e,cookies:b}}return{redirect:`${x.url}/signout?csrf=true`,cookies:b};case"callback":if(x.provider){if(x.provider.type==="credentials"&&!x.csrfTokenVerified){return{redirect:`${x.url}/signin?csrf=true`,cookies:b}}const e=await s.callback({body:h.body,query:h.query,headers:h.headers,cookies:h.cookies,method:w,options:x,sessionStore:k});if(e.cookies)b.push(...e.cookies);return{...e,cookies:b}}break;case"_log":{if(d.logger){try{var E;const{code:e,level:t,...n}=(E=h.body)!==null&&E!==void 0?E:{};r.default[t](e,n)}catch(e){r.default.error("LOGGER_ERROR",e)}}return{}}case"session":{if(x.csrfTokenVerified){var S;const e=await s.session({options:x,sessionStore:k,newSession:(S=h.body)===null||S===void 0?void 0:S.data,isUpdate:true});if(e.cookies)b.push(...e.cookies);return{...e,cookies:b}}return{status:400,body:{},cookies:b}}default:}}return{status:400,body:`Error: This action with HTTP ${w} is not supported by NextAuth.js`}}},65597:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1){return true}let n;for(const e of t){const t=Object.keys(e);if(!n||n.size===0){n=new Set(t);continue}for(const e of t){if(n.has(e)){return false}n.add(e)}}return true};t["default"]=n},65764:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.exportJWK=t.exportPKCS8=t.exportSPKI=void 0;const i=n(93346);const r=n(93346);const o=n(41193);async function s(e){return(0,i.toSPKI)(e)}t.exportSPKI=s;async function a(e){return(0,r.toPKCS8)(e)}t.exportPKCS8=a;async function c(e){return(0,o.default)(e)}t.exportJWK=c},66318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.deflate=t.inflate=void 0;const i=n(28354);const r=n(74075);const o=n(99938);const s=(0,i.promisify)(r.inflateRaw);const a=(0,i.promisify)(r.deflateRaw);const c=e=>s(e,{maxOutputLength:25e4}).catch(()=>{throw new o.JWEDecompressionFailed});t.inflate=c;const l=e=>a(e);t.deflate=l},66446:e=>{function t(e,t){this.v=e,this.k=t}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports},66837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=c;var i=n(9545);var r=n(8365);var o=a(n(50671));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&({}).hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}async function c({options:e,query:t}){var n;const{logger:s,provider:a}=e;let c={};if(typeof a.authorization==="string"){const e=new URL(a.authorization);const t=Object.fromEntries(e.searchParams);c={...c,...t}}else{var l;c={...c,...(l=a.authorization)===null||l===void 0?void 0:l.params}}c={...c,...t};if((n=a.version)!==null&&n!==void 0&&n.startsWith("1.")){var p;const t=(0,r.oAuth1Client)(e);const n=await t.getOAuthRequestToken(c);const i=`${(p=a.authorization)===null||p===void 0?void 0:p.url}?${new URLSearchParams({oauth_token:n.oauth_token,oauth_token_secret:n.oauth_token_secret,...n.params})}`;r.oAuth1TokenStore.set(n.oauth_token,n.oauth_token_secret);s.debug("GET_AUTHORIZATION_URL",{url:i,provider:a});return{redirect:i}}const d=await (0,i.openidClient)(e);const u=c;const h=[];await o.state.create(e,h,u);await o.pkce.create(e,h,u);await o.nonce.create(e,h,u);const f=d.authorizationUrl(u);s.debug("GET_AUTHORIZATION_URL",{url:f,cookies:h,provider:a});return{redirect:f,cookies:h}}},67131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]="node:crypto"},67135:e=>{function t(e){var t=Object(e),n=[];for(var i in t)n.unshift(i);return function e(){for(;n.length;)if((i=n.pop())in t)return e.value=i,e.done=!1,e;return e.done=!0,e}}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports},67804:(e,t,n)=>{"use strict";var i=n(9168);Object.defineProperty(t,"__esModule",{value:true});t.assertConfig=l;var r=n(20113);var o=i(n(16851));var s=n(99632);let a=false;function c(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:undefined).protocol)}catch(e){return false}}function l(e){var t,n,i,l,p,d;const{options:u,req:h}=e;const f=[];if(!a){if(!h.origin)f.push("NEXTAUTH_URL");if(!u.secret&&"production"!=="production"){}if(u.debug)f.push("DEBUG_ENABLED")}if(!u.secret&&"production"==="production"){return new r.MissingSecret("Please define a `secret` in production.")}if(!((t=h.query)!==null&&t!==void 0&&t.nextauth)&&!h.action){return new r.MissingAPIRoute("Cannot find [...nextauth].{js,ts} in `/pages/api/auth`. Make sure the filename is written correctly.")}const m=(n=h.query)===null||n===void 0?void 0:n.callbackUrl;const g=(0,o.default)(h.origin);if(m&&!c(m,g.base)){return new r.InvalidCallbackUrl(`Invalid callback URL. Received: ${m}`)}const{callbackUrl:v}=(0,s.defaultCookies)((i=u.useSecureCookies)!==null&&i!==void 0?i:g.base.startsWith("https://"));const y=(l=h.cookies)===null||l===void 0?void 0:l[(p=(d=u.cookies)===null||d===void 0||(d=d.callbackUrl)===null||d===void 0?void 0:d.name)!==null&&p!==void 0?p:v.name];if(y&&!c(y,g.base)){return new r.InvalidCallbackUrl(`Invalid callback URL. Received: ${y}`)}let _,w;let x;for(const e of u.providers){if(e.type==="credentials")_=true;else if(e.type==="email")w=true;else if(e.id==="twitter"&&e.version==="2.0")x=true}if(_){var b;const e=((b=u.session)===null||b===void 0?void 0:b.strategy)==="database";const t=!u.providers.some(e=>e.type!=="credentials");if(e&&t){return new r.UnsupportedStrategy("Signin in with credentials only supported if JWT strategy is enabled")}const n=u.providers.some(e=>e.type==="credentials"&&!e.authorize);if(n){return new r.MissingAuthorize("Must define an authorize() handler to use credentials authentication provider")}}if(w){const{adapter:e}=u;if(!e){return new r.MissingAdapter("E-mail login requires an adapter.")}const t=["createVerificationToken","useVerificationToken","getUserByEmail"].filter(t=>!e[t]);if(t.length){return new r.MissingAdapterMethods(`Required adapter methods were missing: ${t.join(", ")}`)}}if(!a){if(x)f.push("TWITTER_OAUTH_2_BETA");a=true}return f}},67929:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.decode=t.encode=void 0;const i=n(68327);t.encode=i.encode;t.decode=i.decode},68327:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.decode=t.encode=t.encodeBase64=t.decodeBase64=void 0;const i=n(79428);const r=n(2594);let o;function s(e){let t=e;if(t instanceof Uint8Array){t=r.decoder.decode(t)}return t}if(i.Buffer.isEncoding("base64url")){t.encode=o=e=>i.Buffer.from(e).toString("base64url")}else{t.encode=o=e=>i.Buffer.from(e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}const a=e=>i.Buffer.from(e,"base64");t.decodeBase64=a;const c=e=>i.Buffer.from(e).toString("base64");t.encodeBase64=c;const l=e=>i.Buffer.from(s(e),"base64");t.decode=l},68588:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.defaultCallbacks=void 0;const n=t.defaultCallbacks={signIn(){return true},redirect({url:e,baseUrl:t}){if(e.startsWith("/"))return`${t}${e}`;else if(new URL(e).origin===t)return e;return t},session({session:e}){return e},jwt({token:e}){return e}}},68907:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.generalDecrypt=void 0;const i=n(36736);const r=n(99938);const o=n(25110);async function s(e,t,n){if(!(0,o.default)(e)){throw new r.JWEInvalid("General JWE must be an object")}if(!Array.isArray(e.recipients)||!e.recipients.every(o.default)){throw new r.JWEInvalid("JWE Recipients missing or incorrect type")}if(!e.recipients.length){throw new r.JWEInvalid("JWE Recipients has no members")}for(const r of e.recipients){try{return await (0,i.flattenedDecrypt)({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:r.encrypted_key,header:r.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,n)}catch{}}throw new r.JWEDecryptionFailed}t.generalDecrypt=s},68919:(e,t,n)=>{e.exports=n(1889)["default"]},69184:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.decodeProtectedHeader=void 0;const i=n(67929);const r=n(2594);const o=n(25110);function s(e){let t;if(typeof e==="string"){const n=e.split(".");if(n.length===3||n.length===5){;[t]=n}}else if(typeof e==="object"&&e){if("protected"in e){t=e.protected}else{throw new TypeError("Token does not contain a Protected Header")}}try{if(typeof t!=="string"||!t){throw new Error}const e=JSON.parse(r.decoder.decode((0,i.decode)(t)));if(!(0,o.default)(e)){throw new Error}return e}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}t.decodeProtectedHeader=s},69717:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=e=>Math.floor(e.getTime()/1e3)},70885:e=>{let t;if(Buffer.isEncoding("base64url")){t=(e,t="utf8")=>Buffer.from(e,t).toString("base64url")}else{const e=e=>e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");t=(t,n="utf8")=>e(Buffer.from(t,n).toString("base64"))}const n=e=>Buffer.from(e,"base64");e.exports.decode=n;e.exports.encode=t},70959:(e,t,n)=>{"use strict";var i=n(9168);Object.defineProperty(t,"__esModule",{value:true});t["default"]=p;var r=i(n(68919));var o=i(n(8557));var s=i(n(47024));var a=i(n(16974));var c=i(n(27969));var l=i(n(84838));function p(e){const{url:t,theme:n,query:i,cookies:p}=e;function d({html:e,title:t,status:i}){var o;return{cookies:p,status:i,headers:[{key:"Content-Type",value:"text/html"}],body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${(0,l.default)()}</style><title>${t}</title></head><body class="__next-auth-theme-${(o=n===null||n===void 0?void 0:n.colorScheme)!==null&&o!==void 0?o:"auto"}"><div class="page">${(0,r.default)(e)}</div></body></html>`}}return{signin(t){return d({html:(0,o.default)({csrfToken:e.csrfToken,providers:e.providers,callbackUrl:e.callbackUrl,theme:n,...i,...t}),title:"Sign In"})},signout(i){return d({html:(0,s.default)({csrfToken:e.csrfToken,url:t,theme:n,...i}),title:"Sign Out"})},verifyRequest(e){return d({html:(0,a.default)({url:t,theme:n,...e}),title:"Verify Request"})},error(e){return d({...(0,c.default)({url:t,theme:n,...e}),title:"Error"})}}}},70997:(e,t,n)=>{var i=n(30994);function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},71746:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.flattenedVerify=void 0;const i=n(68327);const r=n(9534);const o=n(99938);const s=n(2594);const a=n(65597);const c=n(25110);const l=n(80335);const p=n(8535);const d=n(93069);async function u(e,t,n){var u;if(!(0,c.default)(e)){throw new o.JWSInvalid("Flattened JWS must be an object")}if(e.protected===undefined&&e.header===undefined){throw new o.JWSInvalid('Flattened JWS must have either of the "protected" or "header" members')}if(e.protected!==undefined&&typeof e.protected!=="string"){throw new o.JWSInvalid("JWS Protected Header incorrect type")}if(e.payload===undefined){throw new o.JWSInvalid("JWS Payload missing")}if(typeof e.signature!=="string"){throw new o.JWSInvalid("JWS Signature missing or incorrect type")}if(e.header!==undefined&&!(0,c.default)(e.header)){throw new o.JWSInvalid("JWS Unprotected Header incorrect type")}let h={};if(e.protected){try{const t=(0,i.decode)(e.protected);h=JSON.parse(s.decoder.decode(t))}catch{throw new o.JWSInvalid("JWS Protected Header is invalid")}}if(!(0,a.default)(h,e.header)){throw new o.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint")}const f={...h,...e.header};const m=(0,p.default)(o.JWSInvalid,new Map([["b64",true]]),n===null||n===void 0?void 0:n.crit,h,f);let g=true;if(m.has("b64")){g=h.b64;if(typeof g!=="boolean"){throw new o.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean')}}const{alg:v}=f;if(typeof v!=="string"||!v){throw new o.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid')}const y=n&&(0,d.default)("algorithms",n.algorithms);if(y&&!y.has(v)){throw new o.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed')}if(g){if(typeof e.payload!=="string"){throw new o.JWSInvalid("JWS Payload must be a string")}}else if(typeof e.payload!=="string"&&!(e.payload instanceof Uint8Array)){throw new o.JWSInvalid("JWS Payload must be a string or an Uint8Array instance")}let _=false;if(typeof t==="function"){t=await t(h,e);_=true}(0,l.default)(v,t,"verify");const w=(0,s.concat)(s.encoder.encode((u=e.protected)!==null&&u!==void 0?u:""),s.encoder.encode("."),typeof e.payload==="string"?s.encoder.encode(e.payload):e.payload);let x;try{x=(0,i.decode)(e.signature)}catch{throw new o.JWSInvalid("Failed to base64url decode the signature")}const b=await (0,r.default)(v,t,x,w);if(!b){throw new o.JWSSignatureVerificationFailed}let k;if(g){try{k=(0,i.decode)(e.payload)}catch{throw new o.JWSInvalid("Failed to base64url decode the payload")}}else if(typeof e.payload==="string"){k=s.encoder.encode(e.payload)}else{k=e.payload}const E={payload:k};if(e.protected!==undefined){E.protectedHeader=h}if(e.header!==undefined){E.unprotectedHeader=e.header}if(_){return{...E,key:t}}return E}t.flattenedVerify=u},71800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(55511);t["default"]=(e,t,n,r,o)=>{const s=parseInt(e.substr(3),10)>>3||20;const a=(0,i.createHmac)(e,n.byteLength?n:new Uint8Array(s)).update(t).digest();const c=Math.ceil(o/s);const l=new Uint8Array(s*c+r.byteLength+1);let p=0;let d=0;for(let t=1;t<=c;t++){l.set(r,d);l[d+r.byteLength]=t;l.set((0,i.createHmac)(e,a).update(l.subarray(p,d+r.byteLength+1)).digest(),d);p=d;d+=s}return l.slice(0,o)}},71871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;var i=n(29837);async function r(e){const{options:t,sessionStore:n,newSession:r,isUpdate:o}=e;const{adapter:s,jwt:a,events:c,callbacks:l,logger:p,session:{strategy:d,maxAge:u}}=t;const h={body:{},headers:[{key:"Content-Type",value:"application/json"}],cookies:[]};const f=n.value;if(!f)return h;if(d==="jwt"){try{var m,g;const e=await a.decode({...a,token:f});if(!e)throw new Error("JWT invalid");const s=await l.jwt({token:e,...o&&{trigger:"update"},session:r});const p=(0,i.fromDate)(u);const d=await l.session({session:{user:{name:e===null||e===void 0?void 0:e.name,email:e===null||e===void 0?void 0:e.email,image:e===null||e===void 0?void 0:e.picture},expires:p.toISOString()},token:s});h.body=d;const v=await a.encode({...a,token:s,maxAge:t.session.maxAge});const y=n.chunk(v,{expires:p});(m=h.cookies)===null||m===void 0||m.push(...y);await ((g=c.session)===null||g===void 0?void 0:g.call(c,{session:d,token:s}))}catch(e){var v;p.error("JWT_SESSION_ERROR",e);(v=h.cookies)===null||v===void 0||v.push(...n.clean())}}else{try{const{getSessionAndUser:e,deleteSession:a,updateSession:p}=s;let d=await e(f);if(d&&d.session.expires.valueOf()<Date.now()){await a(f);d=null}if(d){var y,_;const{user:e,session:n}=d;const s=t.session.updateAge;const a=n.expires.valueOf()-u*1e3+s*1e3;const m=(0,i.fromDate)(u);if(a<=Date.now()){await p({sessionToken:f,expires:m})}const g=await l.session({session:{user:{name:e.name,email:e.email,image:e.image},expires:n.expires.toISOString()},user:e,newSession:r,...o?{trigger:"update"}:{}});h.body=g;(y=h.cookies)===null||y===void 0||y.push({name:t.cookies.sessionToken.name,value:f,options:{...t.cookies.sessionToken.options,expires:m}});await ((_=c.session)===null||_===void 0?void 0:_.call(c,{session:g}))}else if(f){var w;(w=h.cookies)===null||w===void 0||w.push(...n.clean())}}catch(e){p.error("SESSION_ERROR",e)}}return h}},71872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.UnsecuredJWT=void 0;const i=n(68327);const r=n(2594);const o=n(99938);const s=n(81822);const a=n(2754);class c extends a.ProduceJWT{encode(){const e=i.encode(JSON.stringify({alg:"none"}));const t=i.encode(JSON.stringify(this._payload));return`${e}.${t}.`}static decode(e,t){if(typeof e!=="string"){throw new o.JWTInvalid("Unsecured JWT must be a string")}const{0:n,1:a,2:c,length:l}=e.split(".");if(l!==3||c!==""){throw new o.JWTInvalid("Invalid Unsecured JWT")}let p;try{p=JSON.parse(r.decoder.decode(i.decode(n)));if(p.alg!=="none")throw new Error}catch{throw new o.JWTInvalid("Invalid Unsecured JWT")}const d=(0,s.default)(p,i.decode(a),t);return{payload:d,header:p}}}t.UnsecuredJWT=c},72115:(e,t,n)=>{const i=n(78830);function r(e,t,...n){for(const o of n){if(!i(o)){continue}for(const[n,s]of Object.entries(o)){if(n==="__proto__"||n==="constructor"){continue}if(typeof t[n]==="undefined"&&typeof s!=="undefined"){t[n]=s}if(e&&i(t[n])&&i(s)){r(true,t[n],s)}}}return t}e.exports=r.bind(undefined,false);e.exports.deep=r.bind(undefined,true)},72443:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=2;const i=48;class r{constructor(e){if(e[0]!==i){throw new TypeError}this.buffer=e;this.offset=1;const t=this.decodeLength();if(t!==e.length-this.offset){throw new TypeError}}decodeLength(){let e=this.buffer[this.offset++];if(e&128){const t=e&~128;e=0;for(let n=0;n<t;n++)e=e<<8|this.buffer[this.offset+n];this.offset+=t}return e}unsignedInteger(){if(this.buffer[this.offset++]!==n){throw new TypeError}let e=this.decodeLength();if(this.buffer[this.offset]===0){this.offset++;e--}const t=this.buffer.slice(this.offset,this.offset+e);this.offset+=e;return t}end(){if(this.offset!==this.buffer.length){throw new TypeError}}}t["default"]=r},72921:(e,t,n)=>{"use strict";n.r(t);n.d(t,{NIL:()=>U,parse:()=>x,stringify:()=>h,v1:()=>_,v3:()=>C,v4:()=>j,v5:()=>M,validate:()=>p,version:()=>J});var i=n(55511);var r=n.n(i);const o=new Uint8Array(256);let s=o.length;function a(){if(s>o.length-16){r().randomFillSync(o);s=0}return o.slice(s,s+=16)};const c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function l(e){return typeof e==="string"&&c.test(e)}const p=l;const d=[];for(let e=0;e<256;++e){d.push((e+256).toString(16).substr(1))}function u(e,t=0){const n=(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase();if(!p(n)){throw TypeError("Stringified UUID is invalid")}return n}const h=u;let f;let m;let g=0;let v=0;function y(e,t,n){let i=t&&n||0;const r=t||new Array(16);e=e||{};let o=e.node||f;let s=e.clockseq!==undefined?e.clockseq:m;if(o==null||s==null){const t=e.random||(e.rng||a)();if(o==null){o=f=[t[0]|1,t[1],t[2],t[3],t[4],t[5]]}if(s==null){s=m=(t[6]<<8|t[7])&16383}}let c=e.msecs!==undefined?e.msecs:Date.now();let l=e.nsecs!==undefined?e.nsecs:v+1;const p=c-g+(l-v)/1e4;if(p<0&&e.clockseq===undefined){s=s+1&16383}if((p<0||c>g)&&e.nsecs===undefined){l=0}if(l>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}g=c;v=l;m=s;c+=122192928e5;const d=((c&0xfffffff)*1e4+l)%0x100000000;r[i++]=d>>>24&255;r[i++]=d>>>16&255;r[i++]=d>>>8&255;r[i++]=d&255;const u=c/0x100000000*1e4&0xfffffff;r[i++]=u>>>8&255;r[i++]=u&255;r[i++]=u>>>24&15|16;r[i++]=u>>>16&255;r[i++]=s>>>8|128;r[i++]=s&255;for(let e=0;e<6;++e){r[i+e]=o[e]}return t||h(r)}const _=y;function w(e){if(!p(e)){throw TypeError("Invalid UUID")}let t;const n=new Uint8Array(16);n[0]=(t=parseInt(e.slice(0,8),16))>>>24;n[1]=t>>>16&255;n[2]=t>>>8&255;n[3]=t&255;n[4]=(t=parseInt(e.slice(9,13),16))>>>8;n[5]=t&255;n[6]=(t=parseInt(e.slice(14,18),16))>>>8;n[7]=t&255;n[8]=(t=parseInt(e.slice(19,23),16))>>>8;n[9]=t&255;n[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255;n[11]=t/0x100000000&255;n[12]=t>>>24&255;n[13]=t>>>16&255;n[14]=t>>>8&255;n[15]=t&255;return n}const x=w;function b(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n){t.push(e.charCodeAt(n))}return t}const k="6ba7b810-9dad-11d1-80b4-00c04fd430c8";const E="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function S(e,t,n){function i(e,i,r,o){if(typeof e==="string"){e=b(e)}if(typeof i==="string"){i=x(i)}if(i.length!==16){throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")}let s=new Uint8Array(16+e.length);s.set(i);s.set(e,i.length);s=n(s);s[6]=s[6]&15|t;s[8]=s[8]&63|128;if(r){o=o||0;for(let e=0;e<16;++e){r[o+e]=s[e]}return r}return h(s)}try{i.name=e}catch(e){}i.DNS=k;i.URL=E;return i};function A(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return r().createHash("md5").update(e).digest()}const T=A;const O=S("v3",48,T);const C=O;function P(e,t,n){e=e||{};const i=e.random||(e.rng||a)();i[6]=i[6]&15|64;i[8]=i[8]&63|128;if(t){n=n||0;for(let e=0;e<16;++e){t[n+e]=i[e]}return t}return h(i)}const j=P;function I(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return r().createHash("sha1").update(e).digest()}const R=I;const H=S("v5",80,R);const M=H;const U="00000000-0000-0000-0000-000000000000";function N(e){if(!p(e)){throw TypeError("Invalid UUID")}return parseInt(e.substr(14,1),16)}const J=N;},73602:(e,t,n)=>{const i=n(8494);const r=n(42142);const{RPError:o}=n(61408);const{assertIssuerConfiguration:s}=n(2279);const a=n(28577);const{keystores:c}=n(55132);const l=n(48160);const p=n(9552);const d=new WeakMap;const u=new WeakMap;const h=e=>{if(!u.has(e)){u.set(e,new r({max:100}))}return u.get(e)};async function f(e=false){s(this,"jwks_uri");const t=c.get(this);const n=h(this);if(e||!t){if(d.has(this)){return d.get(this)}n.reset();d.set(this,(async()=>{const e=await p.call(this,{method:"GET",responseType:"json",url:this.jwks_uri,headers:{Accept:"application/json, application/jwk-set+json"}}).finally(()=>{d.delete(this)});const t=l(e);const i=a.fromJWKS(t,{onlyPublic:true});n.set("throttle",true,60*1e3);c.set(this,i);return i})());return d.get(this)}return t}async function m({kid:e,kty:t,alg:n,use:r},{allowMulti:s=false}={}){const a=h(this);const c={kid:e,kty:t,alg:n,use:r};const l=i(c,{algorithm:"sha256",ignoreUnknown:true,unorderedArrays:true,unorderedSets:true,respectType:false});const p=a.get(l)||a.get("throttle");const d=await f.call(this,!p);const u=d.all(c);delete c.use;if(u.length===0){throw new o({printf:["no valid key found in issuer's jwks_uri for key parameters %j",c],jwks:d})}if(!s&&u.length>1&&!e){throw new o({printf:["multiple matching keys found in issuer's jwks_uri for key parameters %j, kid must be provided in this case",c],jwks:d})}a.set(l,true);return u}e.exports.queryKeyStore=m;e.exports.keystore=f},73913:(e,t,n)=>{"use strict";var i;i={value:true};Object.defineProperty(t,"r",{enumerable:true,get:function(){return p}});const r=n(63033);const o=n(29294);const s=n(84971);const a=n(76926);const c=n(80023);const l=n(98479);function p(){const e="draftMode";const t=o.workAsyncStorage.getStore();const n=r.workUnitAsyncStorage.getStore();if(!t||!n){(0,r.throwForMissingRequestStore)(e)}switch(n.type){case"request":return d(n.draftMode,t);case"cache":case"unstable-cache":const i=(0,r.getDraftModeProviderForCacheScope)(t,n);if(i){return d(i,t)}case"prerender":case"prerender-ppr":case"prerender-legacy":if(false){}else{return h(null)}default:const s=n;return s}}function d(e,t){const n=u.get(p);if(n){return n}let i;if(false){}else{i=h(e)}u.set(e,i);return i}const u=new WeakMap;function h(e){const t=new m(e);const n=Promise.resolve(t);Object.defineProperty(n,"isEnabled",{get(){return t.isEnabled},set(e){Object.defineProperty(n,"isEnabled",{value:e,writable:true,enumerable:true})},enumerable:true,configurable:true});n.enable=t.enable.bind(t);n.disable=t.disable.bind(t);return n}function f(e,t){const n=new m(e);const i=Promise.resolve(n);Object.defineProperty(i,"isEnabled",{get(){const e="`draftMode().isEnabled`";g(t,e);return n.isEnabled},set(e){Object.defineProperty(i,"isEnabled",{value:e,writable:true,enumerable:true})},enumerable:true,configurable:true});Object.defineProperty(i,"enable",{value:function e(){const e="`draftMode().enable()`";g(t,e);return n.enable.apply(n,arguments)}});Object.defineProperty(i,"disable",{value:function e(){const e="`draftMode().disable()`";g(t,e);return n.disable.apply(n,arguments)}});return i}class m{constructor(e){this._provider=e}get isEnabled(){if(this._provider!==null){return this._provider.isEnabled}return false}enable(){_("draftMode().enable()");if(this._provider!==null){this._provider.enable()}}disable(){_("draftMode().disable()");if(this._provider!==null){this._provider.disable()}}}function g(e,t){const n=r.workUnitAsyncStorage.getStore();if(n&&n.type==="request"&&n.prerenderPhase===true){const e=n;(0,s.trackSynchronousRequestDataAccessInDev)(e)}v(e,t)}const v=(0,a.createDedupedByCallsiteServerErrorLoggerDev)(y);function y(e,t){const n=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${n}used ${t}. `+`\`draftMode()\` should be awaited before using its value. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:false,configurable:true})}function _(e){const t=o.workAsyncStorage.getStore();const n=r.workUnitAsyncStorage.getStore();if(t){if(n){if(n.type==="cache"){throw Object.defineProperty(new Error(`Route ${t.route} used "${e}" inside "use cache". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E246",enumerable:false,configurable:true})}else if(n.type==="unstable-cache"){throw Object.defineProperty(new Error(`Route ${t.route} used "${e}" inside a function cached with "unstable_cache(...)". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E259",enumerable:false,configurable:true})}else if(n.phase==="after"){throw Object.defineProperty(new Error(`Route ${t.route} used "${e}" inside \`after\`. The enabled status of draftMode can be read inside \`after\` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E348",enumerable:false,configurable:true})}}if(t.dynamicShouldError){throw Object.defineProperty(new c.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:false,configurable:true})}if(n){if(n.type==="prerender"){const i=Object.defineProperty(new Error(`Route ${t.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:false,configurable:true});(0,s.abortAndThrowOnSynchronousRequestDataAccess)(t.route,e,i,n)}else if(n.type==="prerender-ppr"){(0,s.postponeWithTracking)(t.route,e,n.dynamicTracking)}else if(n.type==="prerender-legacy"){n.revalidate=0;const i=Object.defineProperty(new l.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:false,configurable:true});t.dynamicUsageDescription=e;t.dynamicUsageStack=i.stack;throw i}else if(false){}}}}},74075:e=>{"use strict";e.exports=require("zlib")},74113:(e,t,n)=>{var i=n(66446);var r=n(18040);function o(e,t){function n(r,o,s,a){try{var c=e[r](o),l=c.value;return l instanceof i?t.resolve(l.v).then(function(e){n("next",e,s,a)},function(e){n("throw",e,s,a)}):t.resolve(l).then(function(e){c.value=e,s(c)},function(e){return n("throw",e,s,a)})}catch(e){a(e)}}var s;this.next||(r(o.prototype),r(o.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(e,i,r){function o(){return new t(function(t,i){n(e,r,t,i)})}return s=s?s.then(o,o):o()},!0)}e.exports=o,e.exports.__esModule=true,e.exports["default"]=e.exports},74301:(e,t,n)=>{"use strict";const i=n(48178);const r=n(18199);const o=n(55511);e.exports=(e,t,n,i)=>{i=i||{};let r="From:Sender:Reply-To:Subject:Date:Message-ID:To:"+"Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:"+"Content-Description:Resent-Date:Resent-From:Resent-Sender:"+"Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:"+"List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:"+"List-Owner:List-Archive";let l=i.headerFieldNames||r;let p=a(e,l,i.skipFields);let d=s(i.domainName,i.keySelector,p.fieldNames,t,n);let u,h;p.headers+="dkim-signature:"+c(d);u=o.createSign(("rsa-"+t).toUpperCase());u.update(p.headers);try{h=u.sign(i.privateKey,"base64")}catch(e){return false}return d+h.replace(/(^.{73}|.{75}(?!\r?\n|\r))/g,"$&\r\n ").trim()};e.exports.relaxedHeaders=a;function s(e,t,n,o,s){let a=["v=1","a=rsa-"+o,"c=relaxed/relaxed","d="+i.toASCII(e),"q=dns/txt","s="+t,"bh="+s,"h="+n].join("; ");return r.foldLines("DKIM-Signature: "+a,76)+";\r\n b="}function a(e,t,n){let i=new Set;let r=new Set;let o=new Map;(n||"").toLowerCase().split(":").forEach(e=>{r.add(e.trim())});(t||"").toLowerCase().split(":").filter(e=>!r.has(e.trim())).forEach(e=>{i.add(e.trim())});for(let t=e.length-1;t>=0;t--){let n=e[t];if(i.has(n.key)&&!o.has(n.key)){o.set(n.key,c(n.line))}}let s=[];let a=[];i.forEach(e=>{if(o.has(e)){a.push(e);s.push(e+":"+o.get(e))}});return{headers:s.join("\r\n")+"\r\n",fieldNames:a.join(":")}}function c(e){return e.substr(e.indexOf(":")+1).replace(/\r?\n/g,"").replace(/\s+/g," ").trim()}},74508:e=>{"use strict";function t(e){let t=false;let n="text";let r;let o=[];let s={address:[],comment:[],group:[],text:[]};let a;let c;for(a=0,c=e.length;a<c;a++){let i=e[a];let r=a?e[a-1]:null;if(i.type==="operator"){switch(i.value){case"<":n="address";break;case"(":n="comment";break;case":":n="group";t=true;break;default:n="text";break}}else if(i.value){if(n==="address"){i.value=i.value.replace(/^[^<]*<\s*/,"")}if(r&&r.noBreak&&s[n].length){s[n][s[n].length-1]+=i.value}else{s[n].push(i.value)}}}if(!s.text.length&&s.comment.length){s.text=s.comment;s.comment=[]}if(t){s.text=s.text.join(" ");o.push({name:s.text||r&&r.name,group:s.group.length?i(s.group.join(",")):[]})}else{if(!s.address.length&&s.text.length){for(a=s.text.length-1;a>=0;a--){if(s.text[a].match(/^[^@\s]+@[^@\s]+$/)){s.address=s.text.splice(a,1);break}}let e=function(e){if(!s.address.length){s.address=[e.trim()];return" "}else{return e}};if(!s.address.length){for(a=s.text.length-1;a>=0;a--){s.text[a]=s.text[a].replace(/\s*\b[^@\s]+@[^\s]+\b\s*/,e).trim();if(s.address.length){break}}}}if(!s.text.length&&s.comment.length){s.text=s.comment;s.comment=[]}if(s.address.length>1){s.text=s.text.concat(s.address.splice(1))}s.text=s.text.join(" ");s.address=s.address.join(" ");if(!s.address&&t){return[]}else{r={address:s.address||s.text||"",name:s.text||s.address||""};if(r.address===r.name){if((r.address||"").match(/@/)){r.name=""}else{r.address=""}}o.push(r)}}return o}class n{constructor(e){this.str=(e||"").toString();this.operatorCurrent="";this.operatorExpecting="";this.node=null;this.escaped=false;this.list=[];this.operators={'"':'"',"(":")","<":">",",":"",":":";",";":""}}tokenize(){let e=[];for(let e=0,t=this.str.length;e<t;e++){let n=this.str.charAt(e);let i=e<t-1?this.str.charAt(e+1):null;this.checkChar(n,i)}this.list.forEach(t=>{t.value=(t.value||"").toString().trim();if(t.value){e.push(t)}});return e}checkChar(e,t){if(this.escaped){}else if(e===this.operatorExpecting){this.node={type:"operator",value:e};if(t&&![" ","	","\r","\n",",",";"].includes(t)){this.node.noBreak=true}this.list.push(this.node);this.node=null;this.operatorExpecting="";this.escaped=false;return}else if(!this.operatorExpecting&&e in this.operators){this.node={type:"operator",value:e};this.list.push(this.node);this.node=null;this.operatorExpecting=this.operators[e];this.escaped=false;return}else if(['"',"'"].includes(this.operatorExpecting)&&e==="\\"){this.escaped=true;return}if(!this.node){this.node={type:"text",value:""};this.list.push(this.node)}if(e==="\n"){e=" "}if(e.charCodeAt(0)>=33||[" ","	"].includes(e)){this.node.value+=e}this.escaped=false}}function i(e,i){i=i||{};let r=new n(e);let o=r.tokenize();let s=[];let a=[];let c=[];o.forEach(e=>{if(e.type==="operator"&&(e.value===","||e.value===";")){if(a.length){s.push(a)}a=[]}else{a.push(e)}});if(a.length){s.push(a)}s.forEach(e=>{e=t(e);if(e.length){c=c.concat(e)}});if(i.flatten){let e=[];let t=n=>{n.forEach(n=>{if(n.group){return t(n.group)}else{e.push(n)}})};t(c);return e}return c}e.exports=i},75722:(e,t,n)=>{var i=n(24956)["default"];var r=n(60105);function o(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)}e.exports=o,e.exports.__esModule=true,e.exports["default"]=e.exports},76964:(e,t,n)=>{const{strict:i}=n(12412);const{createHash:r}=n(55511);const{format:o}=n(28354);const s=n(7161);let a;if(Buffer.isEncoding("base64url")){a=e=>e.toString("base64url")}else{const e=e=>e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");a=t=>e(t.toString("base64"))}function c(e,t){switch(e){case"HS256":case"RS256":case"PS256":case"ES256":case"ES256K":return r("sha256");case"HS384":case"RS384":case"PS384":case"ES384":return r("sha384");case"HS512":case"RS512":case"PS512":case"ES512":case"Ed25519":return r("sha512");case"Ed448":if(!s){throw new TypeError("Ed448 *_hash calculation is not supported in your Node.js runtime version")}return r("shake256",{outputLength:114});case"EdDSA":switch(t){case"Ed25519":return r("sha512");case"Ed448":if(!s){throw new TypeError("Ed448 *_hash calculation is not supported in your Node.js runtime version")}return r("shake256",{outputLength:114});default:throw new TypeError("unrecognized or invalid EdDSA curve provided")}default:throw new TypeError("unrecognized or invalid JWS algorithm provided")}}function l(e,t,n){const i=c(t,n).update(e).digest();return a(i.slice(0,i.length/2))}function p(e,t,n,r,s){if(typeof e.claim!=="string"||!e.claim){throw new TypeError("names.claim must be a non-empty string")}if(typeof e.source!=="string"||!e.source){throw new TypeError("names.source must be a non-empty string")}i(typeof t==="string"&&t,`${e.claim} must be a non-empty string`);i(typeof n==="string"&&n,`${e.source} must be a non-empty string`);let a;let c;try{a=l(n,r,s)}catch(t){c=o("%s could not be validated (%s)",e.claim,t.message)}c=c||o("%s mismatch, expected %s, got: %s",e.claim,a,t);i.equal(a,t,c)}e.exports={validate:p,generate:l}},77821:(e,t,n)=>{"use strict";const i=n(49074);const r=n(91292);class o{constructor(e){e=e||{};this.options=e||{};this.name="StreamTransport";this.version=i.version;this.logger=r.getLogger(this.options,{component:this.options.component||"stream-transport"});this.winbreak=["win","windows","dos","\r\n"].includes((e.newline||"").toString().toLowerCase())}send(e,t){e.message.keepBcc=true;let n=e.data.envelope||e.message.getEnvelope();let i=e.message.messageId();let r=[].concat(n.to||[]);if(r.length>3){r.push("...and "+r.splice(2).length+" more")}this.logger.info({tnx:"send",messageId:i},"Sending message %s to <%s> using %s line breaks",i,r.join(", "),this.winbreak?"<CR><LF>":"<LF>");setImmediate(()=>{let n;try{n=e.message.createReadStream()}catch(e){this.logger.error({err:e,tnx:"send",messageId:i},"Creating send stream failed for %s. %s",i,e.message);return t(e)}if(!this.options.buffer){n.once("error",e=>{this.logger.error({err:e,tnx:"send",messageId:i},"Failed creating message for %s. %s",i,e.message)});return t(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:i,message:n})}let r=[];let o=0;n.on("readable",()=>{let e;while((e=n.read())!==null){r.push(e);o+=e.length}});n.once("error",e=>{this.logger.error({err:e,tnx:"send",messageId:i},"Failed creating message for %s. %s",i,e.message);return t(e)});n.on("end",()=>t(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:i,message:Buffer.concat(r,o)}))})}}e.exports=o},78328:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.setModulusLength=t.weakMap=void 0;t.weakMap=new WeakMap;const n=(e,t)=>{let i=e.readUInt8(1);if((i&128)===0){if(t===0){return i}return n(e.subarray(2+i),t-1)}const r=i&127;i=0;for(let t=0;t<r;t++){i<<=8;const n=e.readUInt8(2+t);i|=n}if(t===0){return i}return n(e.subarray(2+i),t-1)};const i=(e,t)=>{const i=e.readUInt8(1);if((i&128)===0){return n(e.subarray(2),t)}const r=i&127;return n(e.subarray(2+r),t)};const r=e=>{var n,r;if(t.weakMap.has(e)){return t.weakMap.get(e)}const o=(r=(n=e.asymmetricKeyDetails)===null||n===void 0?void 0:n.modulusLength)!==null&&r!==void 0?r:i(e.export({format:"der",type:"pkcs1"}),e.type==="private"?1:0)-1<<3;t.weakMap.set(e,o);return o};const o=(e,n)=>{t.weakMap.set(e,n)};t.setModulusLength=o;t["default"]=(e,t)=>{if(r(e)<2048){throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}}},78335:()=>{},78680:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.withAlg=void 0;function n(e,t,...i){if(i.length>2){const t=i.pop();e+=`one of type ${i.join(", ")}, or ${t}.`}else if(i.length===2){e+=`one of type ${i[0]} or ${i[1]}.`}else{e+=`of type ${i[0]}.`}if(t==null){e+=` Received ${t}`}else if(typeof t==="function"&&t.name){e+=` Received function ${t.name}`}else if(typeof t==="object"&&t!=null){if(t.constructor&&t.constructor.name){e+=` Received an instance of ${t.constructor.name}`}}return e}t["default"]=(e,...t)=>{return n("Key must be ",e,...t)};function i(e,t,...r){return n(`Key for the ${e} algorithm must be `,t,...r)}t.withAlg=i},78830:e=>{e.exports=e=>!!e&&e.constructor===Object},79428:e=>{"use strict";e.exports=require("buffer")},79524:(e,t,n)=>{"use strict";const i=n(79646).spawn;const r=n(49074);const o=n(91292);class s{constructor(e){e=e||{};this._spawn=i;this.options=e||{};this.name="Sendmail";this.version=r.version;this.path="sendmail";this.args=false;this.winbreak=false;this.logger=o.getLogger(this.options,{component:this.options.component||"sendmail"});if(e){if(typeof e==="string"){this.path=e}else if(typeof e==="object"){if(e.path){this.path=e.path}if(Array.isArray(e.args)){this.args=e.args}this.winbreak=["win","windows","dos","\r\n"].includes((e.newline||"").toString().toLowerCase())}}}send(e,t){e.message.keepBcc=true;let n=e.data.envelope||e.message.getEnvelope();let i=e.message.messageId();let r;let o;let s;const a=[].concat(n.from||[]).concat(n.to||[]).some(e=>/^-/.test(e));if(a){return t(new Error("Can not send mail. Invalid envelope addresses."))}if(this.args){r=["-i"].concat(this.args).concat(n.to)}else{r=["-i"].concat(n.from?["-f",n.from]:[]).concat(n.to)}let c=n=>{if(s){return}s=true;if(typeof t==="function"){if(n){return t(n)}else{return t(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:i,response:"Messages queued for delivery"})}}};try{o=this._spawn(this.path,r)}catch(e){this.logger.error({err:e,tnx:"spawn",messageId:i},"Error occurred while spawning sendmail. %s",e.message);return c(e)}if(o){o.on("error",e=>{this.logger.error({err:e,tnx:"spawn",messageId:i},"Error occurred when sending message %s. %s",i,e.message);c(e)});o.once("exit",e=>{if(!e){return c()}let t;if(e===127){t=new Error("Sendmail command not found, process exited with code "+e)}else{t=new Error("Sendmail exited with code "+e)}this.logger.error({err:t,tnx:"stdin",messageId:i},"Error sending message %s to sendmail. %s",i,t.message);c(t)});o.once("close",c);o.stdin.on("error",e=>{this.logger.error({err:e,tnx:"stdin",messageId:i},"Error occurred when piping message %s to sendmail. %s",i,e.message);c(e)});let t=[].concat(n.to||[]);if(t.length>3){t.push("...and "+t.splice(2).length+" more")}this.logger.info({tnx:"send",messageId:i},"Sending message %s to <%s>",i,t.join(", "));let r=e.message.createReadStream();r.once("error",e=>{this.logger.error({err:e,tnx:"stdin",messageId:i},"Error occurred when generating message %s. %s",i,e.message);o.kill("SIGINT");c(e)});r.pipe(o.stdin)}else{return c(new Error("sendmail was not found"))}}}e.exports=s},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(55511);let r;t["default"]=e=>{r||(r=new Set((0,i.getCiphers)()));return r.has(e)}},80028:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.jwkImport=t.jwkExport=t.rsaPssParams=t.oneShotCallback=void 0;const[n,i]=process.versions.node.split(".").map(e=>parseInt(e,10));t.oneShotCallback=n>=16||n===15&&i>=13;t.rsaPssParams=!("electron"in process.versions)&&(n>=17||n===16&&i>=9);t.jwkExport=n>=16||n===15&&i>=9;t.jwkImport=n>=16||n===15&&i>=12},80335:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(78680);const r=n(37265);const o=(e,t)=>{if(t instanceof Uint8Array)return;if(!(0,r.default)(t)){throw new TypeError((0,i.withAlg)(e,t,...r.types,"Uint8Array"))}if(t.type!=="secret"){throw new TypeError(`${r.types.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}};const s=(e,t,n)=>{if(!(0,r.default)(t)){throw new TypeError((0,i.withAlg)(e,t,...r.types))}if(t.type==="secret"){throw new TypeError(`${r.types.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`)}if(n==="sign"&&t.type==="public"){throw new TypeError(`${r.types.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`)}if(n==="decrypt"&&t.type==="public"){throw new TypeError(`${r.types.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`)}if(t.algorithm&&n==="verify"&&t.type==="private"){throw new TypeError(`${r.types.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`)}if(t.algorithm&&n==="encrypt"&&t.type==="private"){throw new TypeError(`${r.types.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)}};const a=(e,t,n)=>{const i=e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e);if(i){o(e,t)}else{s(e,t,n)}};t["default"]=a},81454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.compactDecrypt=void 0;const i=n(36736);const r=n(99938);const o=n(2594);async function s(e,t,n){if(e instanceof Uint8Array){e=o.decoder.decode(e)}if(typeof e!=="string"){throw new r.JWEInvalid("Compact JWE must be a string or Uint8Array")}const{0:s,1:a,2:c,3:l,4:p,length:d}=e.split(".");if(d!==5){throw new r.JWEInvalid("Invalid Compact JWE")}const u=await (0,i.flattenedDecrypt)({ciphertext:l,iv:c||undefined,protected:s||undefined,tag:p||undefined,encrypted_key:a||undefined},t,n);const h={plaintext:u.plaintext,protectedHeader:u.protectedHeader};if(typeof t==="function"){return{...h,key:u.key}}return h}t.compactDecrypt=s},81630:e=>{"use strict";e.exports=require("http")},81822:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(99938);const r=n(2594);const o=n(69717);const s=n(86852);const a=n(25110);const c=e=>e.toLowerCase().replace(/^application\//,"");const l=(e,t)=>{if(typeof e==="string"){return t.includes(e)}if(Array.isArray(e)){return t.some(Set.prototype.has.bind(new Set(e)))}return false};t["default"]=(e,t,n={})=>{const{typ:p}=n;if(p&&(typeof e.typ!=="string"||c(e.typ)!==c(p))){throw new i.JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed")}let d;try{d=JSON.parse(r.decoder.decode(t))}catch{}if(!(0,a.default)(d)){throw new i.JWTInvalid("JWT Claims Set must be a top-level JSON object")}const{requiredClaims:u=[],issuer:h,subject:f,audience:m,maxTokenAge:g}=n;if(g!==undefined)u.push("iat");if(m!==undefined)u.push("aud");if(f!==undefined)u.push("sub");if(h!==undefined)u.push("iss");for(const e of new Set(u.reverse())){if(!(e in d)){throw new i.JWTClaimValidationFailed(`missing required "${e}" claim`,e,"missing")}}if(h&&!(Array.isArray(h)?h:[h]).includes(d.iss)){throw new i.JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed")}if(f&&d.sub!==f){throw new i.JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed")}if(m&&!l(d.aud,typeof m==="string"?[m]:m)){throw new i.JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed")}let v;switch(typeof n.clockTolerance){case"string":v=(0,s.default)(n.clockTolerance);break;case"number":v=n.clockTolerance;break;case"undefined":v=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:y}=n;const _=(0,o.default)(y||new Date);if((d.iat!==undefined||g)&&typeof d.iat!=="number"){throw new i.JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid")}if(d.nbf!==undefined){if(typeof d.nbf!=="number"){throw new i.JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid")}if(d.nbf>_+v){throw new i.JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}}if(d.exp!==undefined){if(typeof d.exp!=="number"){throw new i.JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid")}if(d.exp<=_-v){throw new i.JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}}if(g){const e=_-d.iat;const t=typeof g==="number"?g:(0,s.default)(g);if(e-v>t){throw new i.JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed")}if(e<0-v){throw new i.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}}return d}},83872:(e,t,n)=>{const{inspect:i}=n(28354);const r=n(81630);const o=n(55511);const{strict:s}=n(12412);const a=n(11723);const c=n(79551);const{URL:l,URLSearchParams:p}=n(79551);const d=n(37544);const u=n(76964);const h=n(97843);const f=n(913);const m=n(70885);const g=n(72115);const v=n(38700);const{assertSigningAlgValuesSupport:y,assertIssuerConfiguration:_}=n(2279);const w=n(24740);const x=n(78830);const b=n(48160);const k=n(24453);const{OPError:E,RPError:S}=n(61408);const A=n(16156);const{random:T}=n(35571);const O=n(9552);const{CLOCK_TOLERANCE:C}=n(43325);const{keystores:P}=n(55132);const j=n(28577);const I=n(93929);const{authenticatedPost:R,resolveResponseType:H,resolveRedirectUri:M}=n(49450);const{queryKeyStore:U}=n(73602);const N=n(30641);const[J,W]=process.version.slice(1).split(".").map(e=>parseInt(e,10));const L=J>=17||J===16&&W>=9;const D=Symbol();const K=Symbol();const z=Symbol();function q(e){return w(e,"access_token","code","error_description","error_uri","error","expires_in","id_token","iss","response","session_state","state","token_type")}function B(e,t="Bearer"){return`${t} ${e}`}function $(e){const t=c.parse(e);if(!t.search)return{};return a.parse(t.search.substring(1))}function F(e,t,n){if(e[n]===undefined){throw new S({message:`missing required JWT property ${n}`,jwt:t})}}function G(e){const t={client_id:this.client_id,scope:"openid",response_type:H.call(this),redirect_uri:M.call(this),...e};Object.entries(t).forEach(([e,n])=>{if(n===null||n===undefined){delete t[e]}else if(e==="claims"&&typeof n==="object"){t[e]=JSON.stringify(n)}else if(e==="resource"&&Array.isArray(n)){t[e]=n}else if(typeof n!=="string"){t[e]=String(n)}});return t}function V(e){if(!x(e)||!Array.isArray(e.keys)||e.keys.some(e=>!x(e)||!("kty"in e))){throw new TypeError("jwks must be a JSON Web Key Set formatted object")}return j.fromJWKS(e,{onlyPrivate:true})}function X(e,t){try{const n=e.issuer.token_endpoint_auth_methods_supported;if(!n.includes(t.token_endpoint_auth_method)){if(n.includes("client_secret_post")){t.token_endpoint_auth_method="client_secret_post"}}}catch(e){}}function Q(e,t,n){if(!t.token_endpoint_auth_method){X(e,n)}if(t.redirect_uri){if(t.redirect_uris){throw new TypeError("provide a redirect_uri or redirect_uris, not both")}n.redirect_uris=[t.redirect_uri];delete n.redirect_uri}if(t.response_type){if(t.response_types){throw new TypeError("provide a response_type or response_types, not both")}n.response_types=[t.response_type];delete n.response_type}}function Y(e,t,n){if(!t[`${e}_endpoint`])return;const i=n.token_endpoint_auth_method;const r=n.token_endpoint_auth_signing_alg;const o=`${e}_endpoint_auth_method`;const s=`${e}_endpoint_auth_signing_alg`;if(n[o]===undefined&&n[s]===undefined){if(i!==undefined){n[o]=i}if(r!==undefined){n[s]=r}}}class Z{#e;#d;#u;#h;constructor(e,t,n={},i,r){this.#e=new Map;this.#d=e;this.#u=t;if(typeof n.client_id!=="string"||!n.client_id){throw new TypeError("client_id is required")}const o={grant_types:["authorization_code"],id_token_signed_response_alg:"RS256",authorization_signed_response_alg:"RS256",response_types:["code"],token_endpoint_auth_method:"client_secret_basic",...this.fapi1()?{grant_types:["authorization_code","implicit"],id_token_signed_response_alg:"PS256",authorization_signed_response_alg:"PS256",response_types:["code id_token"],tls_client_certificate_bound_access_tokens:true,token_endpoint_auth_method:undefined}:undefined,...this.fapi2()?{id_token_signed_response_alg:"PS256",authorization_signed_response_alg:"PS256",token_endpoint_auth_method:undefined}:undefined,...n};if(this.fapi()){switch(o.token_endpoint_auth_method){case"self_signed_tls_client_auth":case"tls_client_auth":break;case"private_key_jwt":if(!i){throw new TypeError("jwks is required")}break;case undefined:throw new TypeError("token_endpoint_auth_method is required");default:throw new TypeError("invalid or unsupported token_endpoint_auth_method")}}if(this.fapi2()){if(o.tls_client_certificate_bound_access_tokens&&o.dpop_bound_access_tokens){throw new TypeError("either tls_client_certificate_bound_access_tokens or dpop_bound_access_tokens must be set to true")}if(!o.tls_client_certificate_bound_access_tokens&&!o.dpop_bound_access_tokens){throw new TypeError("either tls_client_certificate_bound_access_tokens or dpop_bound_access_tokens must be set to true")}}Q(this,n,o);y("token",this.issuer,o);["introspection","revocation"].forEach(e=>{Y(e,this.issuer,o);y(e,this.issuer,o)});Object.entries(o).forEach(([e,t])=>{this.#e.set(e,t);if(!this[e]){Object.defineProperty(this,e,{get(){return this.#e.get(e)},enumerable:true})}});if(i!==undefined){const e=V.call(this,i);P.set(this,e)}if(r!=null&&r.additionalAuthorizedParties){this.#h=I(r.additionalAuthorizedParties)}this[C]=0}authorizationUrl(e={}){if(!x(e)){throw new TypeError("params must be a plain object")}_(this.issuer,"authorization_endpoint");const t=new l(this.issuer.authorization_endpoint);for(const[n,i]of Object.entries(G.call(this,e))){if(Array.isArray(i)){t.searchParams.delete(n);for(const e of i){t.searchParams.append(n,e)}}else{t.searchParams.set(n,i)}}return t.href.replace(/\+/g,"%20")}authorizationPost(e={}){if(!x(e)){throw new TypeError("params must be a plain object")}const t=G.call(this,e);const n=Object.keys(t).map(e=>`<input type="hidden" name="${e}" value="${t[e]}"/>`).join("\n");return`<!DOCTYPE html>
<head>
<title>Requesting Authorization</title>
</head>
<body onload="javascript:document.forms[0].submit()">
<form method="post" action="${this.issuer.authorization_endpoint}">
  ${n}
</form>
</body>
</html>`}endSessionUrl(e={}){_(this.issuer,"end_session_endpoint");const{0:t,length:n}=this.post_logout_redirect_uris||[];const{post_logout_redirect_uri:i=n===1?t:undefined}=e;let r;({id_token_hint:r,...e}=e);if(r instanceof k){if(!r.id_token){throw new TypeError("id_token not present in TokenSet")}r=r.id_token}const o=c.parse(this.issuer.end_session_endpoint);const s=g($(this.issuer.end_session_endpoint),e,{post_logout_redirect_uri:i,client_id:this.client_id},{id_token_hint:r});Object.entries(s).forEach(([e,t])=>{if(t===null||t===undefined){delete s[e]}});o.search=null;o.query=s;return c.format(o)}callbackParams(e){const t=e instanceof r.IncomingMessage||e&&e.method&&e.url;const n=typeof e==="string";if(!n&&!t){throw new TypeError("#callbackParams only accepts string urls, http.IncomingMessage or a lookalike")}if(t){switch(e.method){case"GET":return q($(e.url));case"POST":if(e.body===undefined){throw new TypeError("incoming message body missing, include a body parser prior to this method call")}switch(typeof e.body){case"object":case"string":if(Buffer.isBuffer(e.body)){return q(a.parse(e.body.toString("utf-8")))}if(typeof e.body==="string"){return q(a.parse(e.body))}return q(e.body);default:throw new TypeError("invalid IncomingMessage body object")}default:throw new TypeError("invalid IncomingMessage method")}}else{return q($(e))}}async callback(e,t,n={},{exchangeBody:i,clientAssertionPayload:r,DPoP:o}={}){let s=q(t);if(n.jarm&&!("response"in t)){throw new S({message:"expected a JARM response",checks:n,params:s})}else if("response"in t){const e=await this.decryptJARM(s.response);s=await this.validateJARM(e)}if(this.default_max_age&&!n.max_age){n.max_age=this.default_max_age}if(s.state&&!n.state){throw new TypeError("checks.state argument is missing")}if(!s.state&&n.state){throw new S({message:"state missing from the response",checks:n,params:s})}if(n.state!==s.state){throw new S({printf:["state mismatch, expected %s, got: %s",n.state,s.state],checks:n,params:s})}if("iss"in s){_(this.issuer,"issuer");if(s.iss!==this.issuer.issuer){throw new S({printf:["iss mismatch, expected %s, got: %s",this.issuer.issuer,s.iss],params:s})}}else if(this.issuer.authorization_response_iss_parameter_supported&&!("id_token"in s)&&!("response"in t)){throw new S({message:"iss missing from the response",params:s})}if(s.error){throw new E(s)}const a={code:["code"],id_token:["id_token"],token:["access_token","token_type"]};if(n.response_type){for(const e of n.response_type.split(" ")){if(e==="none"){if(s.code||s.id_token||s.access_token){throw new S({message:'unexpected params encountered for "none" response',checks:n,params:s})}}else{for(const t of a[e]){if(!s[t]){throw new S({message:`${t} missing from response`,checks:n,params:s})}}}}}if(s.id_token){const e=new k(s);await this.decryptIdToken(e);await this.validateIdToken(e,n.nonce,"authorization",n.max_age,n.state);if(!s.code){return e}}if(s.code){const t=await this.grant({...i,grant_type:"authorization_code",code:s.code,redirect_uri:e,code_verifier:n.code_verifier},{clientAssertionPayload:r,DPoP:o});await this.decryptIdToken(t);await this.validateIdToken(t,n.nonce,"token",n.max_age);if(s.session_state){t.session_state=s.session_state}return t}return new k(s)}async oauthCallback(e,t,n={},{exchangeBody:i,clientAssertionPayload:r,DPoP:o}={}){let s=q(t);if(n.jarm&&!("response"in t)){throw new S({message:"expected a JARM response",checks:n,params:s})}else if("response"in t){const e=await this.decryptJARM(s.response);s=await this.validateJARM(e)}if(s.state&&!n.state){throw new TypeError("checks.state argument is missing")}if(!s.state&&n.state){throw new S({message:"state missing from the response",checks:n,params:s})}if(n.state!==s.state){throw new S({printf:["state mismatch, expected %s, got: %s",n.state,s.state],checks:n,params:s})}if("iss"in s){_(this.issuer,"issuer");if(s.iss!==this.issuer.issuer){throw new S({printf:["iss mismatch, expected %s, got: %s",this.issuer.issuer,s.iss],params:s})}}else if(this.issuer.authorization_response_iss_parameter_supported&&!("id_token"in s)&&!("response"in t)){throw new S({message:"iss missing from the response",params:s})}if(s.error){throw new E(s)}if(typeof s.id_token==="string"&&s.id_token.length){throw new S({message:"id_token detected in the response, you must use client.callback() instead of client.oauthCallback()",params:s})}delete s.id_token;const a={code:["code"],token:["access_token","token_type"]};if(n.response_type){for(const e of n.response_type.split(" ")){if(e==="none"){if(s.code||s.id_token||s.access_token){throw new S({message:'unexpected params encountered for "none" response',checks:n,params:s})}}if(a[e]){for(const t of a[e]){if(!s[t]){throw new S({message:`${t} missing from response`,checks:n,params:s})}}}}}if(s.code){const t=await this.grant({...i,grant_type:"authorization_code",code:s.code,redirect_uri:e,code_verifier:n.code_verifier},{clientAssertionPayload:r,DPoP:o});if(typeof t.id_token==="string"&&t.id_token.length){throw new S({message:"id_token detected in the response, you must use client.callback() instead of client.oauthCallback()",params:s})}delete t.id_token;return t}return new k(s)}async decryptIdToken(e){if(!this.id_token_encrypted_response_alg){return e}let t=e;if(t instanceof k){if(!t.id_token){throw new TypeError("id_token not present in TokenSet")}t=t.id_token}const n=this.id_token_encrypted_response_alg;const i=this.id_token_encrypted_response_enc;const r=await this.decryptJWE(t,n,i);if(e instanceof k){e.id_token=r;return e}return r}async validateJWTUserinfo(e){const t=this.userinfo_signed_response_alg;return this.validateJWT(e,t,[])}async decryptJARM(e){if(!this.authorization_encrypted_response_alg){return e}const t=this.authorization_encrypted_response_alg;const n=this.authorization_encrypted_response_enc;return this.decryptJWE(e,t,n)}async decryptJWTUserinfo(e){if(!this.userinfo_encrypted_response_alg){return e}const t=this.userinfo_encrypted_response_alg;const n=this.userinfo_encrypted_response_enc;return this.decryptJWE(e,t,n)}async decryptJWE(e,t,n="A128CBC-HS256"){const i=JSON.parse(m.decode(e.split(".")[0]));if(i.alg!==t){throw new S({printf:["unexpected JWE alg received, expected %s, got: %s",t,i.alg],jwt:e})}if(i.enc!==n){throw new S({printf:["unexpected JWE enc received, expected %s, got: %s",n,i.enc],jwt:e})}const r=e=>new TextDecoder().decode(e.plaintext);let o;if(t.match(/^(?:RSA|ECDH)/)){const t=await P.get(this);const n=d.decodeProtectedHeader(e);for(const i of t.all({...n,use:"enc"})){o=await d.compactDecrypt(e,await i.keyObject(n.alg)).then(r,()=>{});if(o)break}}else{o=await d.compactDecrypt(e,this.secretForAlg(t==="dir"?n:t)).then(r,()=>{})}if(!o){throw new S({message:"failed to decrypt JWE",jwt:e})}return o}async validateIdToken(e,t,n,i,r){let o=e;const s=this.id_token_signed_response_alg;const a=o instanceof k;if(a){if(!o.id_token){throw new TypeError("id_token not present in TokenSet")}o=o.id_token}o=String(o);const c=A();const{protected:l,payload:p,key:d}=await this.validateJWT(o,s);if(typeof i==="number"||i!==z&&this.require_auth_time){if(!p.auth_time){throw new S({message:"missing required JWT property auth_time",jwt:o})}if(typeof p.auth_time!=="number"){throw new S({message:"JWT auth_time claim must be a JSON numeric value",jwt:o})}}if(typeof i==="number"&&p.auth_time+i<c-this[C]){throw new S({printf:["too much time has elapsed since the last End-User authentication, max_age %i, auth_time: %i, now %i",i,p.auth_time,c-this[C]],now:c,tolerance:this[C],auth_time:p.auth_time,jwt:o})}if(t!==K&&(p.nonce||t!==undefined)&&p.nonce!==t){throw new S({printf:["nonce mismatch, expected %s, got: %s",t,p.nonce],jwt:o})}if(n==="authorization"){if(!p.at_hash&&e.access_token){throw new S({message:"missing required property at_hash",jwt:o})}if(!p.c_hash&&e.code){throw new S({message:"missing required property c_hash",jwt:o})}if(this.fapi1()){if(!p.s_hash&&(e.state||r)){throw new S({message:"missing required property s_hash",jwt:o})}}if(p.s_hash){if(!r){throw new TypeError('cannot verify s_hash, "checks.state" property not provided')}try{u.validate({claim:"s_hash",source:"state"},p.s_hash,r,l.alg,d.jwk&&d.jwk.crv)}catch(e){throw new S({message:e.message,jwt:o})}}}if(this.fapi()&&p.iat<c-3600){throw new S({printf:["JWT issued too far in the past, now %i, iat %i",c,p.iat],now:c,tolerance:this[C],iat:p.iat,jwt:o})}if(e.access_token&&p.at_hash!==undefined){try{u.validate({claim:"at_hash",source:"access_token"},p.at_hash,e.access_token,l.alg,d.jwk&&d.jwk.crv)}catch(e){throw new S({message:e.message,jwt:o})}}if(e.code&&p.c_hash!==undefined){try{u.validate({claim:"c_hash",source:"code"},p.c_hash,e.code,l.alg,d.jwk&&d.jwk.crv)}catch(e){throw new S({message:e.message,jwt:o})}}return e}async validateJWT(e,t,n=["iss","sub","aud","exp","iat"]){const i=this.issuer.issuer==="https://self-issued.me";const r=A();let o;let a;try{({header:o,payload:a}=f(e,{complete:true}))}catch(t){throw new S({printf:["failed to decode JWT (%s: %s)",t.name,t.message],jwt:e})}if(o.alg!==t){throw new S({printf:["unexpected JWT alg received, expected %s, got: %s",t,o.alg],jwt:e})}if(i){n=[...n,"sub_jwk"]}n.forEach(F.bind(undefined,a,e));if(a.iss!==undefined){let t=this.issuer.issuer;if(this.#u){t=this.issuer.issuer.replace("{tenantid}",a.tid)}if(a.iss!==t){throw new S({printf:["unexpected iss value, expected %s, got: %s",t,a.iss],jwt:e})}}if(a.iat!==undefined){if(typeof a.iat!=="number"){throw new S({message:"JWT iat claim must be a JSON numeric value",jwt:e})}}if(a.nbf!==undefined){if(typeof a.nbf!=="number"){throw new S({message:"JWT nbf claim must be a JSON numeric value",jwt:e})}if(a.nbf>r+this[C]){throw new S({printf:["JWT not active yet, now %i, nbf %i",r+this[C],a.nbf],now:r,tolerance:this[C],nbf:a.nbf,jwt:e})}}if(a.exp!==undefined){if(typeof a.exp!=="number"){throw new S({message:"JWT exp claim must be a JSON numeric value",jwt:e})}if(r-this[C]>=a.exp){throw new S({printf:["JWT expired, now %i, exp %i",r-this[C],a.exp],now:r,tolerance:this[C],exp:a.exp,jwt:e})}}if(a.aud!==undefined){if(Array.isArray(a.aud)){if(a.aud.length>1&&!a.azp){throw new S({message:"missing required JWT property azp",jwt:e})}if(!a.aud.includes(this.client_id)){throw new S({printf:["aud is missing the client_id, expected %s to be included in %j",this.client_id,a.aud],jwt:e})}}else if(a.aud!==this.client_id){throw new S({printf:["aud mismatch, expected %s, got: %s",this.client_id,a.aud],jwt:e})}}if(a.azp!==undefined){let t=this.#h;if(typeof t==="string"){t=[this.client_id,t]}else if(Array.isArray(t)){t=[this.client_id,...t]}else{t=[this.client_id]}if(!t.includes(a.azp)){throw new S({printf:["azp mismatch, got: %s",a.azp],jwt:e})}}let c;if(i){try{s(x(a.sub_jwk));const e=await d.importJWK(a.sub_jwk,o.alg);s.equal(e.type,"public");c=[{keyObject(){return e}}]}catch(t){throw new S({message:"failed to use sub_jwk claim as an asymmetric JSON Web Key",jwt:e})}if(await d.calculateJwkThumbprint(a.sub_jwk)!==a.sub){throw new S({message:"failed to match the subject with sub_jwk",jwt:e})}}else if(o.alg.startsWith("HS")){c=[this.secretForAlg(o.alg)]}else if(o.alg!=="none"){c=await U.call(this.issuer,{...o,use:"sig"})}if(!c&&o.alg==="none"){return{protected:o,payload:a}}for(const t of c){const n=await d.compactVerify(e,t instanceof Uint8Array?t:await t.keyObject(o.alg)).catch(()=>{});if(n){return{payload:a,protected:n.protectedHeader,key:t}}}throw new S({message:"failed to validate JWT signature",jwt:e})}async refresh(e,{exchangeBody:t,clientAssertionPayload:n,DPoP:i}={}){let r=e;if(r instanceof k){if(!r.refresh_token){throw new TypeError("refresh_token not present in TokenSet")}r=r.refresh_token}const o=await this.grant({...t,grant_type:"refresh_token",refresh_token:String(r)},{clientAssertionPayload:n,DPoP:i});if(o.id_token){await this.decryptIdToken(o);await this.validateIdToken(o,K,"token",z);if(e instanceof k&&e.id_token){const t=e.claims().sub;const n=o.claims().sub;if(n!==t){throw new S({printf:["sub mismatch, expected %s, got: %s",t,n],jwt:o.id_token})}}}return o}async requestResource(e,t,{method:n,headers:i,body:r,DPoP:o,tokenType:s=o?"DPoP":t instanceof k?t.token_type:"Bearer"}={},a){if(t instanceof k){if(!t.access_token){throw new TypeError("access_token not present in TokenSet")}t=t.access_token}if(!t){throw new TypeError("no access token provided")}else if(typeof t!=="string"){throw new TypeError("invalid access token provided")}const c={headers:{Authorization:B(t,s),...i},body:r};const l=!!this.tls_client_certificate_bound_access_tokens;const p=await O.call(this,{...c,responseType:"buffer",method:n,url:e},{accessToken:t,mTLS:l,DPoP:o});const d=p.headers["www-authenticate"];if(a!==D&&d&&d.toLowerCase().startsWith("dpop ")&&v(d).error==="use_dpop_nonce"){return this.requestResource(e,t,{method:n,headers:i,body:r,DPoP:o,tokenType:s})}return p}async userinfo(e,{method:t="GET",via:n="header",tokenType:i,params:r,DPoP:o}={}){_(this.issuer,"userinfo_endpoint");const a={tokenType:i,method:String(t).toUpperCase(),DPoP:o};if(a.method!=="GET"&&a.method!=="POST"){throw new TypeError("#userinfo() method can only be POST or a GET")}if(n==="body"&&a.method!=="POST"){throw new TypeError("can only send body on POST")}const c=!!(this.userinfo_signed_response_alg||this.userinfo_encrypted_response_alg);if(c){a.headers={Accept:"application/jwt"}}else{a.headers={Accept:"application/json"}}const d=!!this.tls_client_certificate_bound_access_tokens;let u;if(d&&this.issuer.mtls_endpoint_aliases){u=this.issuer.mtls_endpoint_aliases.userinfo_endpoint}u=new l(u||this.issuer.userinfo_endpoint);if(n==="body"){a.headers.Authorization=undefined;a.headers["Content-Type"]="application/x-www-form-urlencoded";a.body=new p;a.body.append("access_token",e instanceof k?e.access_token:e)}if(r){if(a.method==="GET"){Object.entries(r).forEach(([e,t])=>{u.searchParams.append(e,t)})}else if(a.body){Object.entries(r).forEach(([e,t])=>{a.body.append(e,t)})}else{a.body=new p;a.headers["Content-Type"]="application/x-www-form-urlencoded";Object.entries(r).forEach(([e,t])=>{a.body.append(e,t)})}}if(a.body){a.body=a.body.toString()}const h=await this.requestResource(u,e,a);let f=b(h,{bearer:true});if(c){if(!/^application\/jwt/.test(h.headers["content-type"])){throw new S({message:"expected application/jwt response from the userinfo_endpoint",response:h})}const e=h.body.toString();const t=await this.decryptJWTUserinfo(e);if(!this.userinfo_signed_response_alg){try{f=JSON.parse(t);s(x(f))}catch(e){throw new S({message:"failed to parse userinfo JWE payload as JSON",jwt:t})}}else{({payload:f}=await this.validateJWTUserinfo(t))}}else{try{f=JSON.parse(h.body)}catch(e){Object.defineProperty(e,"response",{value:h});throw e}}if(e instanceof k&&e.id_token){const t=e.claims().sub;if(f.sub!==t){throw new S({printf:["userinfo sub mismatch, expected %s, got: %s",t,f.sub],body:f,jwt:e.id_token})}}return f}encryptionSecret(e){const t=e<=256?"sha256":e<=384?"sha384":e<=512?"sha512":false;if(!t){throw new Error("unsupported symmetric encryption key derivation")}return o.createHash(t).update(this.client_secret).digest().slice(0,e/8)}secretForAlg(e){if(!this.client_secret){throw new TypeError("client_secret is required")}if(/^A(\d{3})(?:GCM)?KW$/.test(e)){return this.encryptionSecret(parseInt(RegExp.$1,10))}if(/^A(\d{3})(?:GCM|CBC-HS(\d{3}))$/.test(e)){return this.encryptionSecret(parseInt(RegExp.$2||RegExp.$1,10))}return new TextEncoder().encode(this.client_secret)}async grant(e,{clientAssertionPayload:t,DPoP:n}={},i){_(this.issuer,"token_endpoint");const r=await R.call(this,"token",{form:e,responseType:"json"},{clientAssertionPayload:t,DPoP:n});let o;try{o=b(r)}catch(r){if(i!==D&&r instanceof E&&r.error==="use_dpop_nonce"){return this.grant(e,{clientAssertionPayload:t,DPoP:n},D)}throw r}return new k(o)}async deviceAuthorization(e={},{exchangeBody:t,clientAssertionPayload:n,DPoP:i}={}){_(this.issuer,"device_authorization_endpoint");_(this.issuer,"token_endpoint");const r=G.call(this,{client_id:this.client_id,redirect_uri:null,response_type:null,...e});const o=await R.call(this,"device_authorization",{responseType:"json",form:r},{clientAssertionPayload:n,endpointAuthMethod:"token"});const s=b(o);return new N({client:this,exchangeBody:t,clientAssertionPayload:n,response:s,maxAge:e.max_age,DPoP:i})}async revoke(e,t,{revokeBody:n,clientAssertionPayload:i}={}){_(this.issuer,"revocation_endpoint");if(t!==undefined&&typeof t!=="string"){throw new TypeError("hint must be a string")}const r={...n,token:e};if(t){r.token_type_hint=t}const o=await R.call(this,"revocation",{form:r},{clientAssertionPayload:i});b(o,{body:false})}async introspect(e,t,{introspectBody:n,clientAssertionPayload:i}={}){_(this.issuer,"introspection_endpoint");if(t!==undefined&&typeof t!=="string"){throw new TypeError("hint must be a string")}const r={...n,token:e};if(t){r.token_type_hint=t}const o=await R.call(this,"introspection",{form:r,responseType:"json"},{clientAssertionPayload:i});const s=b(o);return s}static async register(e,t={}){const{initialAccessToken:n,jwks:i,...r}=t;_(this.issuer,"registration_endpoint");if(i!==undefined&&!(e.jwks||e.jwks_uri)){const t=await V.call(this,i);e.jwks=t.toJWKS()}const o=await O.call(this,{headers:{Accept:"application/json",...n?{Authorization:B(n)}:undefined},responseType:"json",json:e,url:this.issuer.registration_endpoint,method:"POST"});const s=b(o,{statusCode:201,bearer:true});return new this(s,i,r)}get metadata(){return I(Object.fromEntries(this.#e.entries()))}static async fromUri(e,t,n,i){const r=await O.call(this,{method:"GET",url:e,responseType:"json",headers:{Authorization:B(t),Accept:"application/json"}});const o=b(r,{bearer:true});return new this(o,n,i)}async requestObject(e={},{sign:t=this.request_object_signing_alg||"none",encrypt:{alg:n=this.request_object_encryption_alg,enc:i=this.request_object_encryption_enc||"A128CBC-HS256"}={}}={}){if(!x(e)){throw new TypeError("requestObject must be a plain object")}let r;let o;const s=A();const a={alg:t,typ:"oauth-authz-req+jwt"};const c=JSON.stringify(g({},e,{iss:this.client_id,aud:this.issuer.issuer,client_id:this.client_id,jti:T(),iat:s,exp:s+300,...this.fapi()?{nbf:s}:undefined}));if(t==="none"){r=[m.encode(JSON.stringify(a)),m.encode(c),""].join(".")}else{const e=t.startsWith("HS");if(e){o=this.secretForAlg(t)}else{const e=await P.get(this);if(!e){throw new TypeError(`no keystore present for client, cannot sign using alg ${t}`)}o=e.get({alg:t,use:"sig"});if(!o){throw new TypeError(`no key to sign with found for alg ${t}`)}}r=await new d.CompactSign(new TextEncoder().encode(c)).setProtectedHeader({...a,kid:e?undefined:o.jwk.kid}).sign(e?o:await o.keyObject(t))}if(!n){return r}const l={alg:n,enc:i,cty:"oauth-authz-req+jwt"};if(l.alg.match(/^(RSA|ECDH)/)){[o]=await U.call(this.issuer,{alg:l.alg,use:"enc"},{allowMulti:true})}else{o=this.secretForAlg(l.alg==="dir"?l.enc:l.alg)}return new d.CompactEncrypt(new TextEncoder().encode(r)).setProtectedHeader({...l,kid:o instanceof Uint8Array?undefined:o.jwk.kid}).encrypt(o instanceof Uint8Array?o:await o.keyObject(l.alg))}async pushedAuthorizationRequest(e={},{clientAssertionPayload:t}={}){_(this.issuer,"pushed_authorization_request_endpoint");const n={..."request"in e?e:G.call(this,e),client_id:this.client_id};const i=await R.call(this,"pushed_authorization_request",{responseType:"json",form:n},{clientAssertionPayload:t,endpointAuthMethod:"token"});const r=b(i,{statusCode:201});if(!("expires_in"in r)){throw new S({message:"expected expires_in in Pushed Authorization Successful Response",response:i})}if(typeof r.expires_in!=="number"){throw new S({message:"invalid expires_in value in Pushed Authorization Successful Response",response:i})}if(!("request_uri"in r)){throw new S({message:"expected request_uri in Pushed Authorization Successful Response",response:i})}if(typeof r.request_uri!=="string"){throw new S({message:"invalid request_uri value in Pushed Authorization Successful Response",response:i})}return r}get issuer(){return this.#d}[i.custom](){return`${this.constructor.name} ${i(this.metadata,{depth:Infinity,colors:process.stdout.isTTY,compact:false,sorted:true})}`}fapi(){return this.fapi1()||this.fapi2()}fapi1(){return this.constructor.name==="FAPI1Client"}fapi2(){return this.constructor.name==="FAPI2Client"}async validateJARM(e){const t=this.authorization_signed_response_alg;const{payload:n}=await this.validateJWT(e,t,["iss","exp","aud"]);return q(n)}async dpopProof(e,t,n){if(!x(e)){throw new TypeError("payload must be a plain object")}let i;if(h(t)){i=t}else if(t[Symbol.toStringTag]==="CryptoKey"){i=t}else if(d.cryptoRuntime==="node:crypto"){i=o.createPrivateKey(t)}else{throw new TypeError("unrecognized crypto runtime")}if(i.type!=="private"){throw new TypeError('"DPoP" option must be a private key')}let r=et.call(this,i,t);if(!r){throw new TypeError("could not determine DPoP JWS Algorithm")}return new d.SignJWT({ath:n?m.encode(o.createHash("sha256").update(n).digest()):undefined,...e}).setProtectedHeader({alg:r,typ:"dpop+jwt",jwk:await eo(i,t)}).setIssuedAt().setJti(T()).sign(i)}}function ee(e){switch(e.algorithm.name){case"Ed25519":case"Ed448":return"EdDSA";case"ECDSA":{switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:break}break}case"RSASSA-PKCS1-v1_5":return`RS${e.algorithm.hash.name.slice(4)}`;case"RSA-PSS":return`PS${e.algorithm.hash.name.slice(4)}`;default:throw new TypeError("unsupported DPoP private key")}}let et;if(d.cryptoRuntime==="node:crypto"){et=function(e,t){if(t[Symbol.toStringTag]==="CryptoKey"){return ee(e)}switch(e.asymmetricKeyType){case"ed25519":case"ed448":return"EdDSA";case"ec":return ei(e,t);case"rsa":case L&&"rsa-pss":return en(e,t,this.issuer.dpop_signing_alg_values_supported);default:throw new TypeError("unsupported DPoP private key")}};const e=/^(?:RS|PS)(?:256|384|512)$/;function en(t,n,i){if(typeof n==="object"&&n.format==="jwk"&&n.key&&n.key.alg){return n.key.alg}if(Array.isArray(i)){let n=i.filter(RegExp.prototype.test.bind(e));if(t.asymmetricKeyType==="rsa-pss"){n=n.filter(e=>e.startsWith("PS"))}return["PS256","PS384","PS512","RS256","RS384","RS384"].find(e=>n.includes(e))}return"PS256"}const t=Buffer.from([42,134,72,206,61,3,1,7]);const n=Buffer.from([43,129,4,0,34]);const i=Buffer.from([43,129,4,0,35]);const r=Buffer.from([43,129,4,0,10]);function ei(e,o){switch(typeof o==="object"&&typeof o.key==="object"&&o.key.crv){case"P-256":return"ES256";case"secp256k1":return"ES256K";case"P-384":return"ES384";case"P-512":return"ES512";default:break}const s=e.export({format:"der",type:"pkcs8"});const a=s[1]<128?17:18;const c=s[a];const l=s.slice(a+1,a+1+c);if(l.equals(t)){return"ES256"}if(l.equals(n)){return"ES384"}if(l.equals(i)){return"ES512"}if(l.equals(r)){return"ES256K"}throw new TypeError("unsupported DPoP private key curve")}}else{et=ee}const er=new WeakMap;async function eo(e,t){if(d.cryptoRuntime==="node:crypto"&&typeof t==="object"&&typeof t.key==="object"&&t.format==="jwk"){return w(t.key,"kty","crv","x","y","e","n")}if(er.has(t)){return er.get(t)}const n=w(await d.exportJWK(e),"kty","crv","x","y","e","n");if(h(t)||d.cryptoRuntime==="WebCryptoAPI"){er.set(t,n)}return n}e.exports=(e,t=false)=>class n extends Z{constructor(...n){super(e,t,...n)}static get issuer(){return e}};e.exports.BaseClient=Z},84681:(e,t,n)=>{"use strict";const i=n(94735);const r=n(20068);const o=n(16435);const s=n(91292);const a=n(21940);const c=n(49074);class l extends i{constructor(e){super();e=e||{};if(typeof e==="string"){e={url:e}}let t;let n=e.service;if(typeof e.getSocket==="function"){this.getSocket=e.getSocket}if(e.url){t=s.parseConnectionUrl(e.url);n=n||t.service}this.options=s.assign(false,e,t,n&&o(n));this.logger=s.getLogger(this.options,{component:this.options.component||"smtp-transport"});let i=new r(this.options);this.name="SMTP";this.version=c.version+"[client:"+i.version+"]";if(this.options.auth){this.auth=this.getAuth({})}}getSocket(e,t){return setImmediate(()=>t(null,false))}getAuth(e){if(!e){return this.auth}let t=false;let n={};if(this.options.auth&&typeof this.options.auth==="object"){Object.keys(this.options.auth).forEach(e=>{t=true;n[e]=this.options.auth[e]})}if(e&&typeof e==="object"){Object.keys(e).forEach(i=>{t=true;n[i]=e[i]})}if(!t){return false}switch((n.type||"").toString().toUpperCase()){case"OAUTH2":{if(!n.service&&!n.user){return false}let e=new a(n,this.logger);e.provisionCallback=this.mailer&&this.mailer.get("oauth2_provision_cb")||e.provisionCallback;e.on("token",e=>this.mailer.emit("token",e));e.on("error",e=>this.emit("error",e));return{type:"OAUTH2",user:n.user,oauth2:e,method:"XOAUTH2"}}default:return{type:(n.type||"").toString().toUpperCase()||"LOGIN",user:n.user,credentials:{user:n.user||"",pass:n.pass,options:n.options},method:(n.method||"").trim().toUpperCase()||this.options.authMethod||false}}}send(e,t){this.getSocket(this.options,(n,i)=>{if(n){return t(n)}let o=false;let a=this.options;if(i&&i.connection){this.logger.info({tnx:"proxy",remoteAddress:i.connection.remoteAddress,remotePort:i.connection.remotePort,destHost:a.host||"",destPort:a.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",i.connection.remoteAddress,i.connection.remotePort,a.host||"",a.port||"");a=s.assign(false,a);Object.keys(i).forEach(e=>{a[e]=i[e]})}let c=new r(a);c.once("error",e=>{if(o){return}o=true;c.close();return t(e)});c.once("end",()=>{if(o){return}let e=setTimeout(()=>{if(o){return}o=true;let e=new Error("Unexpected socket close");if(c&&c._socket&&c._socket.upgrading){e.code="ETLS"}t(e)},1e3);try{e.unref()}catch(e){}});let l=()=>{let n=e.message.getEnvelope();let i=e.message.messageId();let r=[].concat(n.to||[]);if(r.length>3){r.push("...and "+r.splice(2).length+" more")}if(e.data.dsn){n.dsn=e.data.dsn}this.logger.info({tnx:"send",messageId:i},"Sending message %s to <%s>",i,r.join(", "));c.send(n,e.message.createReadStream(),(e,r)=>{o=true;c.close();if(e){this.logger.error({err:e,tnx:"send"},"Send error for %s: %s",i,e.message);return t(e)}r.envelope={from:n.from,to:n.to};r.messageId=i;try{return t(null,r)}catch(e){this.logger.error({err:e,tnx:"callback"},"Callback error for %s: %s",i,e.message)}})};c.connect(()=>{if(o){return}let n=this.getAuth(e.data.auth);if(n&&(c.allowsAuth||a.forceAuth)){c.login(n,e=>{if(n&&n!==this.auth&&n.oauth2){n.oauth2.removeAllListeners()}if(o){return}if(e){o=true;c.close();return t(e)}l()})}else{l()}})})}verify(e){let t;if(!e){t=new Promise((t,n)=>{e=s.callbackPromise(t,n)})}this.getSocket(this.options,(t,n)=>{if(t){return e(t)}let i=this.options;if(n&&n.connection){this.logger.info({tnx:"proxy",remoteAddress:n.connection.remoteAddress,remotePort:n.connection.remotePort,destHost:i.host||"",destPort:i.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",n.connection.remoteAddress,n.connection.remotePort,i.host||"",i.port||"");i=s.assign(false,i);Object.keys(n).forEach(e=>{i[e]=n[e]})}let o=new r(i);let a=false;o.once("error",t=>{if(a){return}a=true;o.close();return e(t)});o.once("end",()=>{if(a){return}a=true;return e(new Error("Connection closed"))});let c=()=>{if(a){return}a=true;o.quit();return e(null,true)};o.connect(()=>{if(a){return}let t=this.getAuth({});if(t&&(o.allowsAuth||i.forceAuth)){o.login(t,t=>{if(a){return}if(t){a=true;o.close();return e(t)}c()})}else if(!t&&o.allowsAuth&&i.forceAuth){let t=new Error("Authentication info was not provided");t.code="NoAuth";a=true;o.close();return e(t)}else{c()}})});return t}close(){if(this.auth&&this.auth.oauth2){this.auth.oauth2.removeAllListeners()}this.emit("close")}}e.exports=l},84838:e=>{e.exports=function(){return':root{--border-width:1px;--border-radius:0.5rem;--color-error:#c94b4b;--color-info:#157efb;--color-info-hover:#0f6ddb;--color-info-text:#fff}.__next-auth-theme-auto,.__next-auth-theme-light{--color-background:#ececec;--color-background-hover:hsla(0,0%,93%,.8);--color-background-card:#fff;--color-text:#000;--color-primary:#444;--color-control-border:#bbb;--color-button-active-background:#f9f9f9;--color-button-active-border:#aaa;--color-separator:#ccc}.__next-auth-theme-dark{--color-background:#161b22;--color-background-hover:rgba(22,27,34,.8);--color-background-card:#0d1117;--color-text:#fff;--color-primary:#ccc;--color-control-border:#555;--color-button-active-background:#060606;--color-button-active-border:#666;--color-separator:#444}@media (prefers-color-scheme:dark){.__next-auth-theme-auto{--color-background:#161b22;--color-background-hover:rgba(22,27,34,.8);--color-background-card:#0d1117;--color-text:#fff;--color-primary:#ccc;--color-control-border:#555;--color-button-active-background:#060606;--color-button-active-border:#666;--color-separator:#444}a.button,button{background-color:var(--provider-dark-bg,var(--color-background));color:var(--provider-dark-color,var(--color-primary))}a.button:hover,button:hover{background-color:var(--provider-dark-bg-hover,var(--color-background-hover))!important}#provider-logo{display:none!important}#provider-logo-dark{display:block!important;width:25px}}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit;margin:0;padding:0}body{background-color:var(--color-background);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;margin:0;padding:0}h1{font-weight:400}h1,p{color:var(--color-text);margin-bottom:1.5rem;padding:0 1rem}form{margin:0;padding:0}label{font-weight:500;margin-bottom:.25rem;text-align:left}input[type],label{color:var(--color-text);display:block}input[type]{background:var(--color-background-card);border:var(--border-width) solid var(--color-control-border);border-radius:var(--border-radius);box-sizing:border-box;font-size:1rem;padding:.5rem 1rem;width:100%}input[type]:focus{box-shadow:none}p{font-size:1.1rem;line-height:2rem}a.button{line-height:1rem;text-decoration:none}a.button:link,a.button:visited{background-color:var(--color-background);color:var(--color-primary)}button span{flex-grow:1}a.button,button{align-items:center;background-color:var(--provider-bg);border-color:rgba(0,0,0,.1);border-radius:var(--border-radius);color:var(--provider-color,var(--color-primary));display:flex;font-size:1.1rem;font-weight:500;justify-content:center;min-height:62px;padding:.75rem 1rem;position:relative;transition:all .1s ease-in-out}a.button:hover,button:hover{background-color:var(--provider-bg-hover,var(--color-background-hover));cursor:pointer}a.button:active,button:active{cursor:pointer}a.button #provider-logo,button #provider-logo{display:block;width:25px}a.button #provider-logo-dark,button #provider-logo-dark{display:none}#submitButton{background-color:var(--brand-color,var(--color-info));color:var(--button-text-color,var(--color-info-text));width:100%}#submitButton:hover{background-color:var(--button-hover-bg,var(--color-info-hover))!important}a.site{color:var(--color-primary);font-size:1rem;line-height:2rem;text-decoration:none}a.site:hover{text-decoration:underline}.page{box-sizing:border-box;display:grid;height:100%;margin:0;padding:0;place-items:center;position:absolute;width:100%}.page>div{text-align:center}.error a.button{margin-top:.5rem;padding-left:2rem;padding-right:2rem}.error .message{margin-bottom:1.5rem}.signin input[type=text]{display:block;margin-left:auto;margin-right:auto}.signin hr{border:0;border-top:1px solid var(--color-separator);display:block;margin:2rem auto 1rem;overflow:visible}.signin hr:before{background:var(--color-background-card);color:#888;content:"or";padding:0 .4rem;position:relative;top:-.7rem}.signin .error{background:#f5f5f5;background:var(--color-error);border-radius:.3rem;font-weight:500}.signin .error p{color:var(--color-info-text);font-size:.9rem;line-height:1.2rem;padding:.5rem 1rem;text-align:left}.signin form,.signin>div{display:block}.signin form input[type],.signin>div input[type]{margin-bottom:.5rem}.signin form button,.signin>div button{width:100%}.signin .provider+.provider{margin-top:1rem}.logo{display:inline-block;margin:1.25rem 0;max-height:70px;max-width:150px}.card{background-color:var(--color-background-card);border-radius:2rem;padding:1.25rem 2rem}.card .header{color:var(--color-primary)}.section-header{color:var(--color-text)}@media screen and (min-width:450px){.card{margin:2rem 0;width:368px}}@media screen and (max-width:450px){.card{margin:1rem 0;width:343px}}'}},85634:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(55511);const r=n(42891);const o=n(51800);const s=n(2594);const a=n(99938);const c=n(21606);const l=n(34010);const p=n(17996);const d=n(50003);const u=n(90061);const h=n(78680);const f=n(79963);const m=n(37265);function g(e,t,n,r,o,p){const d=parseInt(e.slice(1,4),10);if((0,u.default)(t)){t=t.export()}const h=t.subarray(d>>3);const m=t.subarray(0,d>>3);const g=parseInt(e.slice(-3),10);const v=`aes-${d}-cbc`;if(!(0,f.default)(v)){throw new a.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`)}const y=(0,l.default)(p,r,n,g,m,d);let _;try{_=(0,c.default)(o,y)}catch{}if(!_){throw new a.JWEDecryptionFailed}let w;try{const e=(0,i.createDecipheriv)(v,h,r);w=(0,s.concat)(e.update(n),e.final())}catch{}if(!w){throw new a.JWEDecryptionFailed}return w}function v(e,t,n,r,o,s){const c=parseInt(e.slice(1,4),10);const l=`aes-${c}-gcm`;if(!(0,f.default)(l)){throw new a.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`)}try{const e=(0,i.createDecipheriv)(l,t,r,{authTagLength:16});e.setAuthTag(o);if(s.byteLength){e.setAAD(s,{plaintextLength:n.length})}const a=e.update(n);e.final();return a}catch{throw new a.JWEDecryptionFailed}}const y=(e,t,n,s,c,l)=>{let f;if((0,p.isCryptoKey)(t)){(0,d.checkEncCryptoKey)(t,e,"decrypt");f=i.KeyObject.from(t)}else if(t instanceof Uint8Array||(0,u.default)(t)){f=t}else{throw new TypeError((0,h.default)(t,...m.types,"Uint8Array"))}(0,o.default)(e,f);(0,r.default)(e,s);switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return g(e,f,n,s,c,l);case"A128GCM":case"A192GCM":case"A256GCM":return v(e,f,n,s,c,l);default:throw new a.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}};t["default"]=y},86280:(e,t,n)=>{"use strict";var i;i={value:true};Object.defineProperty(t,"b",{enumerable:true,get:function(){return h}});const r=n(92584);const o=n(29294);const s=n(63033);const a=n(84971);const c=n(80023);const l=n(68388);const p=n(76926);const d=n(44523);const u=n(8719);function h(){const e=o.workAsyncStorage.getStore();const t=s.workUnitAsyncStorage.getStore();if(e){if(t&&t.phase==="after"&&!(0,u.isRequestAPICallableInsideAfter)()){throw Object.defineProperty(new Error(`Route ${e.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E367",enumerable:false,configurable:true})}if(e.forceStatic){const e=r.HeadersAdapter.seal(new Headers({}));return g(e)}if(t){if(t.type==="cache"){throw Object.defineProperty(new Error(`Route ${e.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E304",enumerable:false,configurable:true})}else if(t.type==="unstable-cache"){throw Object.defineProperty(new Error(`Route ${e.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E127",enumerable:false,configurable:true})}}if(e.dynamicShouldError){throw Object.defineProperty(new c.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E525",enumerable:false,configurable:true})}if(t){if(t.type==="prerender"){return m(e.route,t)}else if(t.type==="prerender-ppr"){(0,a.postponeWithTracking)(e.route,"headers",t.dynamicTracking)}else if(t.type==="prerender-legacy"){(0,a.throwToInterruptStaticGeneration)("headers",e,t)}}(0,a.trackDynamicDataInDynamicRender)(e,t)}const n=(0,s.getExpectedRequestStore)("headers");if(false){}else{return g(n.headers)}}const f=new WeakMap;function m(e,t){const n=f.get(t);if(n){return n}const i=(0,l.makeHangingPromise)(t.renderSignal,"`headers()`");f.set(t,i);Object.defineProperties(i,{append:{value:function n(){const n=`\`headers().append(${y(arguments[0])}, ...)\``;const i=x(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},delete:{value:function n(){const n=`\`headers().delete(${y(arguments[0])})\``;const i=x(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},get:{value:function n(){const n=`\`headers().get(${y(arguments[0])})\``;const i=x(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},has:{value:function n(){const n=`\`headers().has(${y(arguments[0])})\``;const i=x(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},set:{value:function n(){const n=`\`headers().set(${y(arguments[0])}, ...)\``;const i=x(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},getSetCookie:{value:function n(){const n="`headers().getSetCookie()`";const i=x(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},forEach:{value:function n(){const n="`headers().forEach(...)`";const i=x(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},keys:{value:function n(){const n="`headers().keys()`";const i=x(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},values:{value:function n(){const n="`headers().values()`";const i=x(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},entries:{value:function n(){const n="`headers().entries()`";const i=x(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},[Symbol.iterator]:{value:function(){const n="`headers()[Symbol.iterator]()`";const i=x(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}}});return i}function g(e){const t=f.get(e);if(t){return t}const n=Promise.resolve(e);f.set(e,n);Object.defineProperties(n,{append:{value:e.append.bind(e)},delete:{value:e.delete.bind(e)},get:{value:e.get.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},getSetCookie:{value:e.getSetCookie.bind(e)},forEach:{value:e.forEach.bind(e)},keys:{value:e.keys.bind(e)},values:{value:e.values.bind(e)},entries:{value:e.entries.bind(e)},[Symbol.iterator]:{value:e[Symbol.iterator].bind(e)}});return n}function v(e,t){const n=f.get(e);if(n){return n}const i=new Promise(t=>(0,d.scheduleImmediate)(()=>t(e)));f.set(e,i);Object.defineProperties(i,{append:{value:function n(){const n=`\`headers().append(${y(arguments[0])}, ...)\``;_(t,n);return e.append.apply(e,arguments)}},delete:{value:function n(){const n=`\`headers().delete(${y(arguments[0])})\``;_(t,n);return e.delete.apply(e,arguments)}},get:{value:function n(){const n=`\`headers().get(${y(arguments[0])})\``;_(t,n);return e.get.apply(e,arguments)}},has:{value:function n(){const n=`\`headers().has(${y(arguments[0])})\``;_(t,n);return e.has.apply(e,arguments)}},set:{value:function n(){const n=`\`headers().set(${y(arguments[0])}, ...)\``;_(t,n);return e.set.apply(e,arguments)}},getSetCookie:{value:function n(){const n="`headers().getSetCookie()`";_(t,n);return e.getSetCookie.apply(e,arguments)}},forEach:{value:function n(){const n="`headers().forEach(...)`";_(t,n);return e.forEach.apply(e,arguments)}},keys:{value:function n(){const n="`headers().keys()`";_(t,n);return e.keys.apply(e,arguments)}},values:{value:function n(){const n="`headers().values()`";_(t,n);return e.values.apply(e,arguments)}},entries:{value:function n(){const n="`headers().entries()`";_(t,n);return e.entries.apply(e,arguments)}},[Symbol.iterator]:{value:function(){const n="`...headers()` or similar iteration";_(t,n);return e[Symbol.iterator].apply(e,arguments)}}});return i}function y(e){return typeof e==="string"?`'${e}'`:"..."}function _(e,t){const n=s.workUnitAsyncStorage.getStore();if(n&&n.type==="request"&&n.prerenderPhase===true){const e=n;(0,a.trackSynchronousRequestDataAccessInDev)(e)}w(e,t)}const w=(0,p.createDedupedByCallsiteServerErrorLoggerDev)(x);function x(e,t){const n=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${n}used ${t}. `+`\`headers()\` should be awaited before using its value. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:false,configurable:true})}},86305:(e,t,n)=>{var i=n(28339);var r=n(74113);function o(e,t,n,o,s){return new r(i().w(e,t,n,o),s||Promise)}e.exports=o,e.exports.__esModule=true,e.exports["default"]=e.exports},86505:(e,t,n)=>{const i=n(78830);function r(e,...t){for(const n of t){if(!i(n)){continue}for(const[t,o]of Object.entries(n)){if(t==="__proto__"||t==="constructor"){continue}if(i(e[t])&&i(o)){e[t]=r(e[t],o)}else if(typeof o!=="undefined"){e[t]=o}}}return e}e.exports=r},86852:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=60;const i=n*60;const r=i*24;const o=r*7;const s=r*365.25;const a=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;t["default"]=e=>{const t=a.exec(e);if(!t){throw new TypeError("Invalid time period format")}const c=parseFloat(t[1]);const l=t[2].toLowerCase();switch(l){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(c);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(c*n);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(c*i);case"day":case"days":case"d":return Math.round(c*r);case"week":case"weeks":case"w":return Math.round(c*o);default:return Math.round(c*s)}}},87451:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getBody=o;t.setCookie=r;t.toResponse=s;var i=n(25538);function r(e,t){var n;let r=(n=e.getHeader("Set-Cookie"))!==null&&n!==void 0?n:[];if(!Array.isArray(r)){r=[r]}const{name:o,value:s,options:a}=t;const c=(0,i.serialize)(o,s,a);r.push(c);e.setHeader("Set-Cookie",r)}async function o(e){if(!("body"in e)||!e.body||e.method!=="POST")return;const t=e.headers.get("content-type");if(t!==null&&t!==void 0&&t.includes("application/json")){return await e.json()}else if(t!==null&&t!==void 0&&t.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams(await e.text());return Object.fromEntries(t)}}function s(e){var t,n,r;const o=new Headers((t=e.headers)===null||t===void 0?void 0:t.reduce((e,{key:t,value:n})=>{e[t]=n;return e},{}));(n=e.cookies)===null||n===void 0||n.forEach(e=>{const{name:t,value:n,options:r}=e;const s=(0,i.serialize)(t,n,r);if(o.has("Set-Cookie"))o.append("Set-Cookie",s);else o.set("Set-Cookie",s)});let s=e.body;if(o.get("content-type")==="application/json")s=JSON.stringify(e.body);else if(o.get("content-type")==="application/x-www-form-urlencoded")s=new URLSearchParams(e.body).toString();const a=e.redirect?302:(r=e.status)!==null&&r!==void 0?r:200;const c=new Response(s,{headers:o,status:a});if(e.redirect)c.headers.set("Location",e.redirect);return c}},88062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.unwrap=t.wrap=void 0;const i=n(79428);const r=n(55511);const o=n(99938);const s=n(2594);const a=n(17996);const c=n(50003);const l=n(90061);const p=n(78680);const d=n(79963);const u=n(37265);function h(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10)){throw new TypeError(`Invalid key size for alg: ${t}`)}}function f(e,t,n){if((0,l.default)(e)){return e}if(e instanceof Uint8Array){return(0,r.createSecretKey)(e)}if((0,a.isCryptoKey)(e)){(0,c.checkEncCryptoKey)(e,t,n);return r.KeyObject.from(e)}throw new TypeError((0,p.default)(e,...u.types,"Uint8Array"))}const m=(e,t,n)=>{const a=parseInt(e.slice(1,4),10);const c=`aes${a}-wrap`;if(!(0,d.default)(c)){throw new o.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}const l=f(t,e,"wrapKey");h(l,e);const p=(0,r.createCipheriv)(c,l,i.Buffer.alloc(8,166));return(0,s.concat)(p.update(n),p.final())};t.wrap=m;const g=(e,t,n)=>{const a=parseInt(e.slice(1,4),10);const c=`aes${a}-wrap`;if(!(0,d.default)(c)){throw new o.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}const l=f(t,e,"unwrapKey");h(l,e);const p=(0,r.createDecipheriv)(c,l,i.Buffer.alloc(8,166));return(0,s.concat)(p.update(n),p.final())};t.unwrap=g},89047:(e,t,n)=>{"use strict";const i=n(27910).Transform;class r extends i{constructor(){super();this.lastByte=false}_transform(e,t,n){if(e.length){this.lastByte=e[e.length-1]}this.push(e);n()}_flush(e){if(this.lastByte===10){return e()}if(this.lastByte===13){this.push(Buffer.from("\n"));return e()}this.push(Buffer.from("\r\n"));return e()}}e.exports=r},89066:(e,t,n)=>{"use strict";const i=n(27910).Transform;function r(e){if(typeof e==="string"){e=Buffer.from(e,"utf-8")}return e.toString("base64")}function o(e,t){e=(e||"").toString();t=t||76;if(e.length<=t){return e}let n=[];let i=0;let r=t*1024;while(i<e.length){let o=e.substr(i,r).replace(new RegExp(".{"+t+"}","g"),"$&\r\n").trim();n.push(o);i+=r}return n.join("\r\n").trim()}class s extends i{constructor(e){super();this.options=e||{};if(this.options.lineLength!==false){this.options.lineLength=this.options.lineLength||76}this._curLine="";this._remainingBytes=false;this.inputBytes=0;this.outputBytes=0}_transform(e,t,n){if(t!=="buffer"){e=Buffer.from(e,t)}if(!e||!e.length){return setImmediate(n)}this.inputBytes+=e.length;if(this._remainingBytes&&this._remainingBytes.length){e=Buffer.concat([this._remainingBytes,e],this._remainingBytes.length+e.length);this._remainingBytes=false}if(e.length%3){this._remainingBytes=e.slice(e.length-e.length%3);e=e.slice(0,e.length-e.length%3)}else{this._remainingBytes=false}let i=this._curLine+r(e);if(this.options.lineLength){i=o(i,this.options.lineLength);let e=i.lastIndexOf("\n");if(e<0){this._curLine=i;i=""}else if(e===i.length-1){this._curLine=""}else{this._curLine=i.substr(e+1);i=i.substr(0,e+1)}}if(i){this.outputBytes+=i.length;this.push(Buffer.from(i,"ascii"))}setImmediate(n)}_flush(e){if(this._remainingBytes&&this._remainingBytes.length){this._curLine+=r(this._remainingBytes)}if(this._curLine){this._curLine=o(this._curLine,this.options.lineLength);this.outputBytes+=this._curLine.length;this.push(this._curLine,"ascii");this._curLine=""}e()}}e.exports={encode:r,wrap:o,Encoder:s}},89227:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(99938);function r(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new i.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}t["default"]=r},89231:(e,t,n)=>{"use strict";const i=n(20068);const r=n(91292).assign;const o=n(21940);const s=n(94735);class a extends s{constructor(e){super();this.pool=e;this.options=e.options;this.logger=this.pool.logger;if(this.options.auth){switch((this.options.auth.type||"").toString().toUpperCase()){case"OAUTH2":{let e=new o(this.options.auth,this.logger);e.provisionCallback=this.pool.mailer&&this.pool.mailer.get("oauth2_provision_cb")||e.provisionCallback;this.auth={type:"OAUTH2",user:this.options.auth.user,oauth2:e,method:"XOAUTH2"};e.on("token",e=>this.pool.mailer.emit("token",e));e.on("error",e=>this.emit("error",e));break}default:if(!this.options.auth.user&&!this.options.auth.pass){break}this.auth={type:(this.options.auth.type||"").toString().toUpperCase()||"LOGIN",user:this.options.auth.user,credentials:{user:this.options.auth.user||"",pass:this.options.auth.pass,options:this.options.auth.options},method:(this.options.auth.method||"").trim().toUpperCase()||this.options.authMethod||false}}}this._connection=false;this._connected=false;this.messages=0;this.available=true}connect(e){this.pool.getSocket(this.options,(t,n)=>{if(t){return e(t)}let o=false;let s=this.options;if(n&&n.connection){this.logger.info({tnx:"proxy",remoteAddress:n.connection.remoteAddress,remotePort:n.connection.remotePort,destHost:s.host||"",destPort:s.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",n.connection.remoteAddress,n.connection.remotePort,s.host||"",s.port||"");s=r(false,s);Object.keys(n).forEach(e=>{s[e]=n[e]})}this.connection=new i(s);this.connection.once("error",t=>{this.emit("error",t);if(o){return}o=true;return e(t)});this.connection.once("end",()=>{this.close();if(o){return}o=true;let t=setTimeout(()=>{if(o){return}let t=new Error("Unexpected socket close");if(this.connection&&this.connection._socket&&this.connection._socket.upgrading){t.code="ETLS"}e(t)},1e3);try{t.unref()}catch(e){}});this.connection.connect(()=>{if(o){return}if(this.auth&&(this.connection.allowsAuth||s.forceAuth)){this.connection.login(this.auth,t=>{if(o){return}o=true;if(t){this.connection.close();this.emit("error",t);return e(t)}this._connected=true;e(null,true)})}else{o=true;this._connected=true;return e(null,true)}})})}send(e,t){if(!this._connected){return this.connect(n=>{if(n){return t(n)}return this.send(e,t)})}let n=e.message.getEnvelope();let i=e.message.messageId();let r=[].concat(n.to||[]);if(r.length>3){r.push("...and "+r.splice(2).length+" more")}this.logger.info({tnx:"send",messageId:i,cid:this.id},"Sending message %s using #%s to <%s>",i,this.id,r.join(", "));if(e.data.dsn){n.dsn=e.data.dsn}this.connection.send(n,e.message.createReadStream(),(e,r)=>{this.messages++;if(e){this.connection.close();this.emit("error",e);return t(e)}r.envelope={from:n.from,to:n.to};r.messageId=i;setImmediate(()=>{let e;if(this.messages>=this.options.maxMessages){e=new Error("Resource exhausted");e.code="EMAXLIMIT";this.connection.close();this.emit("error",e)}else{this.pool._checkRateLimit(()=>{this.available=true;this.emit("available")})}});t(null,r)})}close(){this._connected=false;if(this.auth&&this.auth.oauth2){this.auth.oauth2.removeAllListeners()}if(this.connection){this.connection.close()}this.emit("close")}}e.exports=a},89412:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createCSRFToken=r;var i=n(55511);function r({options:e,cookieValue:t,isPost:n,bodyValue:r}){if(t){const[o,s]=t.split("|");const a=(0,i.createHash)("sha256").update(`${o}${e.secret}`).digest("hex");if(s===a){const e=n&&o===r;return{csrfTokenVerified:e,csrfToken:o}}}const o=(0,i.randomBytes)(32).toString("hex");const s=(0,i.createHash)("sha256").update(`${o}${e.secret}`).digest("hex");const a=`${o}|${s}`;return{cookie:a,csrfToken:o}}},89767:(e,t,n)=>{"use strict";const i=n(49074);const r=n(91292);class o{constructor(e){e=e||{};this.options=e||{};this.name="JSONTransport";this.version=i.version;this.logger=r.getLogger(this.options,{component:this.options.component||"json-transport"})}send(e,t){e.message.keepBcc=true;let n=e.data.envelope||e.message.getEnvelope();let i=e.message.messageId();let r=[].concat(n.to||[]);if(r.length>3){r.push("...and "+r.splice(2).length+" more")}this.logger.info({tnx:"send",messageId:i},"Composing JSON structure of %s to <%s>",i,r.join(", "));setImmediate(()=>{e.normalize((e,r)=>{if(e){this.logger.error({err:e,tnx:"send",messageId:i},"Failed building JSON structure for %s. %s",i,e.message);return t(e)}delete r.envelope;delete r.normalizedHeaders;return t(null,{envelope:n,messageId:i,message:this.options.skipEncoding?r:JSON.stringify(r)})})})}}e.exports=o},89831:(e,t,n)=>{var i=n(86305);function r(e,t,n,r,o){var s=i(e,t,n,r,o);return s.next().then(function(e){return e.done?e.value:s.next()})}e.exports=r,e.exports.__esModule=true,e.exports["default"]=e.exports},90061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(55511);const r=n(28354);t["default"]=r.types.isKeyObject?e=>r.types.isKeyObject(e):e=>e!=null&&e instanceof i.KeyObject},90253:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true})},91292:(e,t,n)=>{"use strict";const i=n(79551);const r=n(28354);const o=n(29021);const s=n(38099);const a=n(37366);const c=n(91645);const l=n(21820);const p=5*60*1e3;let d;try{d=l.networkInterfaces()}catch(e){}e.exports.networkInterfaces=d;const u=(t,n)=>{let i=e.exports.networkInterfaces;if(!i){return true}const r=Object.keys(i).map(e=>i[e]).reduce((e,t)=>e.concat(t),[]).filter(e=>!e.internal||n).filter(e=>e.family==="IPv"+t||e.family===t).length>0;return r};const h=(e,t,n,i)=>{n=n||{};const r=u(e,n.allowInternalNetworkInterfaces);if(!r){return i(null,[])}const o=a.Resolver?new a.Resolver(n):a;o["resolve"+e](t,(e,t)=>{if(e){switch(e.code){case a.NODATA:case a.NOTFOUND:case a.NOTIMP:case a.SERVFAIL:case a.CONNREFUSED:case a.REFUSED:case"EAI_AGAIN":return i(null,[])}return i(e)}return i(null,Array.isArray(t)?t:[].concat(t||[]))})};const f=e.exports.dnsCache=new Map;const m=(e,t)=>{if(!e){return Object.assign({},t||{})}return Object.assign({servername:e.servername,host:!e.addresses||!e.addresses.length?null:e.addresses.length===1?e.addresses[0]:e.addresses[Math.floor(Math.random()*e.addresses.length)]},t||{})};e.exports.resolveHostname=(e,t)=>{e=e||{};if(!e.host&&e.servername){e.host=e.servername}if(!e.host||c.isIP(e.host)){let n={addresses:[e.host],servername:e.servername||false};return t(null,m(n,{cached:false}))}let n;if(f.has(e.host)){n=f.get(e.host);if(!n.expires||n.expires>=Date.now()){return t(null,m(n.value,{cached:true}))}}h(4,e.host,e,(i,r)=>{if(i){if(n){return t(null,m(n.value,{cached:true,error:i}))}return t(i)}if(r&&r.length){let n={addresses:r,servername:e.servername||e.host};f.set(e.host,{value:n,expires:Date.now()+(e.dnsTtl||p)});return t(null,m(n,{cached:false}))}h(6,e.host,e,(i,r)=>{if(i){if(n){return t(null,m(n.value,{cached:true,error:i}))}return t(i)}if(r&&r.length){let n={addresses:r,servername:e.servername||e.host};f.set(e.host,{value:n,expires:Date.now()+(e.dnsTtl||p)});return t(null,m(n,{cached:false}))}try{a.lookup(e.host,{all:true},(i,r)=>{if(i){if(n){return t(null,m(n.value,{cached:true,error:i}))}return t(i)}let o=r?r.filter(e=>u(e.family)).map(e=>e.address).shift():false;if(r&&r.length&&!o){console.warn(`Failed to resolve IPv${r[0].family} addresses with current network`)}if(!o&&n){return t(null,m(n.value,{cached:true}))}let s={addresses:o?[o]:[e.host],servername:e.servername||e.host};f.set(e.host,{value:s,expires:Date.now()+(e.dnsTtl||p)});return t(null,m(s,{cached:false}))})}catch(e){if(n){return t(null,m(n.value,{cached:true,error:e}))}return t(e)}})})};e.exports.parseConnectionUrl=e=>{e=e||"";let t={};[i.parse(e,true)].forEach(e=>{let n;switch(e.protocol){case"smtp:":t.secure=false;break;case"smtps:":t.secure=true;break;case"direct:":t.direct=true;break}if(!isNaN(e.port)&&Number(e.port)){t.port=Number(e.port)}if(e.hostname){t.host=e.hostname}if(e.auth){n=e.auth.split(":");if(!t.auth){t.auth={}}t.auth.user=n.shift();t.auth.pass=n.join(":")}Object.keys(e.query||{}).forEach(n=>{let i=t;let r=n;let o=e.query[n];if(!isNaN(o)){o=Number(o)}switch(o){case"true":o=true;break;case"false":o=false;break}if(n.indexOf("tls.")===0){r=n.substr(4);if(!t.tls){t.tls={}}i=t.tls}else if(n.indexOf(".")>=0){return}if(!(r in i)){i[r]=o}})});return t};e.exports._logFunc=(e,t,n,i,r,...o)=>{let s={};Object.keys(n||{}).forEach(e=>{if(e!=="level"){s[e]=n[e]}});Object.keys(i||{}).forEach(e=>{if(e!=="level"){s[e]=i[e]}});e[t](s,r,...o)};e.exports.getLogger=(t,n)=>{t=t||{};let i={};let r=["trace","debug","info","warn","error","fatal"];if(!t.logger){r.forEach(e=>{i[e]=()=>false});return i}let o=t.logger;if(t.logger===true){o=v(r)}r.forEach(t=>{i[t]=(i,r,...s)=>{e.exports._logFunc(o,t,n,i,r,...s)}});return i};e.exports.callbackPromise=(e,t)=>function(){let n=Array.from(arguments);let i=n.shift();if(i){t(i)}else{e(...n)}};e.exports.parseDataURI=e=>{let t=e;let n=t.indexOf(",");if(!n){return e}let i=t.substring(n+1);let r=t.substring("data:".length,n);let o;let s=r.split(";");let a=s.length>1?s[s.length-1]:false;if(a&&a.indexOf("=")<0){o=a.toLowerCase();s.pop()}let c=s.shift()||"application/octet-stream";let l={};for(let e of s){let t=e.indexOf("=");if(t>=0){let n=e.substring(0,t);let i=e.substring(t+1);l[n]=i}}switch(o){case"base64":i=Buffer.from(i,"base64");break;case"utf8":i=Buffer.from(i);break;default:try{i=Buffer.from(decodeURIComponent(i))}catch(e){i=Buffer.from(i)}i=Buffer.from(i)}return{data:i,encoding:o,contentType:c,params:l}};e.exports.resolveContent=(t,n,i)=>{let r;if(!i){r=new Promise((t,n)=>{i=e.exports.callbackPromise(t,n)})}let a=t&&t[n]&&t[n].content||t[n];let c;let l=(typeof t[n]==="object"&&t[n].encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");if(!a){return i(null,a)}if(typeof a==="object"){if(typeof a.pipe==="function"){return g(a,(e,r)=>{if(e){return i(e)}if(t[n].content){t[n].content=r}else{t[n]=r}i(null,r)})}else if(/^https?:\/\//i.test(a.path||a.href)){c=s(a.path||a.href);return g(c,i)}else if(/^data:/i.test(a.path||a.href)){let t=e.exports.parseDataURI(a.path||a.href);if(!t||!t.data){return i(null,Buffer.from(0))}return i(null,t.data)}else if(a.path){return g(o.createReadStream(a.path),i)}}if(typeof t[n].content==="string"&&!["utf8","usascii","ascii"].includes(l)){a=Buffer.from(t[n].content,l)}setImmediate(()=>i(null,a));return r};e.exports.assign=function(){let e=Array.from(arguments);let t=e.shift()||{};e.forEach(e=>{Object.keys(e||{}).forEach(n=>{if(["tls","auth"].includes(n)&&e[n]&&typeof e[n]==="object"){if(!t[n]){t[n]={}}Object.keys(e[n]).forEach(i=>{t[n][i]=e[n][i]})}else{t[n]=e[n]}})});return t};e.exports.encodeXText=e=>{if(!/[^\x21-\x2A\x2C-\x3C\x3E-\x7E]/.test(e)){return e}let t=Buffer.from(e);let n="";for(let e=0,i=t.length;e<i;e++){let i=t[e];if(i<33||i>126||i===43||i===61){n+="+"+(i<16?"0":"")+i.toString(16).toUpperCase()}else{n+=String.fromCharCode(i)}}return n};function g(e,t){let n=false;let i=[];let r=0;e.on("error",e=>{if(n){return}n=true;t(e)});e.on("readable",()=>{let t;while((t=e.read())!==null){i.push(t);r+=t.length}});e.on("end",()=>{if(n){return}n=true;let e;try{e=Buffer.concat(i,r)}catch(e){return t(e)}t(null,e)})}function v(e){let t=0;let n=new Map;e.forEach(e=>{if(e.length>t){t=e.length}});e.forEach(e=>{let i=e.toUpperCase();if(i.length<t){i+=" ".repeat(t-i.length)}n.set(e,i)});let i=(e,t,i,...o)=>{let s="";if(t){if(t.tnx==="server"){s="S: "}else if(t.tnx==="client"){s="C: "}if(t.sid){s="["+t.sid+"] "+s}if(t.cid){s="[#"+t.cid+"] "+s}}i=r.format(i,...o);i.split(/\r?\n/).forEach(t=>{console.log("[%s] %s %s",new Date().toISOString().substr(0,19).replace(/T/," "),n.get(e),s+t)})};let o={};e.forEach(e=>{o[e]=i.bind(null,e)});return o}},91428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createRemoteJWKSet=void 0;const i=n(95339);const r=n(99938);const o=n(2055);function s(){return typeof WebSocketPair!=="undefined"||typeof navigator!=="undefined"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime!=="undefined"&&EdgeRuntime==="vercel"}class a extends o.LocalJWKSet{constructor(e,t){super({keys:[]});this._jwks=undefined;if(!(e instanceof URL)){throw new TypeError("url must be an instance of URL")}this._url=new URL(e.href);this._options={agent:t===null||t===void 0?void 0:t.agent,headers:t===null||t===void 0?void 0:t.headers};this._timeoutDuration=typeof(t===null||t===void 0?void 0:t.timeoutDuration)==="number"?t===null||t===void 0?void 0:t.timeoutDuration:5e3;this._cooldownDuration=typeof(t===null||t===void 0?void 0:t.cooldownDuration)==="number"?t===null||t===void 0?void 0:t.cooldownDuration:3e4;this._cacheMaxAge=typeof(t===null||t===void 0?void 0:t.cacheMaxAge)==="number"?t===null||t===void 0?void 0:t.cacheMaxAge:6e5}coolingDown(){return typeof this._jwksTimestamp==="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:false}fresh(){return typeof this._jwksTimestamp==="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:false}async getKey(e,t){if(!this._jwks||!this.fresh()){await this.reload()}try{return await super.getKey(e,t)}catch(n){if(n instanceof r.JWKSNoMatchingKey){if(this.coolingDown()===false){await this.reload();return super.getKey(e,t)}}throw n}}async reload(){if(this._pendingFetch&&s()){this._pendingFetch=undefined}this._pendingFetch||(this._pendingFetch=(0,i.default)(this._url,this._timeoutDuration,this._options).then(e=>{if(!(0,o.isJWKSLike)(e)){throw new r.JWKSInvalid("JSON Web Key Set malformed")}this._jwks={keys:e.keys};this._jwksTimestamp=Date.now();this._pendingFetch=undefined}).catch(e=>{this._pendingFetch=undefined;throw e}));await this._pendingFetch}}function c(e,t){const n=new a(e,t);return async function(e,t){return n.getKey(e,t)}}t.createRemoteJWKSet=c},91570:(e,t,n)=>{"use strict";const i=n(34041);const r=n(31534);const o=n(74301);const s=n(27910).PassThrough;const a=n(29021);const c=n(33873);const l=n(55511);const p="sha256";const d=128*1024;class u{constructor(e,t,n,i){this.options=e||{};this.keys=t;this.cacheTreshold=Number(this.options.cacheTreshold)||d;this.hashAlgo=this.options.hashAlgo||p;this.cacheDir=this.options.cacheDir||false;this.chunks=[];this.chunklen=0;this.readPos=0;this.cachePath=this.cacheDir?c.join(this.cacheDir,"message."+Date.now()+"-"+l.randomBytes(14).toString("hex")):false;this.cache=false;this.headers=false;this.bodyHash=false;this.parser=false;this.relaxedBody=false;this.input=n;this.output=i;this.output.usingCache=false;this.hasErrored=false;this.input.on("error",e=>{this.hasErrored=true;this.cleanup();i.emit("error",e)})}cleanup(){if(!this.cache||!this.cachePath){return}a.unlink(this.cachePath,()=>false)}createReadCache(){this.cache=a.createReadStream(this.cachePath);this.cache.once("error",e=>{this.cleanup();this.output.emit("error",e)});this.cache.once("close",()=>{this.cleanup()});this.cache.pipe(this.output)}sendNextChunk(){if(this.hasErrored){return}if(this.readPos>=this.chunks.length){if(!this.cache){return this.output.end()}return this.createReadCache()}let e=this.chunks[this.readPos++];if(this.output.write(e)===false){return this.output.once("drain",()=>{this.sendNextChunk()})}setImmediate(()=>this.sendNextChunk())}sendSignedOutput(){let e=0;let t=()=>{if(e>=this.keys.length){this.output.write(this.parser.rawHeaders);return setImmediate(()=>this.sendNextChunk())}let n=this.keys[e++];let i=o(this.headers,this.hashAlgo,this.bodyHash,{domainName:n.domainName,keySelector:n.keySelector,privateKey:n.privateKey,headerFieldNames:this.options.headerFieldNames,skipFields:this.options.skipFields});if(i){this.output.write(Buffer.from(i+"\r\n"))}return setImmediate(t)};if(this.bodyHash&&this.headers){return t()}this.output.write(this.parser.rawHeaders);this.sendNextChunk()}createWriteCache(){this.output.usingCache=true;this.cache=a.createWriteStream(this.cachePath);this.cache.once("error",e=>{this.cleanup();this.relaxedBody.unpipe(this.cache);this.relaxedBody.on("readable",()=>{while(this.relaxedBody.read()!==null){}});this.hasErrored=true;this.output.emit("error",e)});this.cache.once("close",()=>{this.sendSignedOutput()});this.relaxedBody.removeAllListeners("readable");this.relaxedBody.pipe(this.cache)}signStream(){this.parser=new i;this.relaxedBody=new r({hashAlgo:this.hashAlgo});this.parser.on("headers",e=>{this.headers=e});this.relaxedBody.on("hash",e=>{this.bodyHash=e});this.relaxedBody.on("readable",()=>{let e;if(this.cache){return}while((e=this.relaxedBody.read())!==null){this.chunks.push(e);this.chunklen+=e.length;if(this.chunklen>=this.cacheTreshold&&this.cachePath){return this.createWriteCache()}}});this.relaxedBody.on("end",()=>{if(this.cache){return}this.sendSignedOutput()});this.parser.pipe(this.relaxedBody);setImmediate(()=>this.input.pipe(this.parser))}}class h{constructor(e){this.options=e||{};this.keys=[].concat(this.options.keys||{domainName:e.domainName,keySelector:e.keySelector,privateKey:e.privateKey})}sign(e,t){let n=new s;let i=e;let r=false;if(Buffer.isBuffer(e)){r=e;i=new s}else if(typeof e==="string"){r=Buffer.from(e);i=new s}let o=this.options;if(t&&Object.keys(t).length){o={};Object.keys(this.options||{}).forEach(e=>{o[e]=this.options[e]});Object.keys(t||{}).forEach(e=>{if(!(e in o)){o[e]=t[e]}})}let a=new u(o,this.keys,i,n);setImmediate(()=>{a.signStream();if(r){setImmediate(()=>{i.end(r)})}});return n}}e.exports=h},91645:e=>{"use strict";e.exports=require("net")},92296:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(99938);function r(e){if(!(e instanceof Uint8Array)||e.length<8){throw new i.JWEInvalid("PBES2 Salt Input must be 8 or more octets")}}t["default"]=r},92562:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(55511);const r=n(28354);const o=n(63898);const s=n(89227);const a=n(42567);const c=n(15055);let l;if(i.sign.length>3){l=(0,r.promisify)(i.sign)}else{l=i.sign}const p=async(e,t,n)=>{const r=(0,c.default)(e,t,"sign");if(e.startsWith("HS")){const t=i.createHmac((0,s.default)(e),r);t.update(n);return t.digest()}return l((0,o.default)(e),n,(0,a.default)(e,r))};t["default"]=p},92584:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function i(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}i(t,{HeadersAdapter:function(){return s},ReadonlyHeadersError:function(){return o}});const r=n(43763);class o extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new o}}class s extends Headers{constructor(e){super();this.headers=new Proxy(e,{get(t,n,i){if(typeof n==="symbol"){return r.ReflectAdapter.get(t,n,i)}const o=n.toLowerCase();const s=Object.keys(e).find(e=>e.toLowerCase()===o);if(typeof s==="undefined")return;return r.ReflectAdapter.get(t,s,i)},set(t,n,i,o){if(typeof n==="symbol"){return r.ReflectAdapter.set(t,n,i,o)}const s=n.toLowerCase();const a=Object.keys(e).find(e=>e.toLowerCase()===s);return r.ReflectAdapter.set(t,a??n,i,o)},has(t,n){if(typeof n==="symbol")return r.ReflectAdapter.has(t,n);const i=n.toLowerCase();const o=Object.keys(e).find(e=>e.toLowerCase()===i);if(typeof o==="undefined")return false;return r.ReflectAdapter.has(t,o)},deleteProperty(t,n){if(typeof n==="symbol")return r.ReflectAdapter.deleteProperty(t,n);const i=n.toLowerCase();const o=Object.keys(e).find(e=>e.toLowerCase()===i);if(typeof o==="undefined")return true;return r.ReflectAdapter.deleteProperty(t,o)}})}static seal(e){return new Proxy(e,{get(e,t,n){switch(t){case"append":case"delete":case"set":return o.callable;default:return r.ReflectAdapter.get(e,t,n)}}})}merge(e){if(Array.isArray(e))return e.join(", ");return e}static from(e){if(e instanceof Headers)return e;return new s(e)}append(e,t){const n=this.headers[e];if(typeof n==="string"){this.headers[e]=[n,t]}else if(Array.isArray(n)){n.push(t)}else{this.headers[e]=t}}delete(e){delete this.headers[e]}get(e){const t=this.headers[e];if(typeof t!=="undefined")return this.merge(t);return null}has(e){return typeof this.headers[e]!=="undefined"}set(e,t){this.headers[e]=t}forEach(e,t){for(const[n,i]of this.entries()){e.call(t,i,n,this)}}*entries(){for(const e of Object.keys(this.headers)){const t=e.toLowerCase();const n=this.get(t);yield[t,n]}}*keys(){for(const e of Object.keys(this.headers)){const t=e.toLowerCase();yield t}}*values(){for(const e of Object.keys(this.headers)){const t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},93069:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const n=(e,t)=>{if(t!==undefined&&(!Array.isArray(t)||t.some(e=>typeof e!=="string"))){throw new TypeError(`"${e}" option must be an array of strings`)}if(!t){return undefined}return new Set(t)};t["default"]=n},93346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.fromX509=t.fromSPKI=t.fromPKCS8=t.toPKCS8=t.toSPKI=void 0;const i=n(55511);const r=n(79428);const o=n(17996);const s=n(90061);const a=n(78680);const c=n(37265);const l=(e,t,n)=>{let r;if((0,o.isCryptoKey)(n)){if(!n.extractable){throw new TypeError("CryptoKey is not extractable")}r=i.KeyObject.from(n)}else if((0,s.default)(n)){r=n}else{throw new TypeError((0,a.default)(n,...c.types))}if(r.type!==e){throw new TypeError(`key is not a ${e} key`)}return r.export({format:"pem",type:t})};const p=e=>{return l("public","spki",e)};t.toSPKI=p;const d=e=>{return l("private","pkcs8",e)};t.toPKCS8=d;const u=e=>(0,i.createPrivateKey)({key:r.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""),"base64"),type:"pkcs8",format:"der"});t.fromPKCS8=u;const h=e=>(0,i.createPublicKey)({key:r.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,""),"base64"),type:"spki",format:"der"});t.fromSPKI=h;const f=e=>(0,i.createPublicKey)({key:e,type:"spki",format:"pem"});t.fromX509=f},93929:e=>{e.exports=globalThis.structuredClone||(e=>JSON.parse(JSON.stringify(e)))},94069:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});0&&0;function i(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:true,get:t[n]})}i(t,{MutableRequestCookiesAdapter:function(){return h},ReadonlyRequestCookiesError:function(){return c},RequestCookiesAdapter:function(){return l},appendMutableCookies:function(){return u},areCookiesMutableInCurrentPhase:function(){return m},getModifiedCookieValues:function(){return d},responseCookiesToRequestCookies:function(){return v},wrapWithMutableAccessCheck:function(){return f}});const r=n(23158);const o=n(43763);const s=n(29294);const a=n(63033);class c extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new c}}class l{static seal(e){return new Proxy(e,{get(e,t,n){switch(t){case"clear":case"delete":case"set":return c.callable;default:return o.ReflectAdapter.get(e,t,n)}}})}}const p=Symbol.for("next.mutated.cookies");function d(e){const t=e[p];if(!t||!Array.isArray(t)||t.length===0){return[]}return t}function u(e,t){const n=d(t);if(n.length===0){return false}const i=new r.ResponseCookies(e);const o=i.getAll();for(const e of n){i.set(e)}for(const e of o){i.set(e)}return true}class h{static wrap(e,t){const n=new r.ResponseCookies(new Headers);for(const t of e.getAll()){n.set(t)}let i=[];const a=new Set;const c=()=>{const e=s.workAsyncStorage.getStore();if(e){e.pathWasRevalidated=true}const o=n.getAll();i=o.filter(e=>a.has(e.name));if(t){const e=[];for(const t of i){const n=new r.ResponseCookies(new Headers);n.set(t);e.push(n.toString())}t(e)}};const l=new Proxy(n,{get(e,t,n){switch(t){case p:return i;case"delete":return function(...t){a.add(typeof t[0]==="string"?t[0]:t[0].name);try{e.delete(...t);return l}finally{c()}};case"set":return function(...t){a.add(typeof t[0]==="string"?t[0]:t[0].name);try{e.set(...t);return l}finally{c()}};default:return o.ReflectAdapter.get(e,t,n)}}});return l}}function f(e){const t=new Proxy(e,{get(e,n,i){switch(n){case"delete":return function(...n){g("cookies().delete");e.delete(...n);return t};case"set":return function(...n){g("cookies().set");e.set(...n);return t};default:return o.ReflectAdapter.get(e,n,i)}}});return t}function m(e){return e.phase==="action"}function g(e){const t=(0,a.getExpectedRequestStore)(e);if(!m(t)){throw new c}}function v(e){const t=new r.RequestCookies(new Headers);for(const n of e.getAll()){t.set(n)}return t}},94387:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=t.hkdf=void 0;const i=n(46821);function r(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw new TypeError('unsupported "digest" value')}}function o(e,t){if(typeof e==="string")return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw new TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}function s(e){const t=o(e,"ikm");if(!t.byteLength)throw new TypeError(`"ikm" must be at least one byte in length`);return t}function a(e){const t=o(e,"info");if(t.byteLength>1024){throw TypeError('"info" must not contain more than 1024 bytes')}return t}function c(e,t){if(typeof e!=="number"||!Number.isInteger(e)||e<1){throw new TypeError('"keylen" must be a positive integer')}const n=parseInt(t.substr(3),10)>>3||20;if(e>255*n){throw new TypeError('"keylen" too large')}return e}async function l(e,t,n,l,p){return(0,i.default)(r(e),s(t),o(n,"salt"),a(l),c(p,e))}t.hkdf=l;t["default"]=l},94735:e=>{"use strict";e.exports=require("events")},95339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const i=n(81630);const r=n(55591);const o=n(94735);const s=n(99938);const a=n(2594);const c=async(e,t,n)=>{let c;switch(e.protocol){case"https:":c=r.get;break;case"http:":c=i.get;break;default:throw new TypeError("Unsupported URL protocol.")}const{agent:l,headers:p}=n;const d=c(e.href,{agent:l,timeout:t,headers:p});const[u]=await Promise.race([(0,o.once)(d,"response"),(0,o.once)(d,"timeout")]);if(!u){d.destroy();throw new s.JWKSTimeout}if(u.statusCode!==200){throw new s.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response")}const h=[];for await(const e of u){h.push(e)}try{return JSON.parse(a.decoder.decode((0,a.concat)(...h)))}catch{throw new s.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}};t["default"]=c},96376:e=>{function t(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(e.exports=t=function e(){return!!n},e.exports.__esModule=true,e.exports["default"]=e.exports)()}e.exports=t,e.exports.__esModule=true,e.exports["default"]=e.exports},96487:()=>{},96559:(e,t,n)=>{"use strict";if(false){}else{if(false){}else{if(false){}else{if(false){}else{e.exports=n(44870)}}}}},97002:(e,t,n)=>{"use strict";const i=n(94735);const r=n(49074);const o=n(91292);const s=n(39449);class a extends i{constructor(e){super();e=e||{};this.options=e||{};this.ses=this.options.SES;this.name="SESTransport";this.version=r.version;this.logger=o.getLogger(this.options,{component:this.options.component||"ses-transport"});this.maxConnections=Number(this.options.maxConnections)||Infinity;this.connections=0;this.sendingRate=Number(this.options.sendingRate)||Infinity;this.sendingRateTTL=null;this.rateInterval=1e3;this.rateMessages=[];this.pending=[];this.idling=true;setImmediate(()=>{if(this.idling){this.emit("idle")}})}send(e,t){if(this.connections>=this.maxConnections){this.idling=false;return this.pending.push({mail:e,callback:t})}if(!this._checkSendingRate()){this.idling=false;return this.pending.push({mail:e,callback:t})}this._send(e,(...e)=>{setImmediate(()=>t(...e));this._sent()})}_checkRatedQueue(){if(this.connections>=this.maxConnections||!this._checkSendingRate()){return}if(!this.pending.length){if(!this.idling){this.idling=true;this.emit("idle")}return}let e=this.pending.shift();this._send(e.mail,(...t)=>{setImmediate(()=>e.callback(...t));this._sent()})}_checkSendingRate(){clearTimeout(this.sendingRateTTL);let e=Date.now();let t=false;for(let n=this.rateMessages.length-1;n>=0;n--){if(this.rateMessages[n].ts>=e-this.rateInterval&&(!t||this.rateMessages[n].ts<t)){t=this.rateMessages[n].ts}if(this.rateMessages[n].ts<e-this.rateInterval&&!this.rateMessages[n].pending){this.rateMessages.splice(n,1)}}if(this.rateMessages.length<this.sendingRate){return true}let n=Math.max(t+1001,e+20);this.sendingRateTTL=setTimeout(()=>this._checkRatedQueue(),e-n);try{this.sendingRateTTL.unref()}catch(e){}return false}_sent(){this.connections--;this._checkRatedQueue()}isIdle(){return this.idling}_send(e,t){let n={ts:Date.now(),pending:true};this.connections++;this.rateMessages.push(n);let i=e.data.envelope||e.message.getEnvelope();let r=e.message.messageId();let o=[].concat(i.to||[]);if(o.length>3){o.push("...and "+o.splice(2).length+" more")}this.logger.info({tnx:"send",messageId:r},"Sending message %s to <%s>",r,o.join(", "));let a=t=>{if(!e.data._dkim){e.data._dkim={}}if(e.data._dkim.skipFields&&typeof e.data._dkim.skipFields==="string"){e.data._dkim.skipFields+=":date:message-id"}else{e.data._dkim.skipFields="date:message-id"}let n=e.message.createReadStream();let i=n.pipe(new s);let r=[];let o=0;i.on("readable",()=>{let e;while((e=i.read())!==null){r.push(e);o+=e.length}});n.once("error",e=>i.emit("error",e));i.once("error",e=>{t(e)});i.once("end",()=>t(null,Buffer.concat(r,o)))};setImmediate(()=>a((o,s)=>{if(o){this.logger.error({err:o,tnx:"send",messageId:r},"Failed creating message for %s. %s",r,o.message);n.pending=false;return t(o)}let a={RawMessage:{Data:s},Source:i.from,Destinations:i.to};Object.keys(e.data.ses||{}).forEach(t=>{a[t]=e.data.ses[t]});let c=(this.ses.aws?this.ses.ses:this.ses)||{};let l=this.ses.aws||{};let p=e=>{if(c.config&&typeof c.config.region==="function"){return c.config.region().then(t=>e(null,t)).catch(t=>e(t))}return e(null,c.config&&c.config.region||"us-east-1")};p((e,o)=>{if(e||!o){o="us-east-1"}let p;if(typeof c.send==="function"&&l.SendRawEmailCommand){p=c.send(new l.SendRawEmailCommand(a))}else{p=c.sendRawEmail(a).promise()}p.then(e=>{if(o==="us-east-1"){o="email"}n.pending=false;t(null,{envelope:{from:i.from,to:i.to},messageId:"<"+e.MessageId+(!/@/.test(e.MessageId)?"@"+o+".amazonses.com":"")+">",response:e.MessageId,raw:s})}).catch(e=>{this.logger.error({err:e,tnx:"send"},"Send error for %s: %s",r,e.message);n.pending=false;t(e)})})}))}verify(e){let t;let n=(this.ses.aws?this.ses.ses:this.ses)||{};let i=this.ses.aws||{};const r={RawMessage:{Data:"From: invalid@invalid\r\nTo: invalid@invalid\r\n Subject: Invalid\r\n\r\nInvalid"},Source:"invalid@invalid",Destinations:["invalid@invalid"]};if(!e){t=new Promise((t,n)=>{e=o.callbackPromise(t,n)})}const s=t=>{if(t&&(t.code||t.Code)!=="InvalidParameterValue"){return e(t)}return e(null,true)};if(typeof n.send==="function"&&i.SendRawEmailCommand){r.RawMessage.Data=Buffer.from(r.RawMessage.Data);n.send(new i.SendRawEmailCommand(r),s)}else{n.sendRawEmail(r,s)}return t}}e.exports=a},97528:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.unwrap=t.wrap=void 0;const i=n(22122);const r=n(85634);const o=n(35749);const s=n(68327);async function a(e,t,n,r){const a=e.slice(0,7);r||(r=(0,o.default)(a));const{ciphertext:c,tag:l}=await (0,i.default)(a,n,t,r,new Uint8Array(0));return{encryptedKey:c,iv:(0,s.encode)(r),tag:(0,s.encode)(l)}}t.wrap=a;async function c(e,t,n,i,o){const s=e.slice(0,7);return(0,r.default)(s,t,n,i,o,new Uint8Array(0))}t.unwrap=c},97843:(e,t,n)=>{const i=n(28354);const r=n(55511);e.exports=i.types.isKeyObject||(e=>e&&e instanceof r.KeyObject)},97920:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.importJWK=t.importPKCS8=t.importX509=t.importSPKI=void 0;const i=n(68327);const r=n(93346);const o=n(53687);const s=n(99938);const a=n(25110);async function c(e,t,n){if(typeof e!=="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0){throw new TypeError('"spki" must be SPKI formatted string')}return(0,r.fromSPKI)(e,t,n)}t.importSPKI=c;async function l(e,t,n){if(typeof e!=="string"||e.indexOf("-----BEGIN CERTIFICATE-----")!==0){throw new TypeError('"x509" must be X.509 formatted string')}return(0,r.fromX509)(e,t,n)}t.importX509=l;async function p(e,t,n){if(typeof e!=="string"||e.indexOf("-----BEGIN PRIVATE KEY-----")!==0){throw new TypeError('"pkcs8" must be PKCS#8 formatted string')}return(0,r.fromPKCS8)(e,t,n)}t.importPKCS8=p;async function d(e,t,n){var r;if(!(0,a.default)(e)){throw new TypeError("JWK must be an object")}t||(t=e.alg);switch(e.kty){case"oct":if(typeof e.k!=="string"||!e.k){throw new TypeError('missing "k" (Key Value) Parameter value')}n!==null&&n!==void 0?n:n=e.ext!==true;if(n){return(0,o.default)({...e,alg:t,ext:(r=e.ext)!==null&&r!==void 0?r:false})}return(0,i.decode)(e.k);case"RSA":if(e.oth!==undefined){throw new s.JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported')}case"EC":case"OKP":return(0,o.default)({...e,alg:t});default:throw new s.JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}t.importJWK=d},98905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.jwtVerify=void 0;const i=n(29132);const r=n(81822);const o=n(99938);async function s(e,t,n){var s;const a=await (0,i.compactVerify)(e,t,n);if(((s=a.protectedHeader.crit)===null||s===void 0?void 0:s.includes("b64"))&&a.protectedHeader.b64===false){throw new o.JWTInvalid("JWTs MUST NOT use unencoded payload")}const c=(0,r.default)(a.protectedHeader,a.payload,n);const l={payload:c,protectedHeader:a.protectedHeader};if(typeof t==="function"){return{...l,key:a.key}}return l}t.jwtVerify=s},99296:(e,t,n)=>{"use strict";var i=n(9168);Object.defineProperty(t,"__esModule",{value:true});t["default"]=c;var r=i(n(53873));var o=i(n(59496));var s=n(29837);var a=i(n(11714));async function c(e){const{options:t,query:n,body:i,method:c,headers:l,sessionStore:p}=e;const{provider:d,adapter:u,url:h,callbackUrl:f,pages:m,jwt:g,events:v,callbacks:y,session:{strategy:_,maxAge:w},logger:x}=t;const b=[];const k=_==="jwt";if(d.type==="oauth"){try{const{profile:s,account:a,OAuthProfile:l,cookies:_}=await (0,r.default)({query:n,body:i,method:c,options:t,cookies:e.cookies});if(_.length)b.push(..._);try{var E;x.debug("OAUTH_CALLBACK_RESPONSE",{profile:s,account:a,OAuthProfile:l});if(!s||!a||!l){return{redirect:`${h}/signin`,cookies:b}}let e=s;if(u){const{getUserByAccount:t}=u;const n=await t({providerAccountId:a.providerAccountId,provider:d.id});if(n)e=n}try{const t=await y.signIn({user:e,account:a,profile:l});if(!t){return{redirect:`${h}/error?error=AccessDenied`,cookies:b}}else if(typeof t==="string"){return{redirect:t,cookies:b}}}catch(e){return{redirect:`${h}/error?error=${encodeURIComponent(e.message)}`,cookies:b}}const{user:n,session:i,isNewUser:r}=await (0,o.default)({sessionToken:p.value,profile:s,account:a,options:t});if(k){var S;const e={name:n.name,email:n.email,picture:n.image,sub:(S=n.id)===null||S===void 0?void 0:S.toString()};const t=await y.jwt({token:e,user:n,account:a,profile:l,isNewUser:r,trigger:r?"signUp":"signIn"});const i=await g.encode({...g,token:t});const o=new Date;o.setTime(o.getTime()+w*1e3);const s=p.chunk(i,{expires:o});b.push(...s)}else{b.push({name:t.cookies.sessionToken.name,value:i.sessionToken,options:{...t.cookies.sessionToken.options,expires:i.expires}})}await ((E=v.signIn)===null||E===void 0?void 0:E.call(v,{user:n,account:a,profile:s,isNewUser:r}));if(r&&m.newUser){return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}callbackUrl=${encodeURIComponent(f)}`,cookies:b}}return{redirect:f,cookies:b}}catch(e){if(e.name==="AccountNotLinkedError"){return{redirect:`${h}/error?error=OAuthAccountNotLinked`,cookies:b}}else if(e.name==="CreateUserError"){return{redirect:`${h}/error?error=OAuthCreateAccount`,cookies:b}}x.error("OAUTH_CALLBACK_HANDLER_ERROR",e);return{redirect:`${h}/error?error=Callback`,cookies:b}}}catch(e){if(e.name==="OAuthCallbackError"){x.error("OAUTH_CALLBACK_ERROR",{error:e,providerId:d.id});return{redirect:`${h}/error?error=OAuthCallback`,cookies:b}}x.error("OAUTH_CALLBACK_ERROR",e);return{redirect:`${h}/error?error=Callback`,cookies:b}}}else if(d.type==="email"){try{var A;const e=n===null||n===void 0?void 0:n.token;const i=n===null||n===void 0?void 0:n.email;if(!e){return{redirect:`${h}/error?error=configuration`,cookies:b}}const r=await u.useVerificationToken({identifier:i,token:(0,s.hashToken)(e,t)});const c=!r||r.expires.valueOf()<Date.now()||i&&r.identifier!==i;if(c){return{redirect:`${h}/error?error=Verification`,cookies:b}}const l=await (0,a.default)({email:r.identifier,adapter:u});const _={providerAccountId:l.email,type:"email",provider:d.id};try{const e=await y.signIn({user:l,account:_});if(!e){return{redirect:`${h}/error?error=AccessDenied`,cookies:b}}else if(typeof e==="string"){return{redirect:e,cookies:b}}}catch(e){return{redirect:`${h}/error?error=${encodeURIComponent(e.message)}`,cookies:b}}const{user:x,session:E,isNewUser:S}=await (0,o.default)({sessionToken:p.value,profile:l,account:_,options:t});if(k){var T;const e={name:x.name,email:x.email,picture:x.image,sub:(T=x.id)===null||T===void 0?void 0:T.toString()};const t=await y.jwt({token:e,user:x,account:_,isNewUser:S,trigger:S?"signUp":"signIn"});const n=await g.encode({...g,token:t});const i=new Date;i.setTime(i.getTime()+w*1e3);const r=p.chunk(n,{expires:i});b.push(...r)}else{b.push({name:t.cookies.sessionToken.name,value:E.sessionToken,options:{...t.cookies.sessionToken.options,expires:E.expires}})}await ((A=v.signIn)===null||A===void 0?void 0:A.call(v,{user:x,account:_,isNewUser:S}));if(S&&m.newUser){return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}callbackUrl=${encodeURIComponent(f)}`,cookies:b}}return{redirect:f,cookies:b}}catch(e){if(e.name==="CreateUserError"){return{redirect:`${h}/error?error=EmailCreateAccount`,cookies:b}}x.error("CALLBACK_EMAIL_ERROR",e);return{redirect:`${h}/error?error=Callback`,cookies:b}}}else if(d.type==="credentials"&&c==="POST"){var O,C;const e=i;let t;try{t=await d.authorize(e,{query:n,body:i,headers:l,method:c});if(!t){return{status:401,redirect:`${h}/error?${new URLSearchParams({error:"CredentialsSignin",provider:d.id})}`,cookies:b}}}catch(e){return{status:401,redirect:`${h}/error?error=${encodeURIComponent(e.message)}`,cookies:b}}const r={providerAccountId:t.id,type:"credentials",provider:d.id};try{const n=await y.signIn({user:t,account:r,credentials:e});if(!n){return{status:403,redirect:`${h}/error?error=AccessDenied`,cookies:b}}else if(typeof n==="string"){return{redirect:n,cookies:b}}}catch(e){return{redirect:`${h}/error?error=${encodeURIComponent(e.message)}`,cookies:b}}const o={name:t.name,email:t.email,picture:t.image,sub:(O=t.id)===null||O===void 0?void 0:O.toString()};const s=await y.jwt({token:o,user:t,account:r,isNewUser:false,trigger:"signIn"});const a=await g.encode({...g,token:s});const u=new Date;u.setTime(u.getTime()+w*1e3);const m=p.chunk(a,{expires:u});b.push(...m);await ((C=v.signIn)===null||C===void 0?void 0:C.call(v,{user:t,account:r}));return{redirect:f,cookies:b}}return{status:500,body:`Error: Callback for provider type ${d.type} not supported`,cookies:b}}},99312:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CompactSign=void 0;const i=n(59310);class r{constructor(e){this._flattened=new i.FlattenedSign(e)}setProtectedHeader(e){this._flattened.setProtectedHeader(e);return this}async sign(e,t){const n=await this._flattened.sign(e,t);if(n.payload===undefined){throw new TypeError("use the flattened module for creating JWS with b64: false")}return`${n.protected}.${n.payload}.${n.signature}`}}t.CompactSign=r},99607:(e,t,n)=>{var i=n(66446);var r=n(28339);var o=n(89831);var s=n(86305);var a=n(74113);var c=n(67135);var l=n(49305);function p(){"use strict";var t=r(),n=t.m(p),d=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function u(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))}var h={"throw":1,"return":2,"break":3,"continue":3};function f(e){var t,n;return function(i){t||(t={stop:function e(){return n(i.a,2)},"catch":function e(){return i.v},abrupt:function e(e,t){return n(i.a,h[e],t)},delegateYield:function e(e,r,o){return t.resultName=r,n(i.d,l(e),o)},finish:function e(e){return n(i.f,e)}},n=function e(e,n,r){i.p=t.prev,i.n=t.next;try{return e(n,r)}finally{t.next=i.n}}),t.resultName&&(t[t.resultName]=i.v,t.resultName=void 0),t.sent=i.v,t.next=i.n;try{return e.call(this,t)}finally{i.p=t.prev,i.n=t.next}}}return(e.exports=p=function e(){return{wrap:function e(e,n,i,r){return t.w(f(e),n,i,r&&r.reverse())},isGeneratorFunction:u,mark:t.m,awrap:function e(e,t){return new i(e,t)},AsyncIterator:a,async:function e(e,t,n,i,r){return(u(t)?s:o)(f(e),t,n,i,r)},keys:c,values:l}},e.exports.__esModule=true,e.exports["default"]=e.exports)()}e.exports=p,e.exports.__esModule=true,e.exports["default"]=e.exports},99632:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SessionStore=void 0;t.defaultCookies=d;function n(e,t){r(e,t),t.add(e)}function i(e,t,n){r(e,t),t.set(e,n)}function r(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(e,t){return e.get(a(e,t))}function s(e,t,n){return e.set(a(e,t),n),n}function a(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const c=4096;const l=163;const p=c-l;function d(e){const t=e?"__Secure-":"";return{sessionToken:{name:`${t}next-auth.session-token`,options:{httpOnly:true,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}next-auth.callback-url`,options:{httpOnly:true,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}next-auth.csrf-token`,options:{httpOnly:true,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}next-auth.pkce.code_verifier`,options:{httpOnly:true,sameSite:"lax",path:"/",secure:e,maxAge:60*15}},state:{name:`${t}next-auth.state`,options:{httpOnly:true,sameSite:"lax",path:"/",secure:e,maxAge:60*15}},nonce:{name:`${t}next-auth.nonce`,options:{httpOnly:true,sameSite:"lax",path:"/",secure:e}}}}var u=new WeakMap;var h=new WeakMap;var f=new WeakMap;var m=new WeakSet;class g{constructor(e,t,r){n(this,m);i(this,u,{});i(this,h,void 0);i(this,f,void 0);s(f,this,r);s(h,this,e);const{cookies:a}=t;const{name:c}=e;if(typeof(a===null||a===void 0?void 0:a.getAll)==="function"){for(const{name:e,value:t}of a.getAll()){if(e.startsWith(c)){o(u,this)[e]=t}}}else if(a instanceof Map){for(const e of a.keys()){if(e.startsWith(c))o(u,this)[e]=a.get(e)}}else{for(const e in a){if(e.startsWith(c))o(u,this)[e]=a[e]}}}get value(){const e=Object.keys(o(u,this)).sort((e,t)=>{var n,i;const r=parseInt((n=e.split(".").pop())!==null&&n!==void 0?n:"0");const o=parseInt((i=t.split(".").pop())!==null&&i!==void 0?i:"0");return r-o});return e.map(e=>o(u,this)[e]).join("")}chunk(e,t){const n=a(m,this,y).call(this);const i=a(m,this,v).call(this,{name:o(h,this).name,value:e,options:{...o(h,this).options,...t}});for(const e of i){n[e.name]=e}return Object.values(n)}clean(){return Object.values(a(m,this,y).call(this))}}t.SessionStore=g;function v(e){const t=Math.ceil(e.value.length/p);if(t===1){o(u,this)[e.name]=e.value;return[e]}const n=[];for(let i=0;i<t;i++){const t=`${e.name}.${i}`;const r=e.value.substr(i*p,p);n.push({...e,name:t,value:r});o(u,this)[t]=r}o(f,this).debug("CHUNKING_SESSION_COOKIE",{message:`Session cookie exceeds allowed ${c} bytes.`,emptyCookieSize:l,valueSize:e.value.length,chunks:n.map(e=>e.value.length+l)});return n}function y(){const e={};for(const n in o(u,this)){var t;(t=o(u,this))===null||t===void 0||delete t[n];e[n]={name:n,value:"",options:{...o(h,this).options,maxAge:0}}}return e}},99933:(e,t,n)=>{"use strict";Object.defineProperty(t,"B",{value:true});Object.defineProperty(t,"U",{enumerable:true,get:function(){return h}});const i=n(94069);const r=n(23158);const o=n(29294);const s=n(63033);const a=n(84971);const c=n(80023);const l=n(68388);const p=n(76926);const d=n(44523);const u=n(8719);function h(){const e="cookies";const t=o.workAsyncStorage.getStore();const n=s.workUnitAsyncStorage.getStore();if(t){if(n&&n.phase==="after"&&!(0,u.isRequestAPICallableInsideAfter)()){throw Object.defineProperty(new Error(`Route ${t.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:false,configurable:true})}if(t.forceStatic){const e=f();return v(e)}if(n){if(n.type==="cache"){throw Object.defineProperty(new Error(`Route ${t.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:false,configurable:true})}else if(n.type==="unstable-cache"){throw Object.defineProperty(new Error(`Route ${t.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:false,configurable:true})}}if(t.dynamicShouldError){throw Object.defineProperty(new c.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:false,configurable:true})}if(n){if(n.type==="prerender"){return g(t.route,n)}else if(n.type==="prerender-ppr"){(0,a.postponeWithTracking)(t.route,e,n.dynamicTracking)}else if(n.type==="prerender-legacy"){(0,a.throwToInterruptStaticGeneration)(e,t,n)}}(0,a.trackDynamicDataInDynamicRender)(t,n)}const r=(0,s.getExpectedRequestStore)(e);let l;if((0,i.areCookiesMutableInCurrentPhase)(r)){l=r.userspaceMutableCookies}else{l=r.cookies}if(false){}else{return v(l)}}function f(){return i.RequestCookiesAdapter.seal(new r.RequestCookies(new Headers({})))}const m=new WeakMap;function g(e,t){const n=m.get(t);if(n){return n}const i=(0,l.makeHangingPromise)(t.renderSignal,"`cookies()`");m.set(t,i);Object.defineProperties(i,{[Symbol.iterator]:{value:function(){const n="`cookies()[Symbol.iterator]()`";const i=b(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},size:{get(){const n="`cookies().size`";const i=b(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},get:{value:function n(){let n;if(arguments.length===0){n="`cookies().get()`"}else{n=`\`cookies().get(${_(arguments[0])})\``}const i=b(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},getAll:{value:function n(){let n;if(arguments.length===0){n="`cookies().getAll()`"}else{n=`\`cookies().getAll(${_(arguments[0])})\``}const i=b(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},has:{value:function n(){let n;if(arguments.length===0){n="`cookies().has()`"}else{n=`\`cookies().has(${_(arguments[0])})\``}const i=b(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},set:{value:function n(){let n;if(arguments.length===0){n="`cookies().set()`"}else{const e=arguments[0];if(e){n=`\`cookies().set(${_(e)}, ...)\``}else{n="`cookies().set(...)`"}}const i=b(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},delete:{value:function(){let n;if(arguments.length===0){n="`cookies().delete()`"}else if(arguments.length===1){n=`\`cookies().delete(${_(arguments[0])})\``}else{n=`\`cookies().delete(${_(arguments[0])}, ...)\``}const i=b(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},clear:{value:function n(){const n="`cookies().clear()`";const i=b(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}},toString:{value:function n(){const n="`cookies().toString()`";const i=b(e,n);(0,a.abortAndThrowOnSynchronousRequestDataAccess)(e,n,i,t)}}});return i}function v(e){const t=m.get(e);if(t){return t}const n=Promise.resolve(e);m.set(e,n);Object.defineProperties(n,{[Symbol.iterator]:{value:e[Symbol.iterator]?e[Symbol.iterator].bind(e):k.bind(e)},size:{get(){return e.size}},get:{value:e.get.bind(e)},getAll:{value:e.getAll.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},delete:{value:e.delete.bind(e)},clear:{value:typeof e.clear==="function"?e.clear.bind(e):E.bind(e,n)},toString:{value:e.toString.bind(e)}});return n}function y(e,t){const n=m.get(e);if(n){return n}const i=new Promise(t=>(0,d.scheduleImmediate)(()=>t(e)));m.set(e,i);Object.defineProperties(i,{[Symbol.iterator]:{value:function(){const n="`...cookies()` or similar iteration";w(t,n);return e[Symbol.iterator]?e[Symbol.iterator].apply(e,arguments):k.call(e)},writable:false},size:{get(){const n="`cookies().size`";w(t,n);return e.size}},get:{value:function n(){let n;if(arguments.length===0){n="`cookies().get()`"}else{n=`\`cookies().get(${_(arguments[0])})\``}w(t,n);return e.get.apply(e,arguments)},writable:false},getAll:{value:function n(){let n;if(arguments.length===0){n="`cookies().getAll()`"}else{n=`\`cookies().getAll(${_(arguments[0])})\``}w(t,n);return e.getAll.apply(e,arguments)},writable:false},has:{value:function n(){let n;if(arguments.length===0){n="`cookies().has()`"}else{n=`\`cookies().has(${_(arguments[0])})\``}w(t,n);return e.has.apply(e,arguments)},writable:false},set:{value:function n(){let n;if(arguments.length===0){n="`cookies().set()`"}else{const e=arguments[0];if(e){n=`\`cookies().set(${_(e)}, ...)\``}else{n="`cookies().set(...)`"}}w(t,n);return e.set.apply(e,arguments)},writable:false},delete:{value:function(){let n;if(arguments.length===0){n="`cookies().delete()`"}else if(arguments.length===1){n=`\`cookies().delete(${_(arguments[0])})\``}else{n=`\`cookies().delete(${_(arguments[0])}, ...)\``}w(t,n);return e.delete.apply(e,arguments)},writable:false},clear:{value:function n(){const n="`cookies().clear()`";w(t,n);return typeof e.clear==="function"?e.clear.apply(e,arguments):E.call(e,i)},writable:false},toString:{value:function n(){const n="`cookies().toString()` or implicit casting";w(t,n);return e.toString.apply(e,arguments)},writable:false}});return i}function _(e){return typeof e==="object"&&e!==null&&typeof e.name==="string"?`'${e.name}'`:typeof e==="string"?`'${e}'`:"..."}function w(e,t){const n=s.workUnitAsyncStorage.getStore();if(n&&n.type==="request"&&n.prerenderPhase===true){const e=n;(0,a.trackSynchronousRequestDataAccessInDev)(e)}x(e,t)}const x=(0,p.createDedupedByCallsiteServerErrorLoggerDev)(b);function b(e,t){const n=e?`Route "${e}" `:"This route ";return Object.defineProperty(new Error(`${n}used ${t}. `+`\`cookies()\` should be awaited before using its value. `+`Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:false,configurable:true})}function k(){return this.getAll().map(e=>[e.name,e]).values()}function E(e){for(const e of this.getAll()){this.delete(e.name)}return e}},99938:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.JWSSignatureVerificationFailed=t.JWKSTimeout=t.JWKSMultipleMatchingKeys=t.JWKSNoMatchingKey=t.JWKSInvalid=t.JWKInvalid=t.JWTInvalid=t.JWSInvalid=t.JWEInvalid=t.JWEDecompressionFailed=t.JWEDecryptionFailed=t.JOSENotSupported=t.JOSEAlgNotAllowed=t.JWTExpired=t.JWTClaimValidationFailed=t.JOSEError=void 0;class n extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e);this.code="ERR_JOSE_GENERIC";this.name=this.constructor.name;(t=Error.captureStackTrace)===null||t===void 0?void 0:t.call(Error,this,this.constructor)}}t.JOSEError=n;class i extends n{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",n="unspecified"){super(e);this.code="ERR_JWT_CLAIM_VALIDATION_FAILED";this.claim=t;this.reason=n}}t.JWTClaimValidationFailed=i;class r extends n{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",n="unspecified"){super(e);this.code="ERR_JWT_EXPIRED";this.claim=t;this.reason=n}}t.JWTExpired=r;class o extends n{constructor(){super(...arguments);this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}t.JOSEAlgNotAllowed=o;class s extends n{constructor(){super(...arguments);this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}t.JOSENotSupported=s;class a extends n{constructor(){super(...arguments);this.code="ERR_JWE_DECRYPTION_FAILED";this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}t.JWEDecryptionFailed=a;class c extends n{constructor(){super(...arguments);this.code="ERR_JWE_DECOMPRESSION_FAILED";this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}}t.JWEDecompressionFailed=c;class l extends n{constructor(){super(...arguments);this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}t.JWEInvalid=l;class p extends n{constructor(){super(...arguments);this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}t.JWSInvalid=p;class d extends n{constructor(){super(...arguments);this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}t.JWTInvalid=d;class u extends n{constructor(){super(...arguments);this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}t.JWKInvalid=u;class h extends n{constructor(){super(...arguments);this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}t.JWKSInvalid=h;class f extends n{constructor(){super(...arguments);this.code="ERR_JWKS_NO_MATCHING_KEY";this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}t.JWKSNoMatchingKey=f;class m extends n{constructor(){super(...arguments);this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}t.JWKSMultipleMatchingKeys=m;Symbol.asyncIterator;class g extends n{constructor(){super(...arguments);this.code="ERR_JWKS_TIMEOUT";this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}t.JWKSTimeout=g;class v extends n{constructor(){super(...arguments);this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}t.JWSSignatureVerificationFailed=v}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e);var i=t.X(0,[80],()=>n(7097));module.exports=i})();